<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Plutus.Contract.Test.ContractModel.Internal</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">plutus-contract-model-1.2.0.0</span><ul class="links" id="page-menu"><li><a href="src/Plutus.Contract.Test.ContractModel.Internal.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Plutus.Contract.Test.ContractModel.Internal</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#section.orphans">Orphan instances</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides a framework for testing Plutus contracts built on <a href="Test-QuickCheck.html">Test.QuickCheck</a>. The
   testing is model based, so to test a contract you define a type modelling the state of the
   contract (or set of contracts) and provide an instance of the <code>ContractModel</code> class. This
   instance specifies what operations (<code>Action</code>s) the contract supports, how they interact with
   the model state, and how to execute them in the blockchain emulator (<a href="Plutus-Trace-Emulator.html">Plutus.Trace.Emulator</a>).
   Tests are evaluated by running sequences of actions (random or user-specified) in the emulator
   and comparing the state of the blockchain to the model state at the end.</p><p>Test cases are written in the <code>DL</code> monad, which supports mixing fixed sequences of actions with
   random actions, making it easy to write properties like
   <em>it is always possible to get all funds out of the contract</em>.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short">module <a href="Plutus-Contract-Test-ContractModel-Internal-ContractInstance.html">Plutus.Contract.Test.ContractModel.Internal.ContractInstance</a></li><li class="src short"><span class="keyword">pattern</span> <a href="#v:UnderlyingAction">UnderlyingAction</a> :: Action s -&gt; Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s)</li><li class="src short"><span class="keyword">pattern</span> <a href="#v:Unilateral">Unilateral</a> :: Wallet -&gt; Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s)</li><li class="src short"><span class="keyword">data</span> <a href="#t:CoverageOptions">CoverageOptions</a> = <a href="#v:CoverageOptions">CoverageOptions</a> {<ul class="subs"><li><a href="#v:_checkCoverage">_checkCoverage</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:_endpointCoverageReq">_endpointCoverageReq</a> :: ContractInstanceTag -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Double" title="Prelude">Double</a></li><li><a href="#v:_coverageIndex">_coverageIndex</a> :: CoverageIndex</li><li><a href="#v:_coverageIORef">_coverageIORef</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> CoverageData)</li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:WithInstances">WithInstances</a> s = <a href="#v:WithInstances">WithInstances</a> {<ul class="subs"><li><a href="#v:withoutInstances">withoutInstances</a> :: s</li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:CheckableContractModel">CheckableContractModel</a> state = (RunModel state (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:SpecificationEmulatorTrace" title="Plutus.Contract.Test.ContractModel.Internal">SpecificationEmulatorTrace</a> state), <a href="Plutus-Contract-Test-ContractModel-Internal-ContractInstance.html#t:ContractInstanceModel" title="Plutus.Contract.Test.ContractModel.Internal.ContractInstance">ContractInstanceModel</a> state)</li><li class="src short"><span class="keyword">type</span> <a href="#t:EmulatorTraceWithInstances">EmulatorTraceWithInstances</a> s = Eff (State (<a href="Plutus-Contract-Test-ContractModel-Internal-ContractInstance.html#t:Handles" title="Plutus.Contract.Test.ContractModel.Internal.ContractInstance">Handles</a> s) ': EmulatorEffects)</li><li class="src short"><span class="keyword">type</span> <a href="#t:SpecificationEmulatorTrace">SpecificationEmulatorTrace</a> s = Eff (Reader (<a href="Plutus-Contract-Test-ContractModel-Internal-ContractInstance.html#t:Handles" title="Plutus.Contract.Test.ContractModel.Internal.ContractInstance">Handles</a> s) ': BaseEmulatorEffects)</li><li class="src short"><a href="#v:contractHandle">contractHandle</a> :: (<a href="Plutus-Contract-Test-ContractModel-Internal-ContractInstance.html#t:ContractInstanceModel" title="Plutus.Contract.Test.ContractModel.Internal.ContractInstance">ContractInstanceModel</a> state, <a href="../../ghc/html/libraries/base-4.14.3.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> w, <a href="../../ghc/html/libraries/base-4.14.3.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> schema, <a href="../../ghc/html/libraries/base-4.14.3.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> err, <a href="../../ghc/html/libraries/base-4.14.3.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> params) =&gt; <a href="Plutus-Contract-Test-ContractModel-Internal-ContractInstance.html#t:ContractInstanceKey" title="Plutus.Contract.Test.ContractModel.Internal.ContractInstance">ContractInstanceKey</a> state w schema err params -&gt; RunMonad (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:SpecificationEmulatorTrace" title="Plutus.Contract.Test.ContractModel.Internal">SpecificationEmulatorTrace</a> state) (ContractHandle w schema err)</li><li class="src short"><a href="#v:activateWallets">activateWallets</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal-ContractInstance.html#t:ContractInstanceModel" title="Plutus.Contract.Test.ContractModel.Internal.ContractInstance">ContractInstanceModel</a> state =&gt; (<span class="keyword">forall</span> t. HasSymbolicRep t =&gt; Symbolic t -&gt; t) -&gt; [<a href="Plutus-Contract-Test-ContractModel-Internal-ContractInstance.html#t:StartContract" title="Plutus.Contract.Test.ContractModel.Internal.ContractInstance">StartContract</a> state] -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:EmulatorTraceWithInstances" title="Plutus.Contract.Test.ContractModel.Internal">EmulatorTraceWithInstances</a> state ()</li><li class="src short"><a href="#v:instancesForOtherWallets">instancesForOtherWallets</a> :: Wallet -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal-ContractInstance.html#t:Handles" title="Plutus.Contract.Test.ContractModel.Internal.ContractInstance">Handles</a> state -&gt; [ContractInstanceId]</li><li class="src short"><a href="#v:liftSpecificationTrace">liftSpecificationTrace</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:SpecificationEmulatorTrace" title="Plutus.Contract.Test.ContractModel.Internal">SpecificationEmulatorTrace</a> s a -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:EmulatorTraceWithInstances" title="Plutus.Contract.Test.ContractModel.Internal">EmulatorTraceWithInstances</a> s a</li><li class="src short"><a href="#v:delay">delay</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Integer" title="Prelude">Integer</a> -&gt; RunMonad (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:SpecificationEmulatorTrace" title="Plutus.Contract.Test.ContractModel.Internal">SpecificationEmulatorTrace</a> state) ()</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Whitelist">Whitelist</a> = <a href="#v:Whitelist">Whitelist</a> {<ul class="subs"><li><a href="#v:errorPrefixes">errorPrefixes</a> :: Set Text</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:NoLockedFundsProofLight">NoLockedFundsProofLight</a> model = <a href="#v:NoLockedFundsProofLight">NoLockedFundsProofLight</a> {<ul class="subs"><li><a href="#v:nlfplMainStrategy">nlfplMainStrategy</a> :: DL (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> model) ()</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:NoLockedFundsProof">NoLockedFundsProof</a> model = <a href="#v:NoLockedFundsProof">NoLockedFundsProof</a> {<ul class="subs"><li><a href="#v:nlfpMainStrategy">nlfpMainStrategy</a> :: DL (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> model) ()</li><li><a href="#v:nlfpWalletStrategy">nlfpWalletStrategy</a> :: Wallet -&gt; DL (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> model) ()</li><li><a href="#v:nlfpOverhead">nlfpOverhead</a> :: <a href="Plutus-Contract-Test-ContractModel-Interface.html#t:ModelState" title="Plutus.Contract.Test.ContractModel.Interface">ModelState</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> model) -&gt; SymValue</li><li><a href="#v:nlfpErrorMargin">nlfpErrorMargin</a> :: <a href="Plutus-Contract-Test-ContractModel-Interface.html#t:ModelState" title="Plutus.Contract.Test.ContractModel.Interface">ModelState</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> model) -&gt; SymValue</li></ul>}</li><li class="src short"><a href="#v:checkCoverage">checkCoverage</a> :: Lens' <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:coverageIORef">coverageIORef</a> :: Lens' <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a> (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> CoverageData))</li><li class="src short"><a href="#v:coverageIndex">coverageIndex</a> :: Lens' <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a> CoverageIndex</li><li class="src short"><a href="#v:endpointCoverageReq">endpointCoverageReq</a> :: Lens' <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a> (ContractInstanceTag -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Double" title="Prelude">Double</a>)</li><li class="src short"><a href="#v:defaultCoverageOptions">defaultCoverageOptions</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a></li><li class="src short"><a href="#v:defaultCheckOptionsContractModel">defaultCheckOptionsContractModel</a> :: CheckOptions</li><li class="src short"><a href="#v:quickCheckWithCoverage">quickCheckWithCoverage</a> :: Testable prop =&gt; Args -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a> -&gt; (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a> -&gt; prop) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> CoverageReport</li><li class="src short"><a href="#v:quickCheckWithCoverageAndResult">quickCheckWithCoverageAndResult</a> :: Testable prop =&gt; Args -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a> -&gt; (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a> -&gt; prop) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (CoverageReport, Result)</li><li class="src short"><a href="#v:balanceChangePredicate">balanceChangePredicate</a> :: ProtocolParameters -&gt; ContractModelResult state -&gt; Property</li><li class="src short"><a href="#v:threatModelPredicate">threatModelPredicate</a> :: ThreatModel a -&gt; ProtocolParameters -&gt; ContractModelResult state -&gt; Property</li><li class="src short"><a href="#v:checkThreatModel">checkThreatModel</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> state =&gt; ThreatModel a -&gt; Actions (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state) -&gt; Property</li><li class="src short"><a href="#v:checkThreatModelWithOptions">checkThreatModelWithOptions</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> state =&gt; CheckOptions -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a> -&gt; ThreatModel a -&gt; Actions (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state) -&gt; Property</li><li class="src short"><a href="#v:propRunActions_">propRunActions_</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> state =&gt; Actions (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state) -&gt; Property</li><li class="src short"><a href="#v:propRunActions">propRunActions</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> state =&gt; (<a href="Plutus-Contract-Test-ContractModel-Interface.html#t:ModelState" title="Plutus.Contract.Test.ContractModel.Interface">ModelState</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state) -&gt; TracePredicate) -&gt; (ProtocolParameters -&gt; ContractModelResult (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state) -&gt; Property) -&gt; Actions (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state) -&gt; Property</li><li class="src short"><a href="#v:propRunActionsWithOptions">propRunActionsWithOptions</a> :: <span class="keyword">forall</span> state. <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> state =&gt; CheckOptions -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a> -&gt; (<a href="Plutus-Contract-Test-ContractModel-Interface.html#t:ModelState" title="Plutus.Contract.Test.ContractModel.Interface">ModelState</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state) -&gt; TracePredicate) -&gt; (ProtocolParameters -&gt; ContractModelResult (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state) -&gt; Property) -&gt; Actions (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state) -&gt; Property</li><li class="src short"><a href="#v:defaultNLFP">defaultNLFP</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:NoLockedFundsProof" title="Plutus.Contract.Test.ContractModel.Internal">NoLockedFundsProof</a> model</li><li class="src short"><a href="#v:checkNoLockedFundsProof">checkNoLockedFundsProof</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> model =&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:NoLockedFundsProof" title="Plutus.Contract.Test.ContractModel.Internal">NoLockedFundsProof</a> model -&gt; Property</li><li class="src short"><a href="#v:checkNoLockedFundsProofFast">checkNoLockedFundsProofFast</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> model =&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:NoLockedFundsProof" title="Plutus.Contract.Test.ContractModel.Internal">NoLockedFundsProof</a> model -&gt; Property</li><li class="src short"><a href="#v:checkNoLockedFundsProofWithOptions">checkNoLockedFundsProofWithOptions</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> model =&gt; CheckOptions -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:NoLockedFundsProof" title="Plutus.Contract.Test.ContractModel.Internal">NoLockedFundsProof</a> model -&gt; Property</li><li class="src short"><a href="#v:checkNoLockedFundsProofFastWithOptions">checkNoLockedFundsProofFastWithOptions</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> model =&gt; CheckOptions -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:NoLockedFundsProof" title="Plutus.Contract.Test.ContractModel.Internal">NoLockedFundsProof</a> model -&gt; Property</li><li class="src short"><a href="#v:checkNoLockedFundsProof-39-">checkNoLockedFundsProof'</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> model =&gt; (Actions (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> model) -&gt; Property) -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:NoLockedFundsProof" title="Plutus.Contract.Test.ContractModel.Internal">NoLockedFundsProof</a> model -&gt; Property</li><li class="src short"><a href="#v:actionsFromList">actionsFromList</a> :: [Action s] -&gt; Actions s</li><li class="src short"><a href="#v:walletAddress">walletAddress</a> :: Wallet -&gt; AddressInEra Era</li><li class="src short"><a href="#v:addressToWallet">addressToWallet</a> :: AddressInEra Era -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Wallet</li><li class="src short"><a href="#v:checkNoLockedFundsProofLight">checkNoLockedFundsProofLight</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> model =&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:NoLockedFundsProofLight" title="Plutus.Contract.Test.ContractModel.Internal">NoLockedFundsProofLight</a> model -&gt; Property</li><li class="src short"><a href="#v:isAcceptedBy">isAcceptedBy</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Text -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:whitelistOk">whitelistOk</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:mkWhitelist">mkWhitelist</a> :: [Text] -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a></li><li class="src short"><a href="#v:defaultWhitelist">defaultWhitelist</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a></li><li class="src short"><a href="#v:checkErrorWhitelist">checkErrorWhitelist</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> m =&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a> -&gt; Actions (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> m) -&gt; Property</li><li class="src short"><a href="#v:checkErrorWhitelistWithOptions">checkErrorWhitelistWithOptions</a> :: <span class="keyword">forall</span> m. <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> m =&gt; CheckOptions -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a> -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a> -&gt; Actions (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> m) -&gt; Property</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src">module <a href="Plutus-Contract-Test-ContractModel-Internal-ContractInstance.html">Plutus.Contract.Test.ContractModel.Internal.ContractInstance</a></p></div><div class="top"><p class="src"><span class="keyword">pattern</span> <a id="v:UnderlyingAction" class="def">UnderlyingAction</a> :: Action s -&gt; Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#UnderlyingAction" class="link">Source</a> <a href="#v:UnderlyingAction" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">pattern</span> <a id="v:Unilateral" class="def">Unilateral</a> :: Wallet -&gt; Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#Unilateral" class="link">Source</a> <a href="#v:Unilateral" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CoverageOptions" class="def">CoverageOptions</a> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#CoverageOptions" class="link">Source</a> <a href="#t:CoverageOptions" class="selflink">#</a></p><div class="doc"><p>Options for controlling coverage checking requirements</p><ul><li><code><a href="Plutus-Contract-Test-ContractModel-Internal.html#v:checkCoverage" title="Plutus.Contract.Test.ContractModel.Internal">checkCoverage</a></code> tells you whether or not to run the coverage checks at all.</li><li>`endpointCoverageEq instance endpointName` tells us what percentage of tests are required to include
 a call to the endpoint <code>endpointName</code> in the contract at `instance`.</li><li><code>coverIndex</code> is the coverage index obtained from the <code>CompiledCodeIn</code> of the validator.</li></ul></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:CoverageOptions" class="def">CoverageOptions</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:_checkCoverage" class="def">_checkCoverage</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:_endpointCoverageReq" class="def">_endpointCoverageReq</a> :: ContractInstanceTag -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Double" title="Prelude">Double</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:_coverageIndex" class="def">_coverageIndex</a> :: CoverageIndex</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:_coverageIORef" class="def">_coverageIORef</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> CoverageData)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:WithInstances" class="def">WithInstances</a> s <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#WithInstances" class="link">Source</a> <a href="#t:WithInstances" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:WithInstances" class="def">WithInstances</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:withoutInstances" class="def">withoutInstances</a> :: s</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:WithInstances">Instances</h4><details id="i:WithInstances" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithInstances:Eq:1"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (Action s) =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s))</span> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#line-187" class="link">Source</a> <a href="#t:WithInstances" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithInstances:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Plutus-Contract-Test-ContractModel-Internal.html">Plutus.Contract.Test.ContractModel.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) -&gt; Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) -&gt; Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithInstances:Eq:2"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> s =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s)</span> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#line-149" class="link">Source</a> <a href="#t:WithInstances" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithInstances:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Plutus-Contract-Test-ContractModel-Internal.html">Plutus.Contract.Test.ContractModel.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithInstances:Show:3"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (Action s) =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s))</span> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#line-189" class="link">Source</a> <a href="#t:WithInstances" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithInstances:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Plutus-Contract-Test-ContractModel-Internal.html">Plutus.Contract.Test.ContractModel.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s)] -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithInstances:Show:4"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> s =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s)</span> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#line-150" class="link">Source</a> <a href="#t:WithInstances" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithInstances:Show:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Plutus-Contract-Test-ContractModel-Internal.html">Plutus.Contract.Test.ContractModel.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s] -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithInstances:Generic:5"></span> <a href="Plutus-Contract-Test-ContractModel-Interface.html#t:Generic" title="Plutus.Contract.Test.ContractModel.Interface">Generic</a> (Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s))</span> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#line-202" class="link">Source</a> <a href="#t:WithInstances" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithInstances:Generic:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Plutus-Contract-Test-ContractModel-Internal.html">Plutus.Contract.Test.ContractModel.Internal</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s)) :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s)) x <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s)) x -&gt; Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithInstances:Generic:6"></span> <a href="Plutus-Contract-Test-ContractModel-Interface.html#t:Generic" title="Plutus.Contract.Test.ContractModel.Interface">Generic</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s)</span> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#line-149" class="link">Source</a> <a href="#t:WithInstances" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithInstances:Generic:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Plutus-Contract-Test-ContractModel-Internal.html">Plutus.Contract.Test.ContractModel.Internal</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) x <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) x -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithInstances:ContractModel:7"></span> ContractModel s =&gt; ContractModel (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s)</span> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#line-199" class="link">Source</a> <a href="#t:WithInstances" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithInstances:ContractModel:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Plutus-Contract-Test-ContractModel-Internal.html">Plutus.Contract.Test.ContractModel.Internal</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s)</p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:arbitraryAction">arbitraryAction</a> :: <a href="Plutus-Contract-Test-ContractModel-Interface.html#t:ModelState" title="Plutus.Contract.Test.ContractModel.Interface">ModelState</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) -&gt; Gen (Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s))</p><p class="src"><a href="#v:actionName">actionName</a> :: Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a></p><p class="src"><a href="#v:waitProbability">waitProbability</a> :: <a href="Plutus-Contract-Test-ContractModel-Interface.html#t:ModelState" title="Plutus.Contract.Test.ContractModel.Interface">ModelState</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Double" title="Prelude">Double</a></p><p class="src"><a href="#v:arbitraryWaitInterval">arbitraryWaitInterval</a> :: <a href="Plutus-Contract-Test-ContractModel-Interface.html#t:ModelState" title="Plutus.Contract.Test.ContractModel.Interface">ModelState</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) -&gt; Gen SlotNo</p><p class="src"><a href="#v:initialState">initialState</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s</p><p class="src"><a href="#v:precondition">precondition</a> :: <a href="Plutus-Contract-Test-ContractModel-Interface.html#t:ModelState" title="Plutus.Contract.Test.ContractModel.Interface">ModelState</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) -&gt; Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></p><p class="src"><a href="#v:nextReactiveState">nextReactiveState</a> :: SlotNo -&gt; <a href="Plutus-Contract-Test-ContractModel-Interface.html#t:Spec" title="Plutus.Contract.Test.ContractModel.Interface">Spec</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) ()</p><p class="src"><a href="#v:nextState">nextState</a> :: Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) -&gt; <a href="Plutus-Contract-Test-ContractModel-Interface.html#t:Spec" title="Plutus.Contract.Test.ContractModel.Interface">Spec</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) ()</p><p class="src"><a href="#v:shrinkAction">shrinkAction</a> :: <a href="Plutus-Contract-Test-ContractModel-Interface.html#t:ModelState" title="Plutus.Contract.Test.ContractModel.Interface">ModelState</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) -&gt; Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) -&gt; [Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s)]</p><p class="src"><a href="#v:restricted">restricted</a> :: Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithInstances:HasSymbolics:8"></span> <a href="Plutus-Contract-Test-ContractModel-Interface.html#t:HasSymbolics" title="Plutus.Contract.Test.ContractModel.Interface">HasSymbolics</a> (Action s) =&gt; <a href="Plutus-Contract-Test-ContractModel-Interface.html#t:HasSymbolics" title="Plutus.Contract.Test.ContractModel.Interface">HasSymbolics</a> (Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s))</span> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#line-193" class="link">Source</a> <a href="#t:WithInstances" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithInstances:HasSymbolics:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Plutus-Contract-Test-ContractModel-Internal.html">Plutus.Contract.Test.ContractModel.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getAllSymbolics">getAllSymbolics</a> :: Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) -&gt; SymCollectionIndex <a href="#v:getAllSymbolics" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithInstances:RunModel:9"></span> <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> state =&gt; RunModel (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state) (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:EmulatorTraceWithInstances" title="Plutus.Contract.Test.ContractModel.Internal">EmulatorTraceWithInstances</a> state)</span> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#line-152" class="link">Source</a> <a href="#t:WithInstances" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithInstances:RunModel:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Plutus-Contract-Test-ContractModel-Internal.html">Plutus.Contract.Test.ContractModel.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:perform">perform</a> :: <a href="Plutus-Contract-Test-ContractModel-Interface.html#t:ModelState" title="Plutus.Contract.Test.ContractModel.Interface">ModelState</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state) -&gt; Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state) -&gt; (<span class="keyword">forall</span> t. HasSymbolicRep t =&gt; Symbolic t -&gt; t) -&gt; RunMonad (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:EmulatorTraceWithInstances" title="Plutus.Contract.Test.ContractModel.Internal">EmulatorTraceWithInstances</a> state) ()</p><p class="src"><a href="#v:monitoring">monitoring</a> :: (<a href="Plutus-Contract-Test-ContractModel-Interface.html#t:ModelState" title="Plutus.Contract.Test.ContractModel.Interface">ModelState</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state), <a href="Plutus-Contract-Test-ContractModel-Interface.html#t:ModelState" title="Plutus.Contract.Test.ContractModel.Interface">ModelState</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state)) -&gt; Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state) -&gt; (<span class="keyword">forall</span> t. HasSymbolicRep t =&gt; Symbolic t -&gt; t) -&gt; SymIndex -&gt; Property -&gt; Property</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithInstances:Rep:10"></span> <span class="keyword">type</span> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s))</span> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#line-202" class="link">Source</a> <a href="#t:WithInstances" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithInstances:Rep:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Plutus-Contract-Test-ContractModel-Internal.html">Plutus.Contract.Test.ContractModel.Internal</a></p> <div class="src"><span class="keyword">type</span> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s)) = <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;Action&quot; &quot;Plutus.Contract.Test.ContractModel.Internal&quot; &quot;plutus-contract-model-1.2.0.0-AT5Aekx0s4LCgIL1y0MF95&quot; '<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;UnderlyingAction&quot; '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (Action s))) <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;Unilateral&quot; '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> Wallet)))</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithInstances:Rep:11"></span> <span class="keyword">type</span> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s)</span> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#line-149" class="link">Source</a> <a href="#t:WithInstances" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithInstances:Rep:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Plutus-Contract-Test-ContractModel-Internal.html">Plutus.Contract.Test.ContractModel.Internal</a></p> <div class="src"><span class="keyword">type</span> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) = <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;WithInstances&quot; &quot;Plutus.Contract.Test.ContractModel.Internal&quot; &quot;plutus-contract-model-1.2.0.0-AT5Aekx0s4LCgIL1y0MF95&quot; '<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#v:True" title="Data.Bool">True</a>) (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;WithInstances&quot; '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#v:True" title="Data.Bool">True</a>) (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> &quot;withoutInstances&quot;) '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> s)))</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithInstances:Action:12"></span> <span class="keyword">data</span> Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s)</span> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#line-200" class="link">Source</a> <a href="#t:WithInstances" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithInstances:Action:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Plutus-Contract-Test-ContractModel-Internal.html">Plutus.Contract.Test.ContractModel.Internal</a></p> <div class="src"><span class="keyword">data</span> Action (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> s) <ul class="inst"><li class="inst">= <a id="v:UnderlyingAction" class="def">UnderlyingAction</a> (Action s)</li><li class="inst">| <a id="v:Unilateral" class="def">Unilateral</a> Wallet</li></ul></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CheckableContractModel" class="def">CheckableContractModel</a> state = (RunModel state (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:SpecificationEmulatorTrace" title="Plutus.Contract.Test.ContractModel.Internal">SpecificationEmulatorTrace</a> state), <a href="Plutus-Contract-Test-ContractModel-Internal-ContractInstance.html#t:ContractInstanceModel" title="Plutus.Contract.Test.ContractModel.Internal.ContractInstance">ContractInstanceModel</a> state) <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#CheckableContractModel" class="link">Source</a> <a href="#t:CheckableContractModel" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:EmulatorTraceWithInstances" class="def">EmulatorTraceWithInstances</a> s = Eff (State (<a href="Plutus-Contract-Test-ContractModel-Internal-ContractInstance.html#t:Handles" title="Plutus.Contract.Test.ContractModel.Internal.ContractInstance">Handles</a> s) ': EmulatorEffects) <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#EmulatorTraceWithInstances" class="link">Source</a> <a href="#t:EmulatorTraceWithInstances" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:SpecificationEmulatorTrace" class="def">SpecificationEmulatorTrace</a> s = Eff (Reader (<a href="Plutus-Contract-Test-ContractModel-Internal-ContractInstance.html#t:Handles" title="Plutus.Contract.Test.ContractModel.Internal.ContractInstance">Handles</a> s) ': BaseEmulatorEffects) <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#SpecificationEmulatorTrace" class="link">Source</a> <a href="#t:SpecificationEmulatorTrace" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:contractHandle" class="def">contractHandle</a> :: (<a href="Plutus-Contract-Test-ContractModel-Internal-ContractInstance.html#t:ContractInstanceModel" title="Plutus.Contract.Test.ContractModel.Internal.ContractInstance">ContractInstanceModel</a> state, <a href="../../ghc/html/libraries/base-4.14.3.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> w, <a href="../../ghc/html/libraries/base-4.14.3.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> schema, <a href="../../ghc/html/libraries/base-4.14.3.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> err, <a href="../../ghc/html/libraries/base-4.14.3.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> params) =&gt; <a href="Plutus-Contract-Test-ContractModel-Internal-ContractInstance.html#t:ContractInstanceKey" title="Plutus.Contract.Test.ContractModel.Internal.ContractInstance">ContractInstanceKey</a> state w schema err params -&gt; RunMonad (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:SpecificationEmulatorTrace" title="Plutus.Contract.Test.ContractModel.Internal">SpecificationEmulatorTrace</a> state) (ContractHandle w schema err) <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#contractHandle" class="link">Source</a> <a href="#v:contractHandle" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:activateWallets" class="def">activateWallets</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal-ContractInstance.html#t:ContractInstanceModel" title="Plutus.Contract.Test.ContractModel.Internal.ContractInstance">ContractInstanceModel</a> state =&gt; (<span class="keyword">forall</span> t. HasSymbolicRep t =&gt; Symbolic t -&gt; t) -&gt; [<a href="Plutus-Contract-Test-ContractModel-Internal-ContractInstance.html#t:StartContract" title="Plutus.Contract.Test.ContractModel.Internal.ContractInstance">StartContract</a> state] -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:EmulatorTraceWithInstances" title="Plutus.Contract.Test.ContractModel.Internal">EmulatorTraceWithInstances</a> state () <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#activateWallets" class="link">Source</a> <a href="#v:activateWallets" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:instancesForOtherWallets" class="def">instancesForOtherWallets</a> :: Wallet -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal-ContractInstance.html#t:Handles" title="Plutus.Contract.Test.ContractModel.Internal.ContractInstance">Handles</a> state -&gt; [ContractInstanceId] <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#instancesForOtherWallets" class="link">Source</a> <a href="#v:instancesForOtherWallets" class="selflink">#</a></p><div class="doc"><p>Used to freeze other wallets when checking a <code><a href="Plutus-Contract-Test-ContractModel-Internal.html#t:NoLockedFundsProof" title="Plutus.Contract.Test.ContractModel.Internal">NoLockedFundsProof</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:liftSpecificationTrace" class="def">liftSpecificationTrace</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:SpecificationEmulatorTrace" title="Plutus.Contract.Test.ContractModel.Internal">SpecificationEmulatorTrace</a> s a -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:EmulatorTraceWithInstances" title="Plutus.Contract.Test.ContractModel.Internal">EmulatorTraceWithInstances</a> s a <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#liftSpecificationTrace" class="link">Source</a> <a href="#v:liftSpecificationTrace" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:delay" class="def">delay</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Integer" title="Prelude">Integer</a> -&gt; RunMonad (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:SpecificationEmulatorTrace" title="Plutus.Contract.Test.ContractModel.Internal">SpecificationEmulatorTrace</a> state) () <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#delay" class="link">Source</a> <a href="#v:delay" class="selflink">#</a></p><div class="doc"><p>`delay n` delays emulator execution by <code>n</code> slots</p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Whitelist" class="def">Whitelist</a> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#Whitelist" class="link">Source</a> <a href="#t:Whitelist" class="selflink">#</a></p><div class="doc"><p>A whitelist entry tells you what final log entry prefixes
 are acceptable for a given error</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Whitelist" class="def">Whitelist</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:errorPrefixes" class="def">errorPrefixes</a> :: Set Text</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Whitelist">Instances</h4><details id="i:Whitelist" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Whitelist:Semigroup:1"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a></span> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#line-548" class="link">Source</a> <a href="#t:Whitelist" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Whitelist:Semigroup:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Plutus-Contract-Test-ContractModel-Internal.html">Plutus.Contract.Test.ContractModel.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a> -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a> -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a> -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a> -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Whitelist:Monoid:2"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a></span> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#line-551" class="link">Source</a> <a href="#t:Whitelist" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Whitelist:Monoid:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Plutus-Contract-Test-ContractModel-Internal.html">Plutus.Contract.Test.ContractModel.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a> -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a> -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a>] -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NoLockedFundsProofLight" class="def">NoLockedFundsProofLight</a> model <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#NoLockedFundsProofLight" class="link">Source</a> <a href="#t:NoLockedFundsProofLight" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NoLockedFundsProofLight" class="def">NoLockedFundsProofLight</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:nlfplMainStrategy" class="def">nlfplMainStrategy</a> :: DL (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> model) ()</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NoLockedFundsProof" class="def">NoLockedFundsProof</a> model <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#NoLockedFundsProof" class="link">Source</a> <a href="#t:NoLockedFundsProof" class="selflink">#</a></p><div class="doc"><p>A &quot;proof&quot; that you can always recover the funds locked by a contract. The first component is
   a strategy that from any state of the contract can get all the funds out. The second component
   is a strategy for each wallet that from the same state, shows how that wallet can recover the
   same (or bigger) amount as using the first strategy, without relying on any actions being taken
   by the other wallets.</p><p>For instance, in a two player game where each player bets some amount of funds and the winner
   gets the pot, there needs to be a mechanism for the players to recover their bid if the other
   player simply walks away (perhaps after realising the game is lost). If not, it won't be
   possible to construct a <code><a href="Plutus-Contract-Test-ContractModel-Internal.html#t:NoLockedFundsProof" title="Plutus.Contract.Test.ContractModel.Internal">NoLockedFundsProof</a></code> that works in a state where both players need to
   move before any funds can be collected.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NoLockedFundsProof" class="def">NoLockedFundsProof</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:nlfpMainStrategy" class="def">nlfpMainStrategy</a> :: DL (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> model) ()</dfn><div class="doc"><p>Strategy to recover all funds from the contract in any reachable state.</p></div></li><li><dfn class="src"><a id="v:nlfpWalletStrategy" class="def">nlfpWalletStrategy</a> :: Wallet -&gt; DL (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> model) ()</dfn><div class="doc"><p>A strategy for each wallet to recover as much (or more) funds as the main strategy would
   give them in a given state, without the assistance of any other wallet.</p></div></li><li><dfn class="src"><a id="v:nlfpOverhead" class="def">nlfpOverhead</a> :: <a href="Plutus-Contract-Test-ContractModel-Interface.html#t:ModelState" title="Plutus.Contract.Test.ContractModel.Interface">ModelState</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> model) -&gt; SymValue</dfn><div class="doc"><p>An initial amount of overhead value that may be lost - e.g. setup fees for scripts that
 can't be recovered.</p></div></li><li><dfn class="src"><a id="v:nlfpErrorMargin" class="def">nlfpErrorMargin</a> :: <a href="Plutus-Contract-Test-ContractModel-Interface.html#t:ModelState" title="Plutus.Contract.Test.ContractModel.Interface">ModelState</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> model) -&gt; SymValue</dfn><div class="doc"><p>The total amount of margin for error in the value collected by the WalletStrategy compared
 to the MainStrategy. This is useful if your contract contains rounding code that makes the order
 of operations have a small but predictable effect on the value collected by different wallets.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:checkCoverage" class="def">checkCoverage</a> :: Lens' <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#checkCoverage" class="link">Source</a> <a href="#v:checkCoverage" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:coverageIORef" class="def">coverageIORef</a> :: Lens' <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a> (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> CoverageData)) <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#coverageIORef" class="link">Source</a> <a href="#v:coverageIORef" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:coverageIndex" class="def">coverageIndex</a> :: Lens' <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a> CoverageIndex <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#coverageIndex" class="link">Source</a> <a href="#v:coverageIndex" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:endpointCoverageReq" class="def">endpointCoverageReq</a> :: Lens' <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a> (ContractInstanceTag -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Double" title="Prelude">Double</a>) <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#endpointCoverageReq" class="link">Source</a> <a href="#v:endpointCoverageReq" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:defaultCoverageOptions" class="def">defaultCoverageOptions</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#defaultCoverageOptions" class="link">Source</a> <a href="#v:defaultCoverageOptions" class="selflink">#</a></p><div class="doc"><p>Default coverage checking options are:
 * not to check coverage
 * set the requriements for every endpoint to 20% and
 * not to cover any source locations in the validator scripts.</p></div></div><div class="top"><p class="src"><a id="v:defaultCheckOptionsContractModel" class="def">defaultCheckOptionsContractModel</a> :: CheckOptions <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#defaultCheckOptionsContractModel" class="link">Source</a> <a href="#v:defaultCheckOptionsContractModel" class="selflink">#</a></p><div class="doc"><p>Default check options that include a large amount of Ada in the initial distributions to avoid having
 to write <code>ContractModel</code>s that keep track of balances.</p></div></div><div class="top"><p class="src"><a id="v:quickCheckWithCoverage" class="def">quickCheckWithCoverage</a> :: Testable prop =&gt; Args -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a> -&gt; (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a> -&gt; prop) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> CoverageReport <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#quickCheckWithCoverage" class="link">Source</a> <a href="#v:quickCheckWithCoverage" class="selflink">#</a></p><div class="doc"><p>Run QuickCheck on a property that tracks coverage and print its coverage report.</p></div></div><div class="top"><p class="src"><a id="v:quickCheckWithCoverageAndResult" class="def">quickCheckWithCoverageAndResult</a> :: Testable prop =&gt; Args -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a> -&gt; (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a> -&gt; prop) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (CoverageReport, Result) <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#quickCheckWithCoverageAndResult" class="link">Source</a> <a href="#v:quickCheckWithCoverageAndResult" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:balanceChangePredicate" class="def">balanceChangePredicate</a> :: ProtocolParameters -&gt; ContractModelResult state -&gt; Property <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#balanceChangePredicate" class="link">Source</a> <a href="#v:balanceChangePredicate" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:threatModelPredicate" class="def">threatModelPredicate</a> :: ThreatModel a -&gt; ProtocolParameters -&gt; ContractModelResult state -&gt; Property <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#threatModelPredicate" class="link">Source</a> <a href="#v:threatModelPredicate" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:checkThreatModel" class="def">checkThreatModel</a> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#checkThreatModel" class="link">Source</a> <a href="#v:checkThreatModel" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> state</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; ThreatModel a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; Actions (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state)</td><td class="doc"><p>The actions to run</p></td></tr><tr><td class="src">-&gt; Property</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Check a threat model on all transactions produced by the given actions.</p></div></div><div class="top"><p class="src"><a id="v:checkThreatModelWithOptions" class="def">checkThreatModelWithOptions</a> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#checkThreatModelWithOptions" class="link">Source</a> <a href="#v:checkThreatModelWithOptions" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> state</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; CheckOptions</td><td class="doc"><p>Emulator options</p></td></tr><tr><td class="src">-&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a></td><td class="doc"><p>Coverage options</p></td></tr><tr><td class="src">-&gt; ThreatModel a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; Actions (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state)</td><td class="doc"><p>The actions to run</p></td></tr><tr><td class="src">-&gt; Property</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Check a threat model on all transactions produced by the given actions.</p></div></div><div class="top"><p class="src"><a id="v:propRunActions_" class="def">propRunActions_</a> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#propRunActions_" class="link">Source</a> <a href="#v:propRunActions_" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> state</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; Actions (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state)</td><td class="doc"><p>The actions to run</p></td></tr><tr><td class="src">-&gt; Property</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Run a <code>Actions</code> in the emulator and check that the model and the emulator agree on the final
   wallet balance changes. Equivalent to</p><pre>propRunActions_ hs actions = <code><a href="Plutus-Contract-Test-ContractModel-Internal.html#v:propRunActions" title="Plutus.Contract.Test.ContractModel.Internal">propRunActions</a></code> hs (<code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Function.html#v:const" title="Data.Function">const</a></code> <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Function.html#v:-36-" title="Data.Function">$</a></code> <code><a href="../../ghc/html/libraries/base-4.14.3.0/Control-Applicative.html#v:pure" title="Control.Applicative">pure</a></code> <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#v:True" title="Data.Bool">True</a></code>) actions
</pre></div></div><div class="top"><p class="src"><a id="v:propRunActions" class="def">propRunActions</a> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#propRunActions" class="link">Source</a> <a href="#v:propRunActions" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> state</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<a href="Plutus-Contract-Test-ContractModel-Interface.html#t:ModelState" title="Plutus.Contract.Test.ContractModel.Interface">ModelState</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state) -&gt; TracePredicate)</td><td class="doc"><p>Predicate to check at the end</p></td></tr><tr><td class="src">-&gt; (ProtocolParameters -&gt; ContractModelResult (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state) -&gt; Property)</td><td class="doc"><p>Predicate to run on the contract model</p></td></tr><tr><td class="src">-&gt; Actions (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state)</td><td class="doc"><p>The actions to run</p></td></tr><tr><td class="src">-&gt; Property</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Run a <code>Actions</code> in the emulator and check that the model and the emulator agree on the final
   wallet balance changes, and that the given <code>TracePredicate</code> holds at the end. Equivalent to:</p><pre>propRunActions = <code><a href="Plutus-Contract-Test-ContractModel-Internal.html#v:propRunActionsWithOptions" title="Plutus.Contract.Test.ContractModel.Internal">propRunActionsWithOptions</a></code> <code><a href="Plutus-Contract-Test-ContractModel-Internal.html#v:defaultCheckOptionsContractModel" title="Plutus.Contract.Test.ContractModel.Internal">defaultCheckOptionsContractModel</a></code> <code><a href="Plutus-Contract-Test-ContractModel-Internal.html#v:defaultCoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">defaultCoverageOptions</a></code>
</pre></div></div><div class="top"><p class="src"><a id="v:propRunActionsWithOptions" class="def">propRunActionsWithOptions</a> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#propRunActionsWithOptions" class="link">Source</a> <a href="#v:propRunActionsWithOptions" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> state. <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> state</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; CheckOptions</td><td class="doc"><p>Emulator options</p></td></tr><tr><td class="src">-&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a></td><td class="doc"><p>Coverage options</p></td></tr><tr><td class="src">-&gt; (<a href="Plutus-Contract-Test-ContractModel-Interface.html#t:ModelState" title="Plutus.Contract.Test.ContractModel.Interface">ModelState</a> (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state) -&gt; TracePredicate)</td><td class="doc"><p>Predicate to check at the end of execution</p></td></tr><tr><td class="src">-&gt; (ProtocolParameters -&gt; ContractModelResult (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state) -&gt; Property)</td><td class="doc"><p>Predicate to run on the contract model</p></td></tr><tr><td class="src">-&gt; Actions (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> state)</td><td class="doc"><p>The actions to run</p></td></tr><tr><td class="src">-&gt; Property</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:defaultNLFP" class="def">defaultNLFP</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:NoLockedFundsProof" title="Plutus.Contract.Test.ContractModel.Internal">NoLockedFundsProof</a> model <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#defaultNLFP" class="link">Source</a> <a href="#v:defaultNLFP" class="selflink">#</a></p><div class="doc"><p>The default skeleton of a NoLockedFundsProof - doesn't permit any overhead or error margin.</p></div></div><div class="top"><p class="src"><a id="v:checkNoLockedFundsProof" class="def">checkNoLockedFundsProof</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> model =&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:NoLockedFundsProof" title="Plutus.Contract.Test.ContractModel.Internal">NoLockedFundsProof</a> model -&gt; Property <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#checkNoLockedFundsProof" class="link">Source</a> <a href="#v:checkNoLockedFundsProof" class="selflink">#</a></p><div class="doc"><p>Check a <code><a href="Plutus-Contract-Test-ContractModel-Internal.html#t:NoLockedFundsProof" title="Plutus.Contract.Test.ContractModel.Internal">NoLockedFundsProof</a></code>. Each test will generate an arbitrary sequence of actions
   (<code><a href="Plutus-Contract-Test-ContractModel-Interface.html#v:anyActions_" title="Plutus.Contract.Test.ContractModel.Interface">anyActions_</a></code>) and ask the <code><a href="Plutus-Contract-Test-ContractModel-Internal.html#v:nlfpMainStrategy" title="Plutus.Contract.Test.ContractModel.Internal">nlfpMainStrategy</a></code> to recover all funds locked by the contract
   after performing those actions. This results in some distribution of the contract funds to the
   wallets, and the test then asks each <code><a href="Plutus-Contract-Test-ContractModel-Internal.html#v:nlfpWalletStrategy" title="Plutus.Contract.Test.ContractModel.Internal">nlfpWalletStrategy</a></code> to show how to recover their
   allotment of funds without any assistance from the other wallets (assuming the main strategy
   did not execute). When executing wallet strategies, the off-chain instances for other wallets
   are killed and their private keys are deleted from the emulator state.</p></div></div><div class="top"><p class="src"><a id="v:checkNoLockedFundsProofFast" class="def">checkNoLockedFundsProofFast</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> model =&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:NoLockedFundsProof" title="Plutus.Contract.Test.ContractModel.Internal">NoLockedFundsProof</a> model -&gt; Property <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#checkNoLockedFundsProofFast" class="link">Source</a> <a href="#v:checkNoLockedFundsProofFast" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:checkNoLockedFundsProofWithOptions" class="def">checkNoLockedFundsProofWithOptions</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> model =&gt; CheckOptions -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:NoLockedFundsProof" title="Plutus.Contract.Test.ContractModel.Internal">NoLockedFundsProof</a> model -&gt; Property <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#checkNoLockedFundsProofWithOptions" class="link">Source</a> <a href="#v:checkNoLockedFundsProofWithOptions" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:checkNoLockedFundsProofFastWithOptions" class="def">checkNoLockedFundsProofFastWithOptions</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> model =&gt; CheckOptions -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:NoLockedFundsProof" title="Plutus.Contract.Test.ContractModel.Internal">NoLockedFundsProof</a> model -&gt; Property <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#checkNoLockedFundsProofFastWithOptions" class="link">Source</a> <a href="#v:checkNoLockedFundsProofFastWithOptions" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:checkNoLockedFundsProof-39-" class="def">checkNoLockedFundsProof'</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> model =&gt; (Actions (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> model) -&gt; Property) -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:NoLockedFundsProof" title="Plutus.Contract.Test.ContractModel.Internal">NoLockedFundsProof</a> model -&gt; Property <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#checkNoLockedFundsProof%27" class="link">Source</a> <a href="#v:checkNoLockedFundsProof-39-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:actionsFromList" class="def">actionsFromList</a> :: [Action s] -&gt; Actions s <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#actionsFromList" class="link">Source</a> <a href="#v:actionsFromList" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:walletAddress" class="def">walletAddress</a> :: Wallet -&gt; AddressInEra Era <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#walletAddress" class="link">Source</a> <a href="#v:walletAddress" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:addressToWallet" class="def">addressToWallet</a> :: AddressInEra Era -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Wallet <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#addressToWallet" class="link">Source</a> <a href="#v:addressToWallet" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:checkNoLockedFundsProofLight" class="def">checkNoLockedFundsProofLight</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> model =&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:NoLockedFundsProofLight" title="Plutus.Contract.Test.ContractModel.Internal">NoLockedFundsProofLight</a> model -&gt; Property <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#checkNoLockedFundsProofLight" class="link">Source</a> <a href="#v:checkNoLockedFundsProofLight" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isAcceptedBy" class="def">isAcceptedBy</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Text -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#isAcceptedBy" class="link">Source</a> <a href="#v:isAcceptedBy" class="selflink">#</a></p><div class="doc"><p>Check that the last entry in a log is accepted by a whitelist entry</p></div></div><div class="top"><p class="src"><a id="v:whitelistOk" class="def">whitelistOk</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#whitelistOk" class="link">Source</a> <a href="#v:whitelistOk" class="selflink">#</a></p><div class="doc"><p>Check that a whitelist does not accept any partial functions</p></div></div><div class="top"><p class="src"><a id="v:mkWhitelist" class="def">mkWhitelist</a> :: [Text] -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#mkWhitelist" class="link">Source</a> <a href="#v:mkWhitelist" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:defaultWhitelist" class="def">defaultWhitelist</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#defaultWhitelist" class="link">Source</a> <a href="#v:defaultWhitelist" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:checkErrorWhitelist" class="def">checkErrorWhitelist</a> :: <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> m =&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a> -&gt; Actions (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> m) -&gt; Property <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#checkErrorWhitelist" class="link">Source</a> <a href="#v:checkErrorWhitelist" class="selflink">#</a></p><div class="doc"><p>Check that running a contract model does not result in validation
 failures that are not accepted by the whitelist.</p></div></div><div class="top"><p class="src"><a id="v:checkErrorWhitelistWithOptions" class="def">checkErrorWhitelistWithOptions</a> :: <span class="keyword">forall</span> m. <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CheckableContractModel" title="Plutus.Contract.Test.ContractModel.Internal">CheckableContractModel</a> m =&gt; CheckOptions -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:CoverageOptions" title="Plutus.Contract.Test.ContractModel.Internal">CoverageOptions</a> -&gt; <a href="Plutus-Contract-Test-ContractModel-Internal.html#t:Whitelist" title="Plutus.Contract.Test.ContractModel.Internal">Whitelist</a> -&gt; Actions (<a href="Plutus-Contract-Test-ContractModel-Internal.html#t:WithInstances" title="Plutus.Contract.Test.ContractModel.Internal">WithInstances</a> m) -&gt; Property <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#checkErrorWhitelistWithOptions" class="link">Source</a> <a href="#v:checkErrorWhitelistWithOptions" class="selflink">#</a></p><div class="doc"><p>Check that running a contract model does not result in validation
 failures that are not accepted by the whitelist.</p></div></div><h1>Orphan instances</h1><div id="section.orphans"><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:HasVariables:HasVariables:1"></span> HasVariables Wallet</span> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#line-197" class="link">Source</a> <a href="#v:-36-fHasVariablesWallet" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:HasVariables:HasVariables:1"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getAllVariables">getAllVariables</a> :: Wallet -&gt; Set (Any Var)</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:IsRunnable:IsRunnable:2"></span> (HasChainIndex (Eff effs), Member Waiting effs) =&gt; IsRunnable (Eff effs)</span> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#line-182" class="link">Source</a> <a href="#v:-36-fIsRunnableEff" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:IsRunnable:IsRunnable:2"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:awaitSlot">awaitSlot</a> :: SlotNo -&gt; Eff effs ()</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:HasChainIndex:HasChainIndex:3"></span> Member EmulatorControl effs =&gt; HasChainIndex (Eff effs)</span> <a href="src/Plutus.Contract.Test.ContractModel.Internal.html#line-172" class="link">Source</a> <a href="#v:-36-fHasChainIndexEff" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:HasChainIndex:HasChainIndex:3"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getChainIndex">getChainIndex</a> :: Eff effs ChainIndex</p><p class="src"><a href="#v:getChainState">getChainState</a> :: Eff effs ChainState</p></div></details></td></tr></table></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>