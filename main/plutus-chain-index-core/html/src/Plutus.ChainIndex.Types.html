<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="%24con2tag_13h1Br7v26hKTCepMNq7Ge"><span id="%24con2tag_2l78Kgy2pub2laSEgnq4j4"><span id="%24con2tag_A7jNpAsnHjCCcUsl2Km5ad"></span></span></span><span class="hs-pragma">{-# LANGUAGE DeriveAnyClass    #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DerivingVia       #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE GADTs             #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase        #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns    #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards   #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE Strict            #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE TemplateHaskell   #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications  #-}</span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-orphans #-}</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-comment">{-| Misc. types used in this package
-}</span><span>
</span><span id="line-17"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Plutus.ChainIndex.Types</span><span class="hs-special">(</span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTx"><span class="hs-identifier">ChainIndexTx</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOutputs"><span class="hs-identifier">ChainIndexTxOutputs</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#chainIndexTxOutputs"><span class="hs-identifier">chainIndexTxOutputs</span></a></span><span>
</span><span id="line-21"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOut"><span class="hs-identifier">ChainIndexTxOut</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ReferenceScript"><span class="hs-identifier">ReferenceScript</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">BlockId</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#blockId"><span class="hs-identifier">blockId</span></a></span><span>
</span><span id="line-25"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Tip"><span class="hs-identifier">Tip</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Point"><span class="hs-identifier">Point</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#pointsToTip"><span class="hs-identifier">pointsToTip</span></a></span><span>
</span><span id="line-28"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#tipAsPoint"><span class="hs-identifier">tipAsPoint</span></a></span><span>
</span><span id="line-29"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#_PointAtGenesis"><span class="hs-identifier">_PointAtGenesis</span></a></span><span>
</span><span id="line-30"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#_Point"><span class="hs-identifier">_Point</span></a></span><span>
</span><span id="line-31"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxValidity"><span class="hs-identifier">TxValidity</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxStatus"><span class="hs-identifier">TxStatus</span></a></span><span>
</span><span id="line-33"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxOutStatus"><span class="hs-identifier">TxOutStatus</span></a></span><span>
</span><span id="line-34"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#RollbackState"><span class="hs-identifier">RollbackState</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxOutState"><span class="hs-identifier">TxOutState</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#liftTxOutStatus"><span class="hs-identifier">liftTxOutStatus</span></a></span><span>
</span><span id="line-37"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#txOutStatusTxOutState"><span class="hs-identifier">txOutStatusTxOutState</span></a></span><span>
</span><span id="line-38"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#BlockNumber"><span class="hs-identifier">BlockNumber</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Depth"><span class="hs-identifier">Depth</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Diagnostics"><span class="hs-identifier">Diagnostics</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxConfirmedState"><span class="hs-identifier">TxConfirmedState</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxStatusFailure"><span class="hs-identifier">TxStatusFailure</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxIdState"><span class="hs-identifier">TxIdState</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxUtxoBalance"><span class="hs-identifier">TxUtxoBalance</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#tubUnspentOutputs"><span class="hs-identifier">tubUnspentOutputs</span></a></span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#tubUnmatchedSpentInputs"><span class="hs-identifier">tubUnmatchedSpentInputs</span></a></span><span>
</span><span id="line-47"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxOutBalance"><span class="hs-identifier">TxOutBalance</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#tobUnspentOutputs"><span class="hs-identifier">tobUnspentOutputs</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#tobSpentOutputs"><span class="hs-identifier">tobSpentOutputs</span></a></span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainSyncBlock"><span class="hs-identifier">ChainSyncBlock</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxProcessOption"><span class="hs-identifier">TxProcessOption</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Lenses</span></span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#citxTxId"><span class="hs-identifier">citxTxId</span></a></span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#citxInputs"><span class="hs-identifier">citxInputs</span></a></span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#citxOutputs"><span class="hs-identifier">citxOutputs</span></a></span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#citxValidRange"><span class="hs-identifier">citxValidRange</span></a></span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#citxData"><span class="hs-identifier">citxData</span></a></span><span>
</span><span id="line-58"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#citxRedeemers"><span class="hs-identifier">citxRedeemers</span></a></span><span>
</span><span id="line-59"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#citxScripts"><span class="hs-identifier">citxScripts</span></a></span><span>
</span><span id="line-60"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#citxCardanoTx"><span class="hs-identifier">citxCardanoTx</span></a></span><span>
</span><span id="line-61"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#_InvalidTx"><span class="hs-identifier">_InvalidTx</span></a></span><span>
</span><span id="line-62"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#_ValidTx"><span class="hs-identifier">_ValidTx</span></a></span><span>
</span><span id="line-63"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#fromReferenceScript"><span class="hs-identifier">fromReferenceScript</span></a></span><span>
</span><span id="line-64"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Api</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">C</span></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Codec.Serialise</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Serialise</span></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Codec.Serialise</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">CBOR</span></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Codec.Serialise.Class</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Serialise</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">decode</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">encode</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Codec.Serialise.Decoding</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">decodeListLen</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">decodeWord</span></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Codec.Serialise.Encoding</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">encodeListLen</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">encodeWord</span></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Lens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Traversal'</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">makeLenses</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">makePrisms</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">traversal</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator">(&amp;)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(.~)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(?~)</span></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">void</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Crypto.Hash</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">SHA256</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">hash</span></span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">parseJSON</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ToJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">toJSON</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">object</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(.!=)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(.:)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(.:?)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(.=)</span></span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Aeson</span></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson.KeyMap</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Aeson</span></span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteArray</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BA</span></span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Lazy</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BSL</span></span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Default</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Default</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.HashMap.Strict.InsOrd</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">InsOrdMap</span></span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map.Strict</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Map</span></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map.Strict</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Monoid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Last</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Sum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.OpenApi</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">NamedSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">NamedSchema</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">OpenApiType</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">OpenApiObject</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">byteSchema</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">declareSchemaRef</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">properties</span></span><span class="hs-special">,</span><span>
</span><span id="line-86"></span><span>                     </span><span class="annot"><span class="hs-identifier">required</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">sketchSchema</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">type_</span></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.OpenApi</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">OpenApi</span></span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Semigroup.Generic</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">GenericSemigroupMonoid</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Set</span></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Typeable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Proxy</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Typeable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Word</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Word64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">GHC.Generics</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Ledger</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">CardanoAddress</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">CardanoTx</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Language</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">SlotRange</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">TxOutRef</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Versioned</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">toPlutusAddress</span></span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Ledger.Blockchain</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">BlockId</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Ledger.Blockchain</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Ledger</span></span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Ledger.Slot</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Slot</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Slot</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Ledger.Tx.CardanoAPI</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fromCardanoScriptInAnyLang</span></span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutus.V1.Ledger.Scripts</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Datum</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Datum</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">DatumHash</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">DatumHash</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Script</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ScriptHash</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutus.V1.Ledger.Tx</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">RedeemerPtr</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Redeemers</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ScriptTag</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">TxId</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">TxId</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutus.V2.Ledger.Api</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">CurrencySymbol</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">CurrencySymbol</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Extended</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Interval</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">LowerBound</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">OutputDatum</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-102"></span><span>                             </span><span class="annot"><span class="hs-identifier">Redeemer</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Redeemer</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">TokenName</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">TokenName</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">UpperBound</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Validator</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Validator</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Value</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusCore.Data</span></span><span>
</span><span id="line-104"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.AssocMap</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">AssocMap</span></span><span>
</span><span id="line-105"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.Builtins.Internal</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">BuiltinData</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.Lattice</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">MeetSemiLattice</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.Prelude</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx</span></span><span>
</span><span id="line-108"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prettyprinter</span></span><span>
</span><span id="line-109"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prettyprinter.Extras</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PrettyShow</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span id="local-6989586621679681045"><span id="local-6989586621679681046"></span></span><span class="hs-keyword">data</span><span> </span><span id="ReferenceScript"><span class="annot"><a href="Plutus.ChainIndex.Types.html#ReferenceScript"><span class="hs-identifier hs-var">ReferenceScript</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ReferenceScriptNone"><span class="annot"><a href="Plutus.ChainIndex.Types.html#ReferenceScriptNone"><span class="hs-identifier hs-var">ReferenceScriptNone</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="ReferenceScriptInAnyLang"><span class="annot"><a href="Plutus.ChainIndex.Types.html#ReferenceScriptInAnyLang"><span class="hs-identifier hs-var">ReferenceScriptInAnyLang</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C.ScriptInAnyLang</span></span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679681039"><span id="local-6989586621679681041"><span class="annot"><span class="annottext">ReferenceScript -&gt; ReferenceScript -&gt; Bool
(ReferenceScript -&gt; ReferenceScript -&gt; Bool)
-&gt; (ReferenceScript -&gt; ReferenceScript -&gt; Bool)
-&gt; Eq ReferenceScript
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ReferenceScript -&gt; ReferenceScript -&gt; Bool
$c/= :: ReferenceScript -&gt; ReferenceScript -&gt; Bool
== :: ReferenceScript -&gt; ReferenceScript -&gt; Bool
$c== :: ReferenceScript -&gt; ReferenceScript -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679681032"><span id="local-6989586621679681034"><span id="local-6989586621679681036"><span class="annot"><span class="annottext">Int -&gt; ReferenceScript -&gt; ShowS
[ReferenceScript] -&gt; ShowS
ReferenceScript -&gt; String
(Int -&gt; ReferenceScript -&gt; ShowS)
-&gt; (ReferenceScript -&gt; String)
-&gt; ([ReferenceScript] -&gt; ShowS)
-&gt; Show ReferenceScript
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ReferenceScript] -&gt; ShowS
$cshowList :: [ReferenceScript] -&gt; ShowS
show :: ReferenceScript -&gt; String
$cshow :: ReferenceScript -&gt; String
showsPrec :: Int -&gt; ReferenceScript -&gt; ShowS
$cshowsPrec :: Int -&gt; ReferenceScript -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. ReferenceScript -&gt; Rep ReferenceScript x)
-&gt; (forall x. Rep ReferenceScript x -&gt; ReferenceScript)
-&gt; Generic ReferenceScript
forall x. Rep ReferenceScript x -&gt; ReferenceScript
forall x. ReferenceScript -&gt; Rep ReferenceScript x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep ReferenceScript x -&gt; ReferenceScript
$cfrom :: forall x. ReferenceScript -&gt; Rep ReferenceScript x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679681020"><span id="local-6989586621679681022"><span id="local-6989586621679681024"><span id="local-6989586621679681026"><span class="annot"><span class="annottext">[ReferenceScript] -&gt; Encoding
ReferenceScript -&gt; Encoding
(ReferenceScript -&gt; Encoding)
-&gt; (forall s. Decoder s ReferenceScript)
-&gt; ([ReferenceScript] -&gt; Encoding)
-&gt; (forall s. Decoder s [ReferenceScript])
-&gt; Serialise ReferenceScript
forall s. Decoder s [ReferenceScript]
forall s. Decoder s ReferenceScript
forall a.
(a -&gt; Encoding)
-&gt; (forall s. Decoder s a)
-&gt; ([a] -&gt; Encoding)
-&gt; (forall s. Decoder s [a])
-&gt; Serialise a
decodeList :: Decoder s [ReferenceScript]
$cdecodeList :: forall s. Decoder s [ReferenceScript]
encodeList :: [ReferenceScript] -&gt; Encoding
$cencodeList :: [ReferenceScript] -&gt; Encoding
decode :: Decoder s ReferenceScript
$cdecode :: forall s. Decoder s ReferenceScript
encode :: ReferenceScript -&gt; Encoding
$cencode :: ReferenceScript -&gt; Encoding
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Serialise</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679681016"><span class="annot"><span class="annottext">Typeable ReferenceScript
Typeable ReferenceScript
-&gt; (Proxy ReferenceScript
    -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; ToSchema ReferenceScript
Proxy ReferenceScript -&gt; Declare (Definitions Schema) NamedSchema
forall a.
Typeable a
-&gt; (Proxy a -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; ToSchema a
declareNamedSchema :: Proxy ReferenceScript -&gt; Declare (Definitions Schema) NamedSchema
$cdeclareNamedSchema :: Proxy ReferenceScript -&gt; Declare (Definitions Schema) NamedSchema
$cp1ToSchema :: Typeable ReferenceScript
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var">OpenApi.ToSchema</span></span></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679681008"><span id="local-6989586621679681010"><span id="local-6989586621679681012"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ReferenceScript"><span class="hs-identifier hs-type">ReferenceScript</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-115"></span><span>  </span><span id="local-6989586621679681006"><span class="annot"><span class="annottext">toJSON :: ReferenceScript -&gt; Value
</span><a href="#local-6989586621679681006"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ReferenceScriptInAnyLang"><span class="hs-identifier hs-type">ReferenceScriptInAnyLang</span></a></span><span> </span><span id="local-6989586621679681005"><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679681005"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">object</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;referenceScript&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; ScriptInAnyLang -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679681005"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-116"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">ReferenceScript
</span><a href="Plutus.ChainIndex.Types.html#ReferenceScriptNone"><span class="hs-identifier hs-var">ReferenceScriptNone</span></a></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier hs-var">Aeson.Null</span></span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679681001"><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ReferenceScript"><span class="hs-identifier hs-type">ReferenceScript</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-119"></span><span>  </span><span id="local-6989586621679680999"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser ReferenceScript
</span><a href="#local-6989586621679680999"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser ReferenceScript)
-&gt; Value
-&gt; Parser ReferenceScript
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ReferenceScript&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser ReferenceScript)
 -&gt; Value -&gt; Parser ReferenceScript)
-&gt; (Object -&gt; Parser ReferenceScript)
-&gt; Value
-&gt; Parser ReferenceScript
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679680997"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679680997"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-120"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Key -&gt; Object -&gt; Maybe Value
forall v. Key -&gt; KeyMap v -&gt; Maybe v
</span><span class="hs-identifier hs-var">Aeson.lookup</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;referenceScript&quot;</span></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679680997"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-121"></span><span>      </span><span class="annot"><span class="annottext">Maybe Value
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ReferenceScript -&gt; Parser ReferenceScript
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ReferenceScript
</span><a href="Plutus.ChainIndex.Types.html#ReferenceScriptNone"><span class="hs-identifier hs-var">ReferenceScriptNone</span></a></span><span>
</span><span id="line-122"></span><span>      </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679680995"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679680995"><span class="hs-identifier hs-var">refScript</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ScriptInAnyLang -&gt; ReferenceScript
</span><a href="Plutus.ChainIndex.Types.html#ReferenceScriptInAnyLang"><span class="hs-identifier hs-var">ReferenceScriptInAnyLang</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptInAnyLang -&gt; ReferenceScript)
-&gt; Parser ScriptInAnyLang -&gt; Parser ReferenceScript
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser ScriptInAnyLang
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679680995"><span class="hs-identifier hs-var">refScript</span></a></span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679680988"><span id="local-6989586621679680990"><span class="annot"><span class="hs-identifier hs-type">Serialise</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C.ScriptInAnyLang</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-125"></span><span>    </span><span id="local-6989586621679680987"><span class="annot"><span class="annottext">encode :: ScriptInAnyLang -&gt; Encoding
</span><a href="#local-6989586621679680987"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C.ScriptInAnyLang</span></span><span> </span><span id="local-6989586621679680985"><span class="annot"><span class="annottext">ScriptLanguage lang
</span><a href="#local-6989586621679680985"><span class="hs-identifier hs-var">lang</span></a></span></span><span> </span><span id="local-6989586621679680984"><span class="annot"><span class="annottext">Script lang
</span><a href="#local-6989586621679680984"><span class="hs-identifier hs-var">script</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-126"></span><span>        </span><span class="hs-keyword">let</span><span>
</span><span id="line-127"></span><span>            </span><span class="hs-comment">-- Since lang is a GADT we have to encode the script in all branches</span><span>
</span><span id="line-128"></span><span>            </span><span id="local-6989586621679680983"><span class="annot"><span class="annottext">other :: Encoding
</span><a href="#local-6989586621679680983"><span class="hs-identifier hs-var hs-var">other</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ScriptLanguage lang
</span><a href="#local-6989586621679680985"><span class="hs-identifier hs-var">lang</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-129"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">C.SimpleScriptLanguage</span></span><span> </span><span class="annot"><span class="annottext">SimpleScriptVersion lang
</span><span class="hs-identifier hs-var">C.SimpleScriptV1</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Encoding
</span><span class="hs-identifier hs-var">encodeWord</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Encoding
forall a. Serialise a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Script lang -&gt; ByteString
forall a. SerialiseAsCBOR a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">C.serialiseToCBOR</span></span><span> </span><span class="annot"><span class="annottext">Script lang
</span><a href="#local-6989586621679680984"><span class="hs-identifier hs-var">script</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">C.SimpleScriptLanguage</span></span><span> </span><span class="annot"><span class="annottext">SimpleScriptVersion lang
</span><span class="hs-identifier hs-var">C.SimpleScriptV2</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Encoding
</span><span class="hs-identifier hs-var">encodeWord</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Encoding
forall a. Serialise a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Script lang -&gt; ByteString
forall a. SerialiseAsCBOR a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">C.serialiseToCBOR</span></span><span> </span><span class="annot"><span class="annottext">Script lang
</span><a href="#local-6989586621679680984"><span class="hs-identifier hs-var">script</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">C.PlutusScriptLanguage</span></span><span> </span><span class="annot"><span class="annottext">PlutusScriptVersion lang
</span><span class="hs-identifier hs-var">C.PlutusScriptV1</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Encoding
</span><span class="hs-identifier hs-var">encodeWord</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Encoding
forall a. Serialise a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Script lang -&gt; ByteString
forall a. SerialiseAsCBOR a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">C.serialiseToCBOR</span></span><span> </span><span class="annot"><span class="annottext">Script lang
</span><a href="#local-6989586621679680984"><span class="hs-identifier hs-var">script</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">C.PlutusScriptLanguage</span></span><span> </span><span class="annot"><span class="annottext">PlutusScriptVersion lang
</span><span class="hs-identifier hs-var">C.PlutusScriptV2</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Encoding
</span><span class="hs-identifier hs-var">encodeWord</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Encoding
forall a. Serialise a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Script lang -&gt; ByteString
forall a. SerialiseAsCBOR a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">C.serialiseToCBOR</span></span><span> </span><span class="annot"><span class="annottext">Script lang
</span><a href="#local-6989586621679680984"><span class="hs-identifier hs-var">script</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>        </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Encoding
</span><span class="hs-identifier hs-var">encodeListLen</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Encoding
</span><a href="#local-6989586621679680983"><span class="hs-identifier hs-var">other</span></a></span><span>
</span><span id="line-134"></span><span>    </span><span id="local-6989586621679680975"><span class="annot"><span class="annottext">decode :: Decoder s ScriptInAnyLang
</span><a href="#local-6989586621679680975"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-135"></span><span>        </span><span id="local-6989586621679680974"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679680974"><span class="hs-identifier hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Decoder s Int
forall s. Decoder s Int
</span><span class="hs-identifier hs-var">decodeListLen</span></span><span>
</span><span id="line-136"></span><span>        </span><span id="local-6989586621679680973"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679680973"><span class="hs-identifier hs-var">langWord</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Decoder s Word
forall s. Decoder s Word
</span><span class="hs-identifier hs-var">decodeWord</span></span><span>
</span><span id="line-137"></span><span>        </span><span id="local-6989586621679680972"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679680972"><span class="hs-identifier hs-var">script</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Decoder s ByteString
forall a s. Serialise a =&gt; Decoder s a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-138"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679680974"><span class="hs-identifier hs-var">len</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679680973"><span class="hs-identifier hs-var">langWord</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-139"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-140"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679680971"><span class="annot"><span class="annottext">decoded :: Script SimpleScriptV1
</span><a href="#local-6989586621679680971"><span class="hs-identifier hs-var hs-var">decoded</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DecoderError -&gt; Script SimpleScriptV1)
-&gt; (Script SimpleScriptV1 -&gt; Script SimpleScriptV1)
-&gt; Either DecoderError (Script SimpleScriptV1)
-&gt; Script SimpleScriptV1
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; DecoderError -&gt; Script SimpleScriptV1
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Failed to deserialise AsSimpleScriptV1 from CBOR &quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Script SimpleScriptV1 -&gt; Script SimpleScriptV1
forall a. a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AsType (Script SimpleScriptV1)
-&gt; ByteString -&gt; Either DecoderError (Script SimpleScriptV1)
forall a.
SerialiseAsCBOR a =&gt;
AsType a -&gt; ByteString -&gt; Either DecoderError a
</span><span class="hs-identifier hs-var">C.deserialiseFromCBOR</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AsType SimpleScriptV1 -&gt; AsType (Script SimpleScriptV1)
forall lang. AsType lang -&gt; AsType (Script lang)
</span><span class="hs-identifier hs-var">C.AsScript</span></span><span> </span><span class="annot"><span class="annottext">AsType SimpleScriptV1
</span><span class="hs-identifier hs-var">C.AsSimpleScriptV1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679680972"><span class="hs-identifier hs-var">script</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span>                </span><span class="annot"><span class="annottext">ScriptInAnyLang -&gt; Decoder s ScriptInAnyLang
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptInAnyLang -&gt; Decoder s ScriptInAnyLang)
-&gt; ScriptInAnyLang -&gt; Decoder s ScriptInAnyLang
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptLanguage SimpleScriptV1
-&gt; Script SimpleScriptV1 -&gt; ScriptInAnyLang
forall lang. ScriptLanguage lang -&gt; Script lang -&gt; ScriptInAnyLang
</span><span class="hs-identifier hs-var">C.ScriptInAnyLang</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SimpleScriptVersion SimpleScriptV1 -&gt; ScriptLanguage SimpleScriptV1
forall lang. SimpleScriptVersion lang -&gt; ScriptLanguage lang
</span><span class="hs-identifier hs-var">C.SimpleScriptLanguage</span></span><span> </span><span class="annot"><span class="annottext">SimpleScriptVersion SimpleScriptV1
</span><span class="hs-identifier hs-var">C.SimpleScriptV1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Script SimpleScriptV1
</span><a href="#local-6989586621679680971"><span class="hs-identifier hs-var">decoded</span></a></span><span>
</span><span id="line-142"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-143"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679680964"><span class="annot"><span class="annottext">decoded :: Script SimpleScriptV2
</span><a href="#local-6989586621679680964"><span class="hs-identifier hs-var hs-var">decoded</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DecoderError -&gt; Script SimpleScriptV2)
-&gt; (Script SimpleScriptV2 -&gt; Script SimpleScriptV2)
-&gt; Either DecoderError (Script SimpleScriptV2)
-&gt; Script SimpleScriptV2
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; DecoderError -&gt; Script SimpleScriptV2
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Failed to deserialise AsSimpleScriptV2 from CBOR &quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Script SimpleScriptV2 -&gt; Script SimpleScriptV2
forall a. a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AsType (Script SimpleScriptV2)
-&gt; ByteString -&gt; Either DecoderError (Script SimpleScriptV2)
forall a.
SerialiseAsCBOR a =&gt;
AsType a -&gt; ByteString -&gt; Either DecoderError a
</span><span class="hs-identifier hs-var">C.deserialiseFromCBOR</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AsType SimpleScriptV2 -&gt; AsType (Script SimpleScriptV2)
forall lang. AsType lang -&gt; AsType (Script lang)
</span><span class="hs-identifier hs-var">C.AsScript</span></span><span> </span><span class="annot"><span class="annottext">AsType SimpleScriptV2
</span><span class="hs-identifier hs-var">C.AsSimpleScriptV2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679680972"><span class="hs-identifier hs-var">script</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span>                </span><span class="annot"><span class="annottext">ScriptInAnyLang -&gt; Decoder s ScriptInAnyLang
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptInAnyLang -&gt; Decoder s ScriptInAnyLang)
-&gt; ScriptInAnyLang -&gt; Decoder s ScriptInAnyLang
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptLanguage SimpleScriptV2
-&gt; Script SimpleScriptV2 -&gt; ScriptInAnyLang
forall lang. ScriptLanguage lang -&gt; Script lang -&gt; ScriptInAnyLang
</span><span class="hs-identifier hs-var">C.ScriptInAnyLang</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SimpleScriptVersion SimpleScriptV2 -&gt; ScriptLanguage SimpleScriptV2
forall lang. SimpleScriptVersion lang -&gt; ScriptLanguage lang
</span><span class="hs-identifier hs-var">C.SimpleScriptLanguage</span></span><span> </span><span class="annot"><span class="annottext">SimpleScriptVersion SimpleScriptV2
</span><span class="hs-identifier hs-var">C.SimpleScriptV2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Script SimpleScriptV2
</span><a href="#local-6989586621679680964"><span class="hs-identifier hs-var">decoded</span></a></span><span>
</span><span id="line-145"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-146"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679680962"><span class="annot"><span class="annottext">decoded :: Script PlutusScriptV1
</span><a href="#local-6989586621679680962"><span class="hs-identifier hs-var hs-var">decoded</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DecoderError -&gt; Script PlutusScriptV1)
-&gt; (Script PlutusScriptV1 -&gt; Script PlutusScriptV1)
-&gt; Either DecoderError (Script PlutusScriptV1)
-&gt; Script PlutusScriptV1
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; DecoderError -&gt; Script PlutusScriptV1
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Failed to deserialise AsPlutusScriptV1 from CBOR &quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Script PlutusScriptV1 -&gt; Script PlutusScriptV1
forall a. a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AsType (Script PlutusScriptV1)
-&gt; ByteString -&gt; Either DecoderError (Script PlutusScriptV1)
forall a.
SerialiseAsCBOR a =&gt;
AsType a -&gt; ByteString -&gt; Either DecoderError a
</span><span class="hs-identifier hs-var">C.deserialiseFromCBOR</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AsType PlutusScriptV1 -&gt; AsType (Script PlutusScriptV1)
forall lang. AsType lang -&gt; AsType (Script lang)
</span><span class="hs-identifier hs-var">C.AsScript</span></span><span> </span><span class="annot"><span class="annottext">AsType PlutusScriptV1
</span><span class="hs-identifier hs-var">C.AsPlutusScriptV1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679680972"><span class="hs-identifier hs-var">script</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-147"></span><span>                </span><span class="annot"><span class="annottext">ScriptInAnyLang -&gt; Decoder s ScriptInAnyLang
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptInAnyLang -&gt; Decoder s ScriptInAnyLang)
-&gt; ScriptInAnyLang -&gt; Decoder s ScriptInAnyLang
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptLanguage PlutusScriptV1
-&gt; Script PlutusScriptV1 -&gt; ScriptInAnyLang
forall lang. ScriptLanguage lang -&gt; Script lang -&gt; ScriptInAnyLang
</span><span class="hs-identifier hs-var">C.ScriptInAnyLang</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PlutusScriptVersion PlutusScriptV1 -&gt; ScriptLanguage PlutusScriptV1
forall lang. PlutusScriptVersion lang -&gt; ScriptLanguage lang
</span><span class="hs-identifier hs-var">C.PlutusScriptLanguage</span></span><span> </span><span class="annot"><span class="annottext">PlutusScriptVersion PlutusScriptV1
</span><span class="hs-identifier hs-var">C.PlutusScriptV1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Script PlutusScriptV1
</span><a href="#local-6989586621679680962"><span class="hs-identifier hs-var">decoded</span></a></span><span>
</span><span id="line-148"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">3</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-149"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679680960"><span class="annot"><span class="annottext">decoded :: Script PlutusScriptV2
</span><a href="#local-6989586621679680960"><span class="hs-identifier hs-var hs-var">decoded</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DecoderError -&gt; Script PlutusScriptV2)
-&gt; (Script PlutusScriptV2 -&gt; Script PlutusScriptV2)
-&gt; Either DecoderError (Script PlutusScriptV2)
-&gt; Script PlutusScriptV2
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; DecoderError -&gt; Script PlutusScriptV2
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Failed to deserialise AsPlutusScriptV2 from CBOR &quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Script PlutusScriptV2 -&gt; Script PlutusScriptV2
forall a. a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AsType (Script PlutusScriptV2)
-&gt; ByteString -&gt; Either DecoderError (Script PlutusScriptV2)
forall a.
SerialiseAsCBOR a =&gt;
AsType a -&gt; ByteString -&gt; Either DecoderError a
</span><span class="hs-identifier hs-var">C.deserialiseFromCBOR</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AsType PlutusScriptV2 -&gt; AsType (Script PlutusScriptV2)
forall lang. AsType lang -&gt; AsType (Script lang)
</span><span class="hs-identifier hs-var">C.AsScript</span></span><span> </span><span class="annot"><span class="annottext">AsType PlutusScriptV2
</span><span class="hs-identifier hs-var">C.AsPlutusScriptV2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679680972"><span class="hs-identifier hs-var">script</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>                </span><span class="annot"><span class="annottext">ScriptInAnyLang -&gt; Decoder s ScriptInAnyLang
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptInAnyLang -&gt; Decoder s ScriptInAnyLang)
-&gt; ScriptInAnyLang -&gt; Decoder s ScriptInAnyLang
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptLanguage PlutusScriptV2
-&gt; Script PlutusScriptV2 -&gt; ScriptInAnyLang
forall lang. ScriptLanguage lang -&gt; Script lang -&gt; ScriptInAnyLang
</span><span class="hs-identifier hs-var">C.ScriptInAnyLang</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PlutusScriptVersion PlutusScriptV2 -&gt; ScriptLanguage PlutusScriptV2
forall lang. PlutusScriptVersion lang -&gt; ScriptLanguage lang
</span><span class="hs-identifier hs-var">C.PlutusScriptLanguage</span></span><span> </span><span class="annot"><span class="annottext">PlutusScriptVersion PlutusScriptV2
</span><span class="hs-identifier hs-var">C.PlutusScriptV2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Script PlutusScriptV2
</span><a href="#local-6989586621679680960"><span class="hs-identifier hs-var">decoded</span></a></span><span>
</span><span id="line-151"></span><span>            </span><span class="annot"><span class="annottext">(Int, Word)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Decoder s ScriptInAnyLang
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Invalid ScriptInAnyLang encoding&quot;</span></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C.ScriptInAnyLang</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-154"></span><span>    </span><span id="local-6989586621679680956"><span class="annot"><span class="annottext">declareNamedSchema :: Proxy ScriptInAnyLang -&gt; Declare (Definitions Schema) NamedSchema
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">declareNamedSchema</span></span></span><span> </span><span class="annot"><span class="annottext">Proxy ScriptInAnyLang
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamedSchema -&gt; Declare (Definitions Schema) NamedSchema
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(NamedSchema -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; NamedSchema -&gt; Declare (Definitions Schema) NamedSchema
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text -&gt; Schema -&gt; NamedSchema
</span><span class="hs-identifier hs-var">OpenApi.NamedSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Maybe Text
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ScriptInAnyLang&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Schema
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span class="annot"><a href="Plutus.ChainIndex.Types.html#fromReferenceScript"><span class="hs-identifier hs-type">fromReferenceScript</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ReferenceScript"><span class="hs-identifier hs-type">ReferenceScript</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Versioned</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Script</span></span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span id="fromReferenceScript"><span class="annot"><span class="annottext">fromReferenceScript :: ReferenceScript -&gt; Maybe (Versioned Script)
</span><a href="Plutus.ChainIndex.Types.html#fromReferenceScript"><span class="hs-identifier hs-var hs-var">fromReferenceScript</span></a></span></span><span> </span><span class="annot"><span class="annottext">ReferenceScript
</span><a href="Plutus.ChainIndex.Types.html#ReferenceScriptNone"><span class="hs-identifier hs-var">ReferenceScriptNone</span></a></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Versioned Script)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-158"></span><span class="annot"><a href="Plutus.ChainIndex.Types.html#fromReferenceScript"><span class="hs-identifier hs-var">fromReferenceScript</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ReferenceScriptInAnyLang"><span class="hs-identifier hs-type">ReferenceScriptInAnyLang</span></a></span><span> </span><span id="local-6989586621679680954"><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679680954"><span class="hs-identifier hs-var">sial</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ScriptInAnyLang -&gt; Maybe (Versioned Script)
</span><span class="hs-identifier hs-var">fromCardanoScriptInAnyLang</span></span><span> </span><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679680954"><span class="hs-identifier hs-var">sial</span></a></span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C.AddressInEra</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C.BabbageEra</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-161"></span><span>    </span><span id="local-6989586621679680951"><span class="annot"><span class="annottext">declareNamedSchema :: Proxy (AddressInEra BabbageEra)
-&gt; Declare (Definitions Schema) NamedSchema
</span><a href="#local-6989586621679680951"><span class="hs-identifier hs-var hs-var hs-var hs-var">declareNamedSchema</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (AddressInEra BabbageEra)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamedSchema -&gt; Declare (Definitions Schema) NamedSchema
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(NamedSchema -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; NamedSchema -&gt; Declare (Definitions Schema) NamedSchema
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text -&gt; Schema -&gt; NamedSchema
</span><span class="hs-identifier hs-var">OpenApi.NamedSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Maybe Text
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;AddressInBabbageEra&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Schema
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Data</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-164"></span><span>  </span><span id="local-6989586621679680948"><span class="annot"><span class="annottext">declareNamedSchema :: Proxy Data -&gt; Declare (Definitions Schema) NamedSchema
</span><a href="#local-6989586621679680948"><span class="hs-identifier hs-var hs-var hs-var hs-var">declareNamedSchema</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy Data
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-165"></span><span>    </span><span id="local-6989586621679680947"><span class="annot"><span class="annottext">Referenced Schema
</span><a href="#local-6989586621679680947"><span class="hs-identifier hs-var">integerSchema</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Proxy Integer -&gt; Declare (Definitions Schema) (Referenced Schema)
forall a.
ToSchema a =&gt;
Proxy a -&gt; Declare (Definitions Schema) (Referenced Schema)
</span><span class="hs-identifier hs-var">OpenApi.declareSchemaRef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy Integer
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-166"></span><span>    </span><span id="local-6989586621679680946"><span class="annot"><span class="annottext">Referenced Schema
</span><a href="#local-6989586621679680946"><span class="hs-identifier hs-var">constrArgsSchema</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Proxy (Integer, [Data])
-&gt; Declare (Definitions Schema) (Referenced Schema)
forall a.
ToSchema a =&gt;
Proxy a -&gt; Declare (Definitions Schema) (Referenced Schema)
</span><span class="hs-identifier hs-var">OpenApi.declareSchemaRef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (Integer, [Data])
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Data</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>    </span><span id="local-6989586621679680945"><span class="annot"><span class="annottext">Referenced Schema
</span><a href="#local-6989586621679680945"><span class="hs-identifier hs-var">mapArgsSchema</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Proxy [(Data, Data)]
-&gt; Declare (Definitions Schema) (Referenced Schema)
forall a.
ToSchema a =&gt;
Proxy a -&gt; Declare (Definitions Schema) (Referenced Schema)
</span><span class="hs-identifier hs-var">OpenApi.declareSchemaRef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy [(Data, Data)]
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Data</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Data</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span>    </span><span id="local-6989586621679680944"><span class="annot"><span class="annottext">Referenced Schema
</span><a href="#local-6989586621679680944"><span class="hs-identifier hs-var">listArgsSchema</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Proxy [Data] -&gt; Declare (Definitions Schema) (Referenced Schema)
forall a.
ToSchema a =&gt;
Proxy a -&gt; Declare (Definitions Schema) (Referenced Schema)
</span><span class="hs-identifier hs-var">OpenApi.declareSchemaRef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy [Data]
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Data</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>    </span><span id="local-6989586621679680943"><span class="annot"><span class="annottext">Referenced Schema
</span><a href="#local-6989586621679680943"><span class="hs-identifier hs-var">bytestringSchema</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Proxy String -&gt; Declare (Definitions Schema) (Referenced Schema)
forall a.
ToSchema a =&gt;
Proxy a -&gt; Declare (Definitions Schema) (Referenced Schema)
</span><span class="hs-identifier hs-var">OpenApi.declareSchemaRef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy String
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span>    </span><span class="annot"><span class="annottext">NamedSchema -&gt; Declare (Definitions Schema) NamedSchema
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(NamedSchema -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; NamedSchema -&gt; Declare (Definitions Schema) NamedSchema
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text -&gt; Schema -&gt; NamedSchema
</span><span class="hs-identifier hs-var">OpenApi.NamedSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Maybe Text
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Data&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Schema -&gt; NamedSchema) -&gt; Schema -&gt; NamedSchema
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Schema
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-171"></span><span>      </span><span class="annot"><span class="annottext">Schema -&gt; (Schema -&gt; Schema) -&gt; Schema
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe OpenApiType -&gt; Identity (Maybe OpenApiType))
-&gt; Schema -&gt; Identity Schema
forall s a. HasType s a =&gt; Lens' s a
</span><span class="hs-identifier hs-var">OpenApi.type_</span></span><span> </span><span class="annot"><span class="annottext">((Maybe OpenApiType -&gt; Identity (Maybe OpenApiType))
 -&gt; Schema -&gt; Identity Schema)
-&gt; OpenApiType -&gt; Schema -&gt; Schema
forall s t a b. ASetter s t a (Maybe b) -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">?~</span></span><span> </span><span class="annot"><span class="annottext">OpenApiType
</span><span class="hs-identifier hs-var">OpenApi.OpenApiObject</span></span><span>
</span><span id="line-172"></span><span>      </span><span class="annot"><span class="annottext">Schema -&gt; (Schema -&gt; Schema) -&gt; Schema
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(InsOrdHashMap Text (Referenced Schema)
 -&gt; Identity (InsOrdHashMap Text (Referenced Schema)))
-&gt; Schema -&gt; Identity Schema
forall s a. HasProperties s a =&gt; Lens' s a
</span><span class="hs-identifier hs-var">OpenApi.properties</span></span><span> </span><span class="annot"><span class="annottext">((InsOrdHashMap Text (Referenced Schema)
  -&gt; Identity (InsOrdHashMap Text (Referenced Schema)))
 -&gt; Schema -&gt; Identity Schema)
-&gt; InsOrdHashMap Text (Referenced Schema) -&gt; Schema -&gt; Schema
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span>
</span><span id="line-173"></span><span>          </span><span class="annot"><span class="annottext">[(Text, Referenced Schema)]
-&gt; InsOrdHashMap Text (Referenced Schema)
forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; InsOrdHashMap k v
</span><span class="hs-identifier hs-var">InsOrdMap.fromList</span></span><span>
</span><span id="line-174"></span><span>          </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Constr&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Referenced Schema
</span><a href="#local-6989586621679680946"><span class="hs-identifier hs-var">constrArgsSchema</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Map&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Referenced Schema
</span><a href="#local-6989586621679680945"><span class="hs-identifier hs-var">mapArgsSchema</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;List&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Referenced Schema
</span><a href="#local-6989586621679680944"><span class="hs-identifier hs-var">listArgsSchema</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;I&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Referenced Schema
</span><a href="#local-6989586621679680947"><span class="hs-identifier hs-var">integerSchema</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-178"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;B&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Referenced Schema
</span><a href="#local-6989586621679680943"><span class="hs-identifier hs-var">bytestringSchema</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span>          </span><span class="hs-special">]</span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span id="local-6989586621679680939"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">BuiltinData</span></span></span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.BuiltinByteString</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-184"></span><span>    </span><span id="local-6989586621679680936"><span class="annot"><span class="annottext">declareNamedSchema :: Proxy BuiltinByteString -&gt; Declare (Definitions Schema) NamedSchema
</span><a href="#local-6989586621679680936"><span class="hs-identifier hs-var hs-var hs-var hs-var">declareNamedSchema</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy BuiltinByteString
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamedSchema -&gt; Declare (Definitions Schema) NamedSchema
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(NamedSchema -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; NamedSchema -&gt; Declare (Definitions Schema) NamedSchema
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text -&gt; Schema -&gt; NamedSchema
</span><span class="hs-identifier hs-var">OpenApi.NamedSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Maybe Text
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Bytes&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Schema
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span id="local-6989586621679680933"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TokenName</span></span></span><span>
</span><span id="line-187"></span><span id="local-6989586621679680930"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value</span></span></span><span>
</span><span id="line-188"></span><span id="local-6989586621679680926"><span id="local-6989586621679680929"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><a href="#local-6989586621679680929"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Extended</span></span><span> </span><span class="annot"><a href="#local-6989586621679680929"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-189"></span><span id="local-6989586621679680922"><span id="local-6989586621679680925"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><a href="#local-6989586621679680925"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Interval</span></span><span> </span><span class="annot"><a href="#local-6989586621679680925"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-190"></span><span id="local-6989586621679680918"><span id="local-6989586621679680921"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><a href="#local-6989586621679680921"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LowerBound</span></span><span> </span><span class="annot"><a href="#local-6989586621679680921"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-191"></span><span id="local-6989586621679680914"><span id="local-6989586621679680917"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><a href="#local-6989586621679680917"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UpperBound</span></span><span> </span><span class="annot"><a href="#local-6989586621679680917"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-192"></span><span id="local-6989586621679680911"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Language</span></span></span><span>
</span><span id="line-193"></span><span id="local-6989586621679680907"><span id="local-6989586621679680910"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><a href="#local-6989586621679680910"><span class="hs-identifier hs-type">script</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Versioned</span></span><span> </span><span class="annot"><a href="#local-6989586621679680910"><span class="hs-identifier hs-type">script</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-194"></span><span class="hs-comment">-- deriving anyclass instance OpenApi.ToSchema C.TxId</span><span>
</span><span id="line-195"></span><span id="local-6989586621679680904"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxId</span></span></span><span>
</span><span id="line-196"></span><span id="local-6989586621679680901"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScriptTag</span></span></span><span>
</span><span id="line-197"></span><span id="local-6989586621679680898"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Validator</span></span></span><span>
</span><span id="line-198"></span><span id="local-6989586621679680895"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Slot</span></span></span><span>
</span><span id="line-199"></span><span id="local-6989586621679680892"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679680890"><span id="local-6989586621679680891"><span class="annot"><a href="#local-6989586621679680890"><span class="hs-keyword hs-type hs-type">anyclass</span></a></span></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><a href="#local-6989586621679680891"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><a href="#local-6989586621679680890"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AssocMap.Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679680891"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679680890"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-200"></span><span id="local-6989586621679680887"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">OutputDatum</span></span></span><span>
</span><span id="line-201"></span><span>
</span><span id="line-202"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C.Value</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-203"></span><span>    </span><span id="local-6989586621679680884"><span class="annot"><span class="annottext">declareNamedSchema :: Proxy Value -&gt; Declare (Definitions Schema) NamedSchema
</span><a href="#local-6989586621679680884"><span class="hs-identifier hs-var hs-var hs-var hs-var">declareNamedSchema</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy Value
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamedSchema -&gt; Declare (Definitions Schema) NamedSchema
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(NamedSchema -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; NamedSchema -&gt; Declare (Definitions Schema) NamedSchema
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text -&gt; Schema -&gt; NamedSchema
</span><span class="hs-identifier hs-var">OpenApi.NamedSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Maybe Text
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Value&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Schema -&gt; NamedSchema) -&gt; Schema -&gt; NamedSchema
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy [(String, Integer)] -&gt; Schema
forall a. ToSchema a =&gt; Proxy a -&gt; Schema
</span><span class="hs-identifier hs-var">OpenApi.toSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy [(String, Integer)]
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span id="local-6989586621679680881"><span id="local-6989586621679680882"></span></span><span class="hs-keyword">data</span><span> </span><span id="ChainIndexTxOut"><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOut"><span class="hs-identifier hs-var">ChainIndexTxOut</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ChainIndexTxOut"><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOut"><span class="hs-identifier hs-var">ChainIndexTxOut</span></a></span></span><span>
</span><span id="line-206"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="citoAddress"><span class="annot"><span class="annottext">ChainIndexTxOut -&gt; AddressInEra BabbageEra
</span><a href="Plutus.ChainIndex.Types.html#citoAddress"><span class="hs-identifier hs-var hs-var">citoAddress</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CardanoAddress</span></span><span> </span><span class="hs-comment">-- ^ We can't use AddressInAnyEra here because of missing FromJson instance for Byron era</span><span>
</span><span id="line-207"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="citoValue"><span class="annot"><span class="annottext">ChainIndexTxOut -&gt; Value
</span><a href="Plutus.ChainIndex.Types.html#citoValue"><span class="hs-identifier hs-var hs-var">citoValue</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">C.Value</span></span><span>
</span><span id="line-208"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="citoDatum"><span class="annot"><span class="annottext">ChainIndexTxOut -&gt; OutputDatum
</span><a href="Plutus.ChainIndex.Types.html#citoDatum"><span class="hs-identifier hs-var hs-var">citoDatum</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OutputDatum</span></span><span>
</span><span id="line-209"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="citoRefScript"><span class="annot"><span class="annottext">ChainIndexTxOut -&gt; ReferenceScript
</span><a href="Plutus.ChainIndex.Types.html#citoRefScript"><span class="hs-identifier hs-var hs-var">citoRefScript</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ReferenceScript"><span class="hs-identifier hs-type">ReferenceScript</span></a></span><span>
</span><span id="line-210"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680872"><span id="local-6989586621679680874"><span class="annot"><span class="annottext">ChainIndexTxOut -&gt; ChainIndexTxOut -&gt; Bool
(ChainIndexTxOut -&gt; ChainIndexTxOut -&gt; Bool)
-&gt; (ChainIndexTxOut -&gt; ChainIndexTxOut -&gt; Bool)
-&gt; Eq ChainIndexTxOut
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ChainIndexTxOut -&gt; ChainIndexTxOut -&gt; Bool
$c/= :: ChainIndexTxOut -&gt; ChainIndexTxOut -&gt; Bool
== :: ChainIndexTxOut -&gt; ChainIndexTxOut -&gt; Bool
$c== :: ChainIndexTxOut -&gt; ChainIndexTxOut -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680866"><span id="local-6989586621679680868"><span id="local-6989586621679680870"><span class="annot"><span class="annottext">Int -&gt; ChainIndexTxOut -&gt; ShowS
[ChainIndexTxOut] -&gt; ShowS
ChainIndexTxOut -&gt; String
(Int -&gt; ChainIndexTxOut -&gt; ShowS)
-&gt; (ChainIndexTxOut -&gt; String)
-&gt; ([ChainIndexTxOut] -&gt; ShowS)
-&gt; Show ChainIndexTxOut
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ChainIndexTxOut] -&gt; ShowS
$cshowList :: [ChainIndexTxOut] -&gt; ShowS
show :: ChainIndexTxOut -&gt; String
$cshow :: ChainIndexTxOut -&gt; String
showsPrec :: Int -&gt; ChainIndexTxOut -&gt; ShowS
$cshowsPrec :: Int -&gt; ChainIndexTxOut -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. ChainIndexTxOut -&gt; Rep ChainIndexTxOut x)
-&gt; (forall x. Rep ChainIndexTxOut x -&gt; ChainIndexTxOut)
-&gt; Generic ChainIndexTxOut
forall x. Rep ChainIndexTxOut x -&gt; ChainIndexTxOut
forall x. ChainIndexTxOut -&gt; Rep ChainIndexTxOut x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep ChainIndexTxOut x -&gt; ChainIndexTxOut
$cfrom :: forall x. ChainIndexTxOut -&gt; Rep ChainIndexTxOut x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680856"><span id="local-6989586621679680858"><span id="local-6989586621679680860"><span id="local-6989586621679680862"><span class="annot"><span class="annottext">[ChainIndexTxOut] -&gt; Encoding
ChainIndexTxOut -&gt; Encoding
(ChainIndexTxOut -&gt; Encoding)
-&gt; (forall s. Decoder s ChainIndexTxOut)
-&gt; ([ChainIndexTxOut] -&gt; Encoding)
-&gt; (forall s. Decoder s [ChainIndexTxOut])
-&gt; Serialise ChainIndexTxOut
forall s. Decoder s [ChainIndexTxOut]
forall s. Decoder s ChainIndexTxOut
forall a.
(a -&gt; Encoding)
-&gt; (forall s. Decoder s a)
-&gt; ([a] -&gt; Encoding)
-&gt; (forall s. Decoder s [a])
-&gt; Serialise a
decodeList :: Decoder s [ChainIndexTxOut]
$cdecodeList :: forall s. Decoder s [ChainIndexTxOut]
encodeList :: [ChainIndexTxOut] -&gt; Encoding
$cencodeList :: [ChainIndexTxOut] -&gt; Encoding
decode :: Decoder s ChainIndexTxOut
$cdecode :: forall s. Decoder s ChainIndexTxOut
encode :: ChainIndexTxOut -&gt; Encoding
$cencode :: ChainIndexTxOut -&gt; Encoding
</span><a href="#local-6989586621679680856"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Serialise</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680853"><span class="annot"><span class="annottext">Typeable ChainIndexTxOut
Typeable ChainIndexTxOut
-&gt; (Proxy ChainIndexTxOut
    -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; ToSchema ChainIndexTxOut
Proxy ChainIndexTxOut -&gt; Declare (Definitions Schema) NamedSchema
forall a.
Typeable a
-&gt; (Proxy a -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; ToSchema a
declareNamedSchema :: Proxy ChainIndexTxOut -&gt; Declare (Definitions Schema) NamedSchema
$cdeclareNamedSchema :: Proxy ChainIndexTxOut -&gt; Declare (Definitions Schema) NamedSchema
$cp1ToSchema :: Typeable ChainIndexTxOut
</span><a href="#local-6989586621679680853"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var">OpenApi.ToSchema</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679680846"><span id="local-6989586621679680848"><span id="local-6989586621679680850"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOut"><span class="hs-identifier hs-type">ChainIndexTxOut</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-213"></span><span>    </span><span id="local-6989586621679680845"><span class="annot"><span class="annottext">toJSON :: ChainIndexTxOut -&gt; Value
</span><a href="#local-6989586621679680845"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOut"><span class="hs-identifier hs-type">ChainIndexTxOut</span></a></span><span class="hs-special">{</span><span id="local-6989586621679680841"><span id="local-6989586621679680842"><span id="local-6989586621679680843"><span id="local-6989586621679680844"><span class="annot"><span class="annottext">AddressInEra BabbageEra
Value
OutputDatum
ReferenceScript
citoRefScript :: ReferenceScript
citoDatum :: OutputDatum
citoValue :: Value
citoAddress :: AddressInEra BabbageEra
citoRefScript :: ChainIndexTxOut -&gt; ReferenceScript
citoDatum :: ChainIndexTxOut -&gt; OutputDatum
citoValue :: ChainIndexTxOut -&gt; Value
citoAddress :: ChainIndexTxOut -&gt; AddressInEra BabbageEra
</span><a href="#local-6989586621679680841"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">object</span></span><span>
</span><span id="line-214"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;address&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Value -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">AddressInEra BabbageEra -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">AddressInEra BabbageEra
</span><a href="#local-6989586621679680844"><span class="hs-identifier hs-var">citoAddress</span></a></span><span>
</span><span id="line-215"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;value&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Value -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679680843"><span class="hs-identifier hs-var">citoValue</span></a></span><span>
</span><span id="line-216"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;datum&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Value -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">OutputDatum -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">OutputDatum
</span><a href="#local-6989586621679680842"><span class="hs-identifier hs-var">citoDatum</span></a></span><span>
</span><span id="line-217"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;refScript&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Value -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">ReferenceScript -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">ReferenceScript
</span><a href="#local-6989586621679680841"><span class="hs-identifier hs-var">citoRefScript</span></a></span><span>
</span><span id="line-218"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679680838"><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOut"><span class="hs-identifier hs-type">ChainIndexTxOut</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-221"></span><span>    </span><span id="local-6989586621679680837"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser ChainIndexTxOut
</span><a href="#local-6989586621679680837"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-222"></span><span>        </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser ChainIndexTxOut)
-&gt; Value
-&gt; Parser ChainIndexTxOut
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ChainIndexTxOut&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser ChainIndexTxOut)
 -&gt; Value -&gt; Parser ChainIndexTxOut)
-&gt; (Object -&gt; Parser ChainIndexTxOut)
-&gt; Value
-&gt; Parser ChainIndexTxOut
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679680836"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679680836"><span class="hs-identifier hs-var">obj</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-223"></span><span>            </span><span class="annot"><span class="annottext">AddressInEra BabbageEra
-&gt; Value -&gt; OutputDatum -&gt; ReferenceScript -&gt; ChainIndexTxOut
</span><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOut"><span class="hs-identifier hs-var">ChainIndexTxOut</span></a></span><span>
</span><span id="line-224"></span><span>                </span><span class="annot"><span class="annottext">(AddressInEra BabbageEra
 -&gt; Value -&gt; OutputDatum -&gt; ReferenceScript -&gt; ChainIndexTxOut)
-&gt; Parser (AddressInEra BabbageEra)
-&gt; Parser
     (Value -&gt; OutputDatum -&gt; ReferenceScript -&gt; ChainIndexTxOut)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679680836"><span class="hs-identifier hs-var">obj</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (AddressInEra BabbageEra)
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;address&quot;</span></span><span>
</span><span id="line-225"></span><span>                </span><span class="annot"><span class="annottext">Parser (Value -&gt; OutputDatum -&gt; ReferenceScript -&gt; ChainIndexTxOut)
-&gt; Parser Value
-&gt; Parser (OutputDatum -&gt; ReferenceScript -&gt; ChainIndexTxOut)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679680836"><span class="hs-identifier hs-var">obj</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Value
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;value&quot;</span></span><span>
</span><span id="line-226"></span><span>                </span><span class="annot"><span class="annottext">Parser (OutputDatum -&gt; ReferenceScript -&gt; ChainIndexTxOut)
-&gt; Parser OutputDatum
-&gt; Parser (ReferenceScript -&gt; ChainIndexTxOut)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679680836"><span class="hs-identifier hs-var">obj</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser OutputDatum
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;datum&quot;</span></span><span>
</span><span id="line-227"></span><span>                </span><span class="annot"><span class="annottext">Parser (ReferenceScript -&gt; ChainIndexTxOut)
-&gt; Parser ReferenceScript -&gt; Parser ChainIndexTxOut
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679680836"><span class="hs-identifier hs-var">obj</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe ReferenceScript)
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;refScript&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe ReferenceScript)
-&gt; ReferenceScript -&gt; Parser ReferenceScript
forall a. Parser (Maybe a) -&gt; a -&gt; Parser a
</span><span class="hs-operator hs-var">.!=</span></span><span> </span><span class="annot"><span class="annottext">ReferenceScript
</span><a href="Plutus.ChainIndex.Types.html#ReferenceScriptNone"><span class="hs-identifier hs-var">ReferenceScriptNone</span></a></span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679680833"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOut"><span class="hs-identifier hs-type">ChainIndexTxOut</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-230"></span><span>    </span><span id="local-6989586621679680831"><span class="annot"><span class="annottext">pretty :: ChainIndexTxOut -&gt; Doc ann
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOut"><span class="hs-identifier hs-type">ChainIndexTxOut</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679680829"><span class="annot"><span class="annottext">AddressInEra BabbageEra
citoAddress :: AddressInEra BabbageEra
citoAddress :: ChainIndexTxOut -&gt; AddressInEra BabbageEra
</span><a href="#local-6989586621679680829"><span class="hs-identifier hs-var hs-var">citoAddress</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680828"><span class="annot"><span class="annottext">Value
citoValue :: Value
citoValue :: ChainIndexTxOut -&gt; Value
</span><a href="#local-6989586621679680828"><span class="hs-identifier hs-var hs-var">citoValue</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-231"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; Doc ann -&gt; Doc ann
forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">hang</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;-&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679680828"><span class="hs-identifier hs-var">citoValue</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;addressed to&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Address -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddressInEra BabbageEra -&gt; Address
forall era. AddressInEra era -&gt; Address
</span><span class="hs-identifier hs-var">toPlutusAddress</span></span><span> </span><span class="annot"><span class="annottext">AddressInEra BabbageEra
</span><a href="#local-6989586621679680829"><span class="hs-identifier hs-var">citoAddress</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-232"></span><span>
</span><span id="line-233"></span><span class="hs-comment">-- | List of outputs of a transaction. There is only an optional collateral output</span><span>
</span><span id="line-234"></span><span class="hs-comment">-- if the transaction is invalid.</span><span>
</span><span id="line-235"></span><span id="local-6989586621679680823"><span id="local-6989586621679680824"></span></span><span class="hs-keyword">data</span><span> </span><span id="ChainIndexTxOutputs"><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOutputs"><span class="hs-identifier hs-var">ChainIndexTxOutputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-236"></span><span>    </span><span id="InvalidTx"><span class="annot"><a href="Plutus.ChainIndex.Types.html#InvalidTx"><span class="hs-identifier hs-var">InvalidTx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOut"><span class="hs-identifier hs-type">ChainIndexTxOut</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ The transaction is invalid so there is maybe a collateral output.</span><span>
</span><span id="line-237"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ValidTx"><span class="annot"><a href="Plutus.ChainIndex.Types.html#ValidTx"><span class="hs-identifier hs-var">ValidTx</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOut"><span class="hs-identifier hs-type">ChainIndexTxOut</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-238"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680815"><span id="local-6989586621679680817"><span id="local-6989586621679680819"><span class="annot"><span class="annottext">Int -&gt; ChainIndexTxOutputs -&gt; ShowS
[ChainIndexTxOutputs] -&gt; ShowS
ChainIndexTxOutputs -&gt; String
(Int -&gt; ChainIndexTxOutputs -&gt; ShowS)
-&gt; (ChainIndexTxOutputs -&gt; String)
-&gt; ([ChainIndexTxOutputs] -&gt; ShowS)
-&gt; Show ChainIndexTxOutputs
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ChainIndexTxOutputs] -&gt; ShowS
$cshowList :: [ChainIndexTxOutputs] -&gt; ShowS
show :: ChainIndexTxOutputs -&gt; String
$cshow :: ChainIndexTxOutputs -&gt; String
showsPrec :: Int -&gt; ChainIndexTxOutputs -&gt; ShowS
$cshowsPrec :: Int -&gt; ChainIndexTxOutputs -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680811"><span id="local-6989586621679680813"><span class="annot"><span class="annottext">ChainIndexTxOutputs -&gt; ChainIndexTxOutputs -&gt; Bool
(ChainIndexTxOutputs -&gt; ChainIndexTxOutputs -&gt; Bool)
-&gt; (ChainIndexTxOutputs -&gt; ChainIndexTxOutputs -&gt; Bool)
-&gt; Eq ChainIndexTxOutputs
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ChainIndexTxOutputs -&gt; ChainIndexTxOutputs -&gt; Bool
$c/= :: ChainIndexTxOutputs -&gt; ChainIndexTxOutputs -&gt; Bool
== :: ChainIndexTxOutputs -&gt; ChainIndexTxOutputs -&gt; Bool
$c== :: ChainIndexTxOutputs -&gt; ChainIndexTxOutputs -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. ChainIndexTxOutputs -&gt; Rep ChainIndexTxOutputs x)
-&gt; (forall x. Rep ChainIndexTxOutputs x -&gt; ChainIndexTxOutputs)
-&gt; Generic ChainIndexTxOutputs
forall x. Rep ChainIndexTxOutputs x -&gt; ChainIndexTxOutputs
forall x. ChainIndexTxOutputs -&gt; Rep ChainIndexTxOutputs x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep ChainIndexTxOutputs x -&gt; ChainIndexTxOutputs
$cfrom :: forall x. ChainIndexTxOutputs -&gt; Rep ChainIndexTxOutputs x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680801"><span id="local-6989586621679680803"><span id="local-6989586621679680805"><span id="local-6989586621679680807"><span class="annot"><span class="annottext">[ChainIndexTxOutputs] -&gt; Encoding
[ChainIndexTxOutputs] -&gt; Value
ChainIndexTxOutputs -&gt; Encoding
ChainIndexTxOutputs -&gt; Value
(ChainIndexTxOutputs -&gt; Value)
-&gt; (ChainIndexTxOutputs -&gt; Encoding)
-&gt; ([ChainIndexTxOutputs] -&gt; Value)
-&gt; ([ChainIndexTxOutputs] -&gt; Encoding)
-&gt; ToJSON ChainIndexTxOutputs
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [ChainIndexTxOutputs] -&gt; Encoding
$ctoEncodingList :: [ChainIndexTxOutputs] -&gt; Encoding
toJSONList :: [ChainIndexTxOutputs] -&gt; Value
$ctoJSONList :: [ChainIndexTxOutputs] -&gt; Value
toEncoding :: ChainIndexTxOutputs -&gt; Encoding
$ctoEncoding :: ChainIndexTxOutputs -&gt; Encoding
toJSON :: ChainIndexTxOutputs -&gt; Value
$ctoJSON :: ChainIndexTxOutputs -&gt; Value
</span><a href="#local-6989586621679680801"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680797"><span id="local-6989586621679680799"><span class="annot"><span class="annottext">Value -&gt; Parser [ChainIndexTxOutputs]
Value -&gt; Parser ChainIndexTxOutputs
(Value -&gt; Parser ChainIndexTxOutputs)
-&gt; (Value -&gt; Parser [ChainIndexTxOutputs])
-&gt; FromJSON ChainIndexTxOutputs
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [ChainIndexTxOutputs]
$cparseJSONList :: Value -&gt; Parser [ChainIndexTxOutputs]
parseJSON :: Value -&gt; Parser ChainIndexTxOutputs
$cparseJSON :: Value -&gt; Parser ChainIndexTxOutputs
</span><a href="#local-6989586621679680797"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680789"><span id="local-6989586621679680791"><span id="local-6989586621679680793"><span id="local-6989586621679680795"><span class="annot"><span class="annottext">[ChainIndexTxOutputs] -&gt; Encoding
ChainIndexTxOutputs -&gt; Encoding
(ChainIndexTxOutputs -&gt; Encoding)
-&gt; (forall s. Decoder s ChainIndexTxOutputs)
-&gt; ([ChainIndexTxOutputs] -&gt; Encoding)
-&gt; (forall s. Decoder s [ChainIndexTxOutputs])
-&gt; Serialise ChainIndexTxOutputs
forall s. Decoder s [ChainIndexTxOutputs]
forall s. Decoder s ChainIndexTxOutputs
forall a.
(a -&gt; Encoding)
-&gt; (forall s. Decoder s a)
-&gt; ([a] -&gt; Encoding)
-&gt; (forall s. Decoder s [a])
-&gt; Serialise a
decodeList :: Decoder s [ChainIndexTxOutputs]
$cdecodeList :: forall s. Decoder s [ChainIndexTxOutputs]
encodeList :: [ChainIndexTxOutputs] -&gt; Encoding
$cencodeList :: [ChainIndexTxOutputs] -&gt; Encoding
decode :: Decoder s ChainIndexTxOutputs
$cdecode :: forall s. Decoder s ChainIndexTxOutputs
encode :: ChainIndexTxOutputs -&gt; Encoding
$cencode :: ChainIndexTxOutputs -&gt; Encoding
</span><a href="#local-6989586621679680789"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Serialise</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680786"><span class="annot"><span class="annottext">Typeable ChainIndexTxOutputs
Typeable ChainIndexTxOutputs
-&gt; (Proxy ChainIndexTxOutputs
    -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; ToSchema ChainIndexTxOutputs
Proxy ChainIndexTxOutputs
-&gt; Declare (Definitions Schema) NamedSchema
forall a.
Typeable a
-&gt; (Proxy a -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; ToSchema a
declareNamedSchema :: Proxy ChainIndexTxOutputs
-&gt; Declare (Definitions Schema) NamedSchema
$cdeclareNamedSchema :: Proxy ChainIndexTxOutputs
-&gt; Declare (Definitions Schema) NamedSchema
$cp1ToSchema :: Typeable ChainIndexTxOutputs
</span><a href="#local-6989586621679680786"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var">OpenApi.ToSchema</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span id="_ValidTx"><span id="_InvalidTx"><span class="hs-identifier">makePrisms</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">ChainIndexTxOutputs</span></span></span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span class="annot"><a href="Plutus.ChainIndex.Types.html#chainIndexTxOutputs"><span class="hs-identifier hs-type">chainIndexTxOutputs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Traversal'</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOutputs"><span class="hs-identifier hs-type">ChainIndexTxOutputs</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOut"><span class="hs-identifier hs-type">ChainIndexTxOut</span></a></span><span>
</span><span id="line-243"></span><span id="chainIndexTxOutputs"><span class="annot"><span class="annottext">chainIndexTxOutputs :: (ChainIndexTxOut -&gt; f ChainIndexTxOut)
-&gt; ChainIndexTxOutputs -&gt; f ChainIndexTxOutputs
</span><a href="Plutus.ChainIndex.Types.html#chainIndexTxOutputs"><span class="hs-identifier hs-var hs-var">chainIndexTxOutputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((ChainIndexTxOut -&gt; f ChainIndexTxOut)
 -&gt; ChainIndexTxOutputs -&gt; f ChainIndexTxOutputs)
-&gt; (ChainIndexTxOut -&gt; f ChainIndexTxOut)
-&gt; ChainIndexTxOutputs
-&gt; f ChainIndexTxOutputs
forall a (f :: * -&gt; *) b s t.
((a -&gt; f b) -&gt; s -&gt; f t) -&gt; (a -&gt; f b) -&gt; s -&gt; f t
</span><span class="hs-identifier hs-var">traversal</span></span><span> </span><span class="annot"><span class="annottext">(ChainIndexTxOut -&gt; f ChainIndexTxOut)
-&gt; ChainIndexTxOutputs -&gt; f ChainIndexTxOutputs
forall (f :: * -&gt; *).
Applicative f =&gt;
(ChainIndexTxOut -&gt; f ChainIndexTxOut)
-&gt; ChainIndexTxOutputs -&gt; f ChainIndexTxOutputs
</span><a href="#local-6989586621679680785"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-244"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-245"></span><span>    </span><span id="local-6989586621679681297"><span class="annot"><a href="#local-6989586621679680785"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679681297"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOut"><span class="hs-identifier hs-type">ChainIndexTxOut</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679681297"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOut"><span class="hs-identifier hs-type">ChainIndexTxOut</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOutputs"><span class="hs-identifier hs-type">ChainIndexTxOutputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679681297"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOutputs"><span class="hs-identifier hs-type">ChainIndexTxOutputs</span></a></span></span><span>
</span><span id="line-246"></span><span>    </span><span id="local-6989586621679680785"><span class="annot"><span class="annottext">go :: (ChainIndexTxOut -&gt; f ChainIndexTxOut)
-&gt; ChainIndexTxOutputs -&gt; f ChainIndexTxOutputs
</span><a href="#local-6989586621679680785"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679680784"><span class="annot"><span class="annottext">ChainIndexTxOut -&gt; f ChainIndexTxOut
</span><a href="#local-6989586621679680784"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#InvalidTx"><span class="hs-identifier hs-type">InvalidTx</span></a></span><span> </span><span id="local-6989586621679680783"><span class="annot"><span class="annottext">Maybe ChainIndexTxOut
</span><a href="#local-6989586621679680783"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe ChainIndexTxOut -&gt; ChainIndexTxOutputs
</span><a href="Plutus.ChainIndex.Types.html#InvalidTx"><span class="hs-identifier hs-var">InvalidTx</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe ChainIndexTxOut -&gt; ChainIndexTxOutputs)
-&gt; f (Maybe ChainIndexTxOut) -&gt; f ChainIndexTxOutputs
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainIndexTxOut -&gt; f ChainIndexTxOut)
-&gt; Maybe ChainIndexTxOut -&gt; f (Maybe ChainIndexTxOut)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">ChainIndexTxOut -&gt; f ChainIndexTxOut
</span><a href="#local-6989586621679680784"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ChainIndexTxOut
</span><a href="#local-6989586621679680783"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-247"></span><span>    </span><span class="annot"><a href="#local-6989586621679680785"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621679680781"><span class="annot"><span class="annottext">ChainIndexTxOut -&gt; f ChainIndexTxOut
</span><a href="#local-6989586621679680781"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ValidTx"><span class="hs-identifier hs-type">ValidTx</span></a></span><span> </span><span id="local-6989586621679680780"><span class="annot"><span class="annottext">[ChainIndexTxOut]
</span><a href="#local-6989586621679680780"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ChainIndexTxOut] -&gt; ChainIndexTxOutputs
</span><a href="Plutus.ChainIndex.Types.html#ValidTx"><span class="hs-identifier hs-var">ValidTx</span></a></span><span> </span><span class="annot"><span class="annottext">([ChainIndexTxOut] -&gt; ChainIndexTxOutputs)
-&gt; f [ChainIndexTxOut] -&gt; f ChainIndexTxOutputs
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainIndexTxOut -&gt; f ChainIndexTxOut)
-&gt; [ChainIndexTxOut] -&gt; f [ChainIndexTxOut]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">ChainIndexTxOut -&gt; f ChainIndexTxOut
</span><a href="#local-6989586621679680781"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[ChainIndexTxOut]
</span><a href="#local-6989586621679680780"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span id="local-6989586621679680777"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span></span><span>
</span><span id="line-250"></span><span id="local-6989586621679680774"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">RedeemerPtr</span></span></span><span>
</span><span id="line-251"></span><span id="local-6989586621679680771"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Redeemer</span></span></span><span>
</span><span id="line-252"></span><span id="local-6989586621679680768"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScriptHash</span></span></span><span>
</span><span id="line-253"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Script</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-254"></span><span>    </span><span id="local-6989586621679680765"><span class="annot"><span class="annottext">declareNamedSchema :: Proxy Script -&gt; Declare (Definitions Schema) NamedSchema
</span><a href="#local-6989586621679680765"><span class="hs-identifier hs-var hs-var hs-var hs-var">declareNamedSchema</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy Script
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-255"></span><span>        </span><span class="annot"><span class="annottext">NamedSchema -&gt; Declare (Definitions Schema) NamedSchema
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(NamedSchema -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; NamedSchema -&gt; Declare (Definitions Schema) NamedSchema
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text -&gt; Schema -&gt; NamedSchema
</span><span class="hs-identifier hs-var">OpenApi.NamedSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Maybe Text
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Script&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy String -&gt; Schema
forall a. ToSchema a =&gt; Proxy a -&gt; Schema
</span><span class="hs-identifier hs-var">OpenApi.toSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy String
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-256"></span><span id="local-6989586621679680762"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CurrencySymbol</span></span></span><span>
</span><span id="line-257"></span><span id="local-6989586621679680759"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Datum</span></span></span><span>
</span><span id="line-258"></span><span id="local-6989586621679680756"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">DatumHash</span></span></span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span id="local-6989586621679680754"><span id="local-6989586621679680755"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679680755"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679680754"><span class="hs-identifier hs-type">mode</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C.EraInMode</span></span><span> </span><span class="annot"><a href="#local-6989586621679680755"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679680754"><span class="hs-identifier hs-type">mode</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-261"></span><span>  </span><span id="local-6989586621679680751"><span class="annot"><span class="annottext">declareNamedSchema :: Proxy (EraInMode era mode)
-&gt; Declare (Definitions Schema) NamedSchema
</span><a href="#local-6989586621679680751"><span class="hs-identifier hs-var hs-var hs-var hs-var">declareNamedSchema</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (EraInMode era mode)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-262"></span><span>    </span><span class="annot"><span class="annottext">NamedSchema -&gt; Declare (Definitions Schema) NamedSchema
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(NamedSchema -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; NamedSchema -&gt; Declare (Definitions Schema) NamedSchema
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text -&gt; Schema -&gt; NamedSchema
</span><span class="hs-identifier hs-var">NamedSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Maybe Text
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;EraInMode&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Schema -&gt; NamedSchema) -&gt; Schema -&gt; NamedSchema
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">EraInMode BabbageEra CardanoMode -&gt; Schema
forall a. ToJSON a =&gt; a -&gt; Schema
</span><span class="hs-identifier hs-var">sketchSchema</span></span><span> </span><span class="annot"><span class="annottext">EraInMode BabbageEra CardanoMode
</span><span class="hs-identifier hs-var">C.BabbageEraInCardanoMode</span></span></span></span><span>
</span><span id="line-263"></span><span>
</span><span id="line-264"></span><span id="local-6989586621679680749"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679680749"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C.Tx</span></span><span> </span><span class="annot"><a href="#local-6989586621679680749"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-265"></span><span>  </span><span id="local-6989586621679680746"><span class="annot"><span class="annottext">declareNamedSchema :: Proxy (Tx era) -&gt; Declare (Definitions Schema) NamedSchema
</span><a href="#local-6989586621679680746"><span class="hs-identifier hs-var hs-var hs-var hs-var">declareNamedSchema</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (Tx era)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-266"></span><span>    </span><span class="annot"><span class="annottext">NamedSchema -&gt; Declare (Definitions Schema) NamedSchema
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(NamedSchema -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; NamedSchema -&gt; Declare (Definitions Schema) NamedSchema
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text -&gt; Schema -&gt; NamedSchema
</span><span class="hs-identifier hs-var">NamedSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Maybe Text
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Tx&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Schema
</span><span class="hs-identifier hs-var">byteSchema</span></span></span><span>
</span><span id="line-267"></span><span>
</span><span id="line-268"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CardanoTx</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-269"></span><span>  </span><span id="local-6989586621679680743"><span class="annot"><span class="annottext">declareNamedSchema :: Proxy CardanoTx -&gt; Declare (Definitions Schema) NamedSchema
</span><a href="#local-6989586621679680743"><span class="hs-identifier hs-var hs-var hs-var hs-var">declareNamedSchema</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy CardanoTx
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-270"></span><span>    </span><span id="local-6989586621679680742"><span class="annot"><span class="annottext">Referenced Schema
</span><a href="#local-6989586621679680742"><span class="hs-identifier hs-var">txSchema</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Proxy (Tx BabbageEra)
-&gt; Declare (Definitions Schema) (Referenced Schema)
forall a.
ToSchema a =&gt;
Proxy a -&gt; Declare (Definitions Schema) (Referenced Schema)
</span><span class="hs-identifier hs-var">declareSchemaRef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (Tx BabbageEra)
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C.Tx</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C.BabbageEra</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>    </span><span id="local-6989586621679680741"><span class="annot"><span class="annottext">Referenced Schema
</span><a href="#local-6989586621679680741"><span class="hs-identifier hs-var">eraInModeSchema</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Proxy (EraInMode BabbageEra CardanoMode)
-&gt; Declare (Definitions Schema) (Referenced Schema)
forall a.
ToSchema a =&gt;
Proxy a -&gt; Declare (Definitions Schema) (Referenced Schema)
</span><span class="hs-identifier hs-var">declareSchemaRef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (EraInMode BabbageEra CardanoMode)
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C.EraInMode</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C.BabbageEra</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C.CardanoMode</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>    </span><span class="annot"><span class="annottext">NamedSchema -&gt; Declare (Definitions Schema) NamedSchema
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(NamedSchema -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; NamedSchema -&gt; Declare (Definitions Schema) NamedSchema
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text -&gt; Schema -&gt; NamedSchema
</span><span class="hs-identifier hs-var">NamedSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Maybe Text
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;CardanoTx&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Schema -&gt; NamedSchema) -&gt; Schema -&gt; NamedSchema
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Schema
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-273"></span><span>      </span><span class="annot"><span class="annottext">Schema -&gt; (Schema -&gt; Schema) -&gt; Schema
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe OpenApiType -&gt; Identity (Maybe OpenApiType))
-&gt; Schema -&gt; Identity Schema
forall s a. HasType s a =&gt; Lens' s a
</span><span class="hs-identifier hs-var">type_</span></span><span> </span><span class="annot"><span class="annottext">((Maybe OpenApiType -&gt; Identity (Maybe OpenApiType))
 -&gt; Schema -&gt; Identity Schema)
-&gt; OpenApiType -&gt; Schema -&gt; Schema
forall s t a b. ASetter s t a (Maybe b) -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">?~</span></span><span> </span><span class="annot"><span class="annottext">OpenApiType
</span><span class="hs-identifier hs-var">OpenApiObject</span></span><span>
</span><span id="line-274"></span><span>      </span><span class="annot"><span class="annottext">Schema -&gt; (Schema -&gt; Schema) -&gt; Schema
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(InsOrdHashMap Text (Referenced Schema)
 -&gt; Identity (InsOrdHashMap Text (Referenced Schema)))
-&gt; Schema -&gt; Identity Schema
forall s a. HasProperties s a =&gt; Lens' s a
</span><span class="hs-identifier hs-var">properties</span></span><span> </span><span class="annot"><span class="annottext">((InsOrdHashMap Text (Referenced Schema)
  -&gt; Identity (InsOrdHashMap Text (Referenced Schema)))
 -&gt; Schema -&gt; Identity Schema)
-&gt; InsOrdHashMap Text (Referenced Schema) -&gt; Schema -&gt; Schema
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span>
</span><span id="line-275"></span><span>          </span><span class="annot"><span class="annottext">[(Text, Referenced Schema)]
-&gt; InsOrdHashMap Text (Referenced Schema)
forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; InsOrdHashMap k v
</span><span class="hs-identifier hs-var">InsOrdMap.fromList</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;tx&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Referenced Schema
</span><a href="#local-6989586621679680742"><span class="hs-identifier hs-var">txSchema</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-276"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;eraInMode&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Referenced Schema
</span><a href="#local-6989586621679680741"><span class="hs-identifier hs-var">eraInModeSchema</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-277"></span><span>          </span><span class="hs-special">]</span><span>
</span><span id="line-278"></span><span>      </span><span class="annot"><span class="annottext">Schema -&gt; (Schema -&gt; Schema) -&gt; Schema
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">([Text] -&gt; Identity [Text]) -&gt; Schema -&gt; Identity Schema
forall s a. HasRequired s a =&gt; Lens' s a
</span><span class="hs-identifier hs-var">required</span></span><span> </span><span class="annot"><span class="annottext">(([Text] -&gt; Identity [Text]) -&gt; Schema -&gt; Identity Schema)
-&gt; [Text] -&gt; Schema -&gt; Schema
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;tx&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;eraInMode&quot;</span></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-279"></span><span>
</span><span id="line-280"></span><span id="local-6989586621679680739"><span id="local-6989586621679680740"></span></span><span class="hs-keyword">data</span><span> </span><span id="ChainIndexTx"><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTx"><span class="hs-identifier hs-var">ChainIndexTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ChainIndexTx"><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTx"><span class="hs-identifier hs-var">ChainIndexTx</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-281"></span><span>    </span><span id="_citxTxId"><span class="annot"><span class="annottext">ChainIndexTx -&gt; TxId
</span><a href="Plutus.ChainIndex.Types.html#_citxTxId"><span class="hs-identifier hs-var hs-var">_citxTxId</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxId</span></span><span class="hs-special">,</span><span>
</span><span id="line-282"></span><span>    </span><span class="hs-comment">-- ^ The id of this transaction.</span><span>
</span><span id="line-283"></span><span>    </span><span id="_citxInputs"><span class="annot"><span class="annottext">ChainIndexTx -&gt; [TxOutRef]
</span><a href="Plutus.ChainIndex.Types.html#_citxInputs"><span class="hs-identifier hs-var hs-var">_citxInputs</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-284"></span><span>    </span><span class="hs-comment">-- ^ The inputs to this transaction.</span><span>
</span><span id="line-285"></span><span>    </span><span id="_citxOutputs"><span class="annot"><span class="annottext">ChainIndexTx -&gt; ChainIndexTxOutputs
</span><a href="Plutus.ChainIndex.Types.html#_citxOutputs"><span class="hs-identifier hs-var hs-var">_citxOutputs</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOutputs"><span class="hs-identifier hs-type">ChainIndexTxOutputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-286"></span><span>    </span><span class="hs-comment">-- ^ The outputs of this transaction, ordered so they can be referenced by index.</span><span>
</span><span id="line-287"></span><span>    </span><span id="_citxValidRange"><span class="annot"><span class="annottext">ChainIndexTx -&gt; SlotRange
</span><a href="Plutus.ChainIndex.Types.html#_citxValidRange"><span class="hs-identifier hs-var hs-var">_citxValidRange</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">SlotRange</span></span><span class="hs-special">,</span><span>
</span><span id="line-288"></span><span>    </span><span class="hs-comment">-- ^ The 'SlotRange' during which this transaction may be validated.</span><span>
</span><span id="line-289"></span><span>    </span><span id="_citxData"><span class="annot"><span class="annottext">ChainIndexTx -&gt; Map DatumHash Datum
</span><a href="Plutus.ChainIndex.Types.html#_citxData"><span class="hs-identifier hs-var hs-var">_citxData</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">DatumHash</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Datum</span></span><span class="hs-special">,</span><span>
</span><span id="line-290"></span><span>    </span><span class="hs-comment">-- ^ Datum objects recorded on this transaction.</span><span>
</span><span id="line-291"></span><span>    </span><span id="_citxRedeemers"><span class="annot"><span class="annottext">ChainIndexTx -&gt; Redeemers
</span><a href="Plutus.ChainIndex.Types.html#_citxRedeemers"><span class="hs-identifier hs-var hs-var">_citxRedeemers</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Redeemers</span></span><span class="hs-special">,</span><span>
</span><span id="line-292"></span><span>    </span><span class="hs-comment">-- ^ Redeemers of the minting scripts.</span><span>
</span><span id="line-293"></span><span>    </span><span id="_citxScripts"><span class="annot"><span class="annottext">ChainIndexTx -&gt; Map ScriptHash (Versioned Script)
</span><a href="Plutus.ChainIndex.Types.html#_citxScripts"><span class="hs-identifier hs-var hs-var">_citxScripts</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScriptHash</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Versioned</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Script</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-294"></span><span>    </span><span class="hs-comment">-- ^ The scripts (validator, stake validator or minting) part of cardano tx.</span><span>
</span><span id="line-295"></span><span>    </span><span id="_citxCardanoTx"><span class="annot"><span class="annottext">ChainIndexTx -&gt; Maybe CardanoTx
</span><a href="Plutus.ChainIndex.Types.html#_citxCardanoTx"><span class="hs-identifier hs-var hs-var">_citxCardanoTx</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CardanoTx</span></span><span>
</span><span id="line-296"></span><span>    </span><span class="hs-comment">-- ^ The full Cardano API tx which was used to populate the rest of the</span><span>
</span><span id="line-297"></span><span>    </span><span class="hs-comment">-- 'ChainIndexTx' fields. Useful because 'ChainIndexTx' doesn't have all the</span><span>
</span><span id="line-298"></span><span>    </span><span class="hs-comment">-- details of the tx, so we keep it as a safety net. Might be Nothing if we</span><span>
</span><span id="line-299"></span><span>    </span><span class="hs-comment">-- are in the emulator.</span><span>
</span><span id="line-300"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680724"><span id="local-6989586621679680726"><span id="local-6989586621679680728"><span class="annot"><span class="annottext">Int -&gt; ChainIndexTx -&gt; ShowS
[ChainIndexTx] -&gt; ShowS
ChainIndexTx -&gt; String
(Int -&gt; ChainIndexTx -&gt; ShowS)
-&gt; (ChainIndexTx -&gt; String)
-&gt; ([ChainIndexTx] -&gt; ShowS)
-&gt; Show ChainIndexTx
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ChainIndexTx] -&gt; ShowS
$cshowList :: [ChainIndexTx] -&gt; ShowS
show :: ChainIndexTx -&gt; String
$cshow :: ChainIndexTx -&gt; String
showsPrec :: Int -&gt; ChainIndexTx -&gt; ShowS
$cshowsPrec :: Int -&gt; ChainIndexTx -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680720"><span id="local-6989586621679680722"><span class="annot"><span class="annottext">ChainIndexTx -&gt; ChainIndexTx -&gt; Bool
(ChainIndexTx -&gt; ChainIndexTx -&gt; Bool)
-&gt; (ChainIndexTx -&gt; ChainIndexTx -&gt; Bool) -&gt; Eq ChainIndexTx
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ChainIndexTx -&gt; ChainIndexTx -&gt; Bool
$c/= :: ChainIndexTx -&gt; ChainIndexTx -&gt; Bool
== :: ChainIndexTx -&gt; ChainIndexTx -&gt; Bool
$c== :: ChainIndexTx -&gt; ChainIndexTx -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. ChainIndexTx -&gt; Rep ChainIndexTx x)
-&gt; (forall x. Rep ChainIndexTx x -&gt; ChainIndexTx)
-&gt; Generic ChainIndexTx
forall x. Rep ChainIndexTx x -&gt; ChainIndexTx
forall x. ChainIndexTx -&gt; Rep ChainIndexTx x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep ChainIndexTx x -&gt; ChainIndexTx
$cfrom :: forall x. ChainIndexTx -&gt; Rep ChainIndexTx x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680710"><span id="local-6989586621679680712"><span id="local-6989586621679680714"><span id="local-6989586621679680716"><span class="annot"><span class="annottext">[ChainIndexTx] -&gt; Encoding
[ChainIndexTx] -&gt; Value
ChainIndexTx -&gt; Encoding
ChainIndexTx -&gt; Value
(ChainIndexTx -&gt; Value)
-&gt; (ChainIndexTx -&gt; Encoding)
-&gt; ([ChainIndexTx] -&gt; Value)
-&gt; ([ChainIndexTx] -&gt; Encoding)
-&gt; ToJSON ChainIndexTx
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [ChainIndexTx] -&gt; Encoding
$ctoEncodingList :: [ChainIndexTx] -&gt; Encoding
toJSONList :: [ChainIndexTx] -&gt; Value
$ctoJSONList :: [ChainIndexTx] -&gt; Value
toEncoding :: ChainIndexTx -&gt; Encoding
$ctoEncoding :: ChainIndexTx -&gt; Encoding
toJSON :: ChainIndexTx -&gt; Value
$ctoJSON :: ChainIndexTx -&gt; Value
</span><a href="#local-6989586621679680710"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680706"><span id="local-6989586621679680708"><span class="annot"><span class="annottext">Value -&gt; Parser [ChainIndexTx]
Value -&gt; Parser ChainIndexTx
(Value -&gt; Parser ChainIndexTx)
-&gt; (Value -&gt; Parser [ChainIndexTx]) -&gt; FromJSON ChainIndexTx
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [ChainIndexTx]
$cparseJSONList :: Value -&gt; Parser [ChainIndexTx]
parseJSON :: Value -&gt; Parser ChainIndexTx
$cparseJSON :: Value -&gt; Parser ChainIndexTx
</span><a href="#local-6989586621679680706"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680698"><span id="local-6989586621679680700"><span id="local-6989586621679680702"><span id="local-6989586621679680704"><span class="annot"><span class="annottext">[ChainIndexTx] -&gt; Encoding
ChainIndexTx -&gt; Encoding
(ChainIndexTx -&gt; Encoding)
-&gt; (forall s. Decoder s ChainIndexTx)
-&gt; ([ChainIndexTx] -&gt; Encoding)
-&gt; (forall s. Decoder s [ChainIndexTx])
-&gt; Serialise ChainIndexTx
forall s. Decoder s [ChainIndexTx]
forall s. Decoder s ChainIndexTx
forall a.
(a -&gt; Encoding)
-&gt; (forall s. Decoder s a)
-&gt; ([a] -&gt; Encoding)
-&gt; (forall s. Decoder s [a])
-&gt; Serialise a
decodeList :: Decoder s [ChainIndexTx]
$cdecodeList :: forall s. Decoder s [ChainIndexTx]
encodeList :: [ChainIndexTx] -&gt; Encoding
$cencodeList :: [ChainIndexTx] -&gt; Encoding
decode :: Decoder s ChainIndexTx
$cdecode :: forall s. Decoder s ChainIndexTx
encode :: ChainIndexTx -&gt; Encoding
$cencode :: ChainIndexTx -&gt; Encoding
</span><a href="#local-6989586621679680698"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Serialise</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680695"><span class="annot"><span class="annottext">Typeable ChainIndexTx
Typeable ChainIndexTx
-&gt; (Proxy ChainIndexTx -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; ToSchema ChainIndexTx
Proxy ChainIndexTx -&gt; Declare (Definitions Schema) NamedSchema
forall a.
Typeable a
-&gt; (Proxy a -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; ToSchema a
declareNamedSchema :: Proxy ChainIndexTx -&gt; Declare (Definitions Schema) NamedSchema
$cdeclareNamedSchema :: Proxy ChainIndexTx -&gt; Declare (Definitions Schema) NamedSchema
$cp1ToSchema :: Typeable ChainIndexTx
</span><a href="#local-6989586621679680695"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var">OpenApi.ToSchema</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span id="citxCardanoTx"><span id="citxScripts"><span id="citxRedeemers"><span id="citxData"><span id="citxValidRange"><span id="citxOutputs"><span id="citxInputs"><span id="citxTxId"><span class="hs-identifier">makeLenses</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">ChainIndexTx</span></span></span></span></span></span></span></span></span><span>
</span><span id="line-303"></span><span>
</span><span id="line-304"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679680692"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTx"><span class="hs-identifier hs-type">ChainIndexTx</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-305"></span><span>    </span><span id="local-6989586621679680691"><span class="annot"><span class="annottext">pretty :: ChainIndexTx -&gt; Doc ann
</span><a href="#local-6989586621679680691"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTx"><span class="hs-identifier hs-type">ChainIndexTx</span></a></span><span class="hs-special">{</span><span id="local-6989586621679680690"><span class="annot"><span class="annottext">TxId
_citxTxId :: TxId
_citxTxId :: ChainIndexTx -&gt; TxId
</span><a href="#local-6989586621679680690"><span class="hs-identifier hs-var hs-var">_citxTxId</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680689"><span class="annot"><span class="annottext">[TxOutRef]
_citxInputs :: [TxOutRef]
_citxInputs :: ChainIndexTx -&gt; [TxOutRef]
</span><a href="#local-6989586621679680689"><span class="hs-identifier hs-var hs-var">_citxInputs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_citxOutputs :: ChainIndexTx -&gt; ChainIndexTxOutputs
</span><a href="Plutus.ChainIndex.Types.html#_citxOutputs"><span class="hs-identifier hs-var">_citxOutputs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ValidTx"><span class="hs-identifier hs-type">ValidTx</span></a></span><span> </span><span id="local-6989586621679680688"><span class="annot"><span class="annottext">[ChainIndexTxOut]
</span><a href="#local-6989586621679680688"><span class="hs-identifier hs-var">outputs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680687"><span class="annot"><span class="annottext">SlotRange
_citxValidRange :: SlotRange
_citxValidRange :: ChainIndexTx -&gt; SlotRange
</span><a href="#local-6989586621679680687"><span class="hs-identifier hs-var hs-var">_citxValidRange</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680686"><span class="annot"><span class="annottext">Map DatumHash Datum
_citxData :: Map DatumHash Datum
_citxData :: ChainIndexTx -&gt; Map DatumHash Datum
</span><a href="#local-6989586621679680686"><span class="hs-identifier hs-var hs-var">_citxData</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680685"><span class="annot"><span class="annottext">Redeemers
_citxRedeemers :: Redeemers
_citxRedeemers :: ChainIndexTx -&gt; Redeemers
</span><a href="#local-6989586621679680685"><span class="hs-identifier hs-var hs-var">_citxRedeemers</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680684"><span class="annot"><span class="annottext">Map ScriptHash (Versioned Script)
_citxScripts :: Map ScriptHash (Versioned Script)
_citxScripts :: ChainIndexTx -&gt; Map ScriptHash (Versioned Script)
</span><a href="#local-6989586621679680684"><span class="hs-identifier hs-var hs-var">_citxScripts</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-306"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679680683"><span class="annot"><span class="annottext">lines' :: [Doc ann]
</span><a href="#local-6989586621679680683"><span class="hs-identifier hs-var hs-var">lines'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-307"></span><span>                </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc ann -&gt; Doc ann
forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">hang</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;inputs:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">(TxOutRef -&gt; Doc ann) -&gt; [TxOutRef] -&gt; [Doc ann]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">[TxOutRef]
</span><a href="#local-6989586621679680689"><span class="hs-identifier hs-var">_citxInputs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc ann -&gt; Doc ann
forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">hang</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;outputs:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainIndexTxOut -&gt; Doc ann) -&gt; [ChainIndexTxOut] -&gt; [Doc ann]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">ChainIndexTxOut -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">[ChainIndexTxOut]
</span><a href="#local-6989586621679680688"><span class="hs-identifier hs-var">outputs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-309"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc ann -&gt; Doc ann
forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">hang</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;scripts hashes:&quot;</span></span><span class="annot"><span class="annottext">Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">((ScriptHash, Versioned Script) -&gt; Doc ann)
-&gt; [(ScriptHash, Versioned Script)] -&gt; [Doc ann]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptHash -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">(ScriptHash -&gt; Doc ann)
-&gt; ((ScriptHash, Versioned Script) -&gt; ScriptHash)
-&gt; (ScriptHash, Versioned Script)
-&gt; Doc ann
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptHash, Versioned Script) -&gt; ScriptHash
forall a b. (a, b) -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fst</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map ScriptHash (Versioned Script)
-&gt; [(ScriptHash, Versioned Script)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">Map.toList</span></span><span> </span><span class="annot"><span class="annottext">Map ScriptHash (Versioned Script)
</span><a href="#local-6989586621679680684"><span class="hs-identifier hs-var">_citxScripts</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-310"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;validity range:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">SlotRange -&gt; Doc ann
forall a ann. Show a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">viaShow</span></span><span> </span><span class="annot"><span class="annottext">SlotRange
</span><a href="#local-6989586621679680687"><span class="hs-identifier hs-var">_citxValidRange</span></a></span><span>
</span><span id="line-311"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc ann -&gt; Doc ann
forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">hang</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;data:&quot;</span></span><span class="annot"><span class="annottext">Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">((DatumHash, Datum) -&gt; Doc ann)
-&gt; [(DatumHash, Datum)] -&gt; [Doc ann]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Datum -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">(Datum -&gt; Doc ann)
-&gt; ((DatumHash, Datum) -&gt; Datum) -&gt; (DatumHash, Datum) -&gt; Doc ann
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(DatumHash, Datum) -&gt; Datum
forall a b. (a, b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map DatumHash Datum -&gt; [(DatumHash, Datum)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">Map.toList</span></span><span> </span><span class="annot"><span class="annottext">Map DatumHash Datum
</span><a href="#local-6989586621679680686"><span class="hs-identifier hs-var">_citxData</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-312"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc ann -&gt; Doc ann
forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">hang</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;redeemers:&quot;</span></span><span class="annot"><span class="annottext">Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">((RedeemerPtr, Redeemer) -&gt; Doc ann)
-&gt; [(RedeemerPtr, Redeemer)] -&gt; [Doc ann]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Redeemer -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">(Redeemer -&gt; Doc ann)
-&gt; ((RedeemerPtr, Redeemer) -&gt; Redeemer)
-&gt; (RedeemerPtr, Redeemer)
-&gt; Doc ann
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(RedeemerPtr, Redeemer) -&gt; Redeemer
forall a b. (a, b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Redeemers -&gt; [(RedeemerPtr, Redeemer)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">Map.toList</span></span><span> </span><span class="annot"><span class="annottext">Redeemers
</span><a href="#local-6989586621679680685"><span class="hs-identifier hs-var">_citxRedeemers</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span>                </span><span class="hs-special">]</span><span>
</span><span id="line-314"></span><span>        </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc ann -&gt; Doc ann
forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">nest</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Valid tx&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">TxId -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621679680690"><span class="hs-identifier hs-var">_citxTxId</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">colon</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">braces</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="annot"><span class="annottext">[Doc ann]
</span><a href="#local-6989586621679680683"><span class="hs-identifier hs-var">lines'</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-315"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTx"><span class="hs-identifier hs-type">ChainIndexTx</span></a></span><span class="hs-special">{</span><span id="local-6989586621679680676"><span class="annot"><span class="annottext">TxId
_citxTxId :: TxId
_citxTxId :: ChainIndexTx -&gt; TxId
</span><a href="#local-6989586621679680676"><span class="hs-identifier hs-var hs-var">_citxTxId</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680675"><span class="annot"><span class="annottext">[TxOutRef]
_citxInputs :: [TxOutRef]
_citxInputs :: ChainIndexTx -&gt; [TxOutRef]
</span><a href="#local-6989586621679680675"><span class="hs-identifier hs-var hs-var">_citxInputs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_citxOutputs :: ChainIndexTx -&gt; ChainIndexTxOutputs
</span><a href="Plutus.ChainIndex.Types.html#_citxOutputs"><span class="hs-identifier hs-var">_citxOutputs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#InvalidTx"><span class="hs-identifier hs-type">InvalidTx</span></a></span><span> </span><span id="local-6989586621679680674"><span class="annot"><span class="annottext">Maybe ChainIndexTxOut
</span><a href="#local-6989586621679680674"><span class="hs-identifier hs-var">mOutput</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680673"><span class="annot"><span class="annottext">SlotRange
_citxValidRange :: SlotRange
_citxValidRange :: ChainIndexTx -&gt; SlotRange
</span><a href="#local-6989586621679680673"><span class="hs-identifier hs-var hs-var">_citxValidRange</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680672"><span class="annot"><span class="annottext">Map DatumHash Datum
_citxData :: Map DatumHash Datum
_citxData :: ChainIndexTx -&gt; Map DatumHash Datum
</span><a href="#local-6989586621679680672"><span class="hs-identifier hs-var hs-var">_citxData</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680671"><span class="annot"><span class="annottext">Redeemers
_citxRedeemers :: Redeemers
_citxRedeemers :: ChainIndexTx -&gt; Redeemers
</span><a href="#local-6989586621679680671"><span class="hs-identifier hs-var hs-var">_citxRedeemers</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680670"><span class="annot"><span class="annottext">Map ScriptHash (Versioned Script)
_citxScripts :: Map ScriptHash (Versioned Script)
_citxScripts :: ChainIndexTx -&gt; Map ScriptHash (Versioned Script)
</span><a href="#local-6989586621679680670"><span class="hs-identifier hs-var hs-var">_citxScripts</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-316"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679680669"><span class="annot"><span class="annottext">lines' :: [Doc ann]
</span><a href="#local-6989586621679680669"><span class="hs-identifier hs-var hs-var">lines'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-317"></span><span>                </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc ann -&gt; Doc ann
forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">hang</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;inputs:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">(TxOutRef -&gt; Doc ann) -&gt; [TxOutRef] -&gt; [Doc ann]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">[TxOutRef]
</span><a href="#local-6989586621679680675"><span class="hs-identifier hs-var">_citxInputs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-318"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc ann -&gt; Doc ann
forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">hang</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;collateral output:&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
-&gt; (ChainIndexTxOut -&gt; Doc ann) -&gt; Maybe ChainIndexTxOut -&gt; Doc ann
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;-&quot;</span></span><span> </span><span class="annot"><span class="annottext">ChainIndexTxOut -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Maybe ChainIndexTxOut
</span><a href="#local-6989586621679680674"><span class="hs-identifier hs-var">mOutput</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-319"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc ann -&gt; Doc ann
forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">hang</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;scripts hashes:&quot;</span></span><span class="annot"><span class="annottext">Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">((ScriptHash, Versioned Script) -&gt; Doc ann)
-&gt; [(ScriptHash, Versioned Script)] -&gt; [Doc ann]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptHash -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">(ScriptHash -&gt; Doc ann)
-&gt; ((ScriptHash, Versioned Script) -&gt; ScriptHash)
-&gt; (ScriptHash, Versioned Script)
-&gt; Doc ann
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptHash, Versioned Script) -&gt; ScriptHash
forall a b. (a, b) -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fst</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map ScriptHash (Versioned Script)
-&gt; [(ScriptHash, Versioned Script)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">Map.toList</span></span><span> </span><span class="annot"><span class="annottext">Map ScriptHash (Versioned Script)
</span><a href="#local-6989586621679680670"><span class="hs-identifier hs-var">_citxScripts</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;validity range:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">SlotRange -&gt; Doc ann
forall a ann. Show a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">viaShow</span></span><span> </span><span class="annot"><span class="annottext">SlotRange
</span><a href="#local-6989586621679680673"><span class="hs-identifier hs-var">_citxValidRange</span></a></span><span>
</span><span id="line-321"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc ann -&gt; Doc ann
forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">hang</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;data:&quot;</span></span><span class="annot"><span class="annottext">Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">((DatumHash, Datum) -&gt; Doc ann)
-&gt; [(DatumHash, Datum)] -&gt; [Doc ann]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Datum -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">(Datum -&gt; Doc ann)
-&gt; ((DatumHash, Datum) -&gt; Datum) -&gt; (DatumHash, Datum) -&gt; Doc ann
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(DatumHash, Datum) -&gt; Datum
forall a b. (a, b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map DatumHash Datum -&gt; [(DatumHash, Datum)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">Map.toList</span></span><span> </span><span class="annot"><span class="annottext">Map DatumHash Datum
</span><a href="#local-6989586621679680672"><span class="hs-identifier hs-var">_citxData</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-322"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc ann -&gt; Doc ann
forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">hang</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;redeemers:&quot;</span></span><span class="annot"><span class="annottext">Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">((RedeemerPtr, Redeemer) -&gt; Doc ann)
-&gt; [(RedeemerPtr, Redeemer)] -&gt; [Doc ann]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Redeemer -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">(Redeemer -&gt; Doc ann)
-&gt; ((RedeemerPtr, Redeemer) -&gt; Redeemer)
-&gt; (RedeemerPtr, Redeemer)
-&gt; Doc ann
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(RedeemerPtr, Redeemer) -&gt; Redeemer
forall a b. (a, b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Redeemers -&gt; [(RedeemerPtr, Redeemer)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">Map.toList</span></span><span> </span><span class="annot"><span class="annottext">Redeemers
</span><a href="#local-6989586621679680671"><span class="hs-identifier hs-var">_citxRedeemers</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-323"></span><span>                </span><span class="hs-special">]</span><span>
</span><span id="line-324"></span><span>        </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc ann -&gt; Doc ann
forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">nest</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Invalid tx&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">TxId -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621679680676"><span class="hs-identifier hs-var">_citxTxId</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">colon</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">braces</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="annot"><span class="annottext">[Doc ann]
</span><a href="#local-6989586621679680669"><span class="hs-identifier hs-var">lines'</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span class="hs-comment">-- | Compute a hash of the block's contents.</span><span>
</span><span id="line-327"></span><span class="annot"><a href="Plutus.ChainIndex.Types.html#blockId"><span class="hs-identifier hs-type">blockId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ledger.Block</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockId</span></span><span>
</span><span id="line-328"></span><span id="blockId"><span class="annot"><span class="annottext">blockId :: Block -&gt; BlockId
</span><a href="Plutus.ChainIndex.Types.html#blockId"><span class="hs-identifier hs-var hs-var">blockId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; BlockId
</span><span class="hs-identifier hs-var">BlockId</span></span><span>
</span><span id="line-329"></span><span>        </span><span class="annot"><span class="annottext">(ByteString -&gt; BlockId)
-&gt; (Block -&gt; ByteString) -&gt; Block -&gt; BlockId
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Digest SHA256 -&gt; ByteString
forall bin bout.
(ByteArrayAccess bin, ByteArray bout) =&gt;
bin -&gt; bout
</span><span class="hs-identifier hs-var">BA.convert</span></span><span>
</span><span id="line-330"></span><span>        </span><span class="annot"><span class="annottext">(Digest SHA256 -&gt; ByteString)
-&gt; (Block -&gt; Digest SHA256) -&gt; Block -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteArrayAccess ByteString, HashAlgorithm SHA256) =&gt;
ByteString -&gt; Digest SHA256
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
ba -&gt; Digest a
</span><span class="hs-identifier hs-var">hash</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">SHA256</span></span><span>
</span><span id="line-331"></span><span>        </span><span class="annot"><span class="annottext">(ByteString -&gt; Digest SHA256)
-&gt; (Block -&gt; ByteString) -&gt; Block -&gt; Digest SHA256
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">BSL.toStrict</span></span><span>
</span><span id="line-332"></span><span>        </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (Block -&gt; ByteString) -&gt; Block -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Block -&gt; ByteString
forall a. Serialise a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">CBOR.serialise</span></span><span>
</span><span id="line-333"></span><span>
</span><span id="line-334"></span><span id="local-6989586621679680662"><span id="local-6989586621679680663"></span></span><span class="hs-keyword">newtype</span><span> </span><span id="BlockNumber"><span class="annot"><a href="Plutus.ChainIndex.Types.html#BlockNumber"><span class="hs-identifier hs-var">BlockNumber</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="BlockNumber"><span class="annot"><a href="Plutus.ChainIndex.Types.html#BlockNumber"><span class="hs-identifier hs-var">BlockNumber</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unBlockNumber"><span class="annot"><span class="annottext">BlockNumber -&gt; Word64
</span><a href="Plutus.ChainIndex.Types.html#unBlockNumber"><span class="hs-identifier hs-var hs-var">unBlockNumber</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-335"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680656"><span id="local-6989586621679680658"><span class="annot"><span class="annottext">BlockNumber -&gt; BlockNumber -&gt; Bool
(BlockNumber -&gt; BlockNumber -&gt; Bool)
-&gt; (BlockNumber -&gt; BlockNumber -&gt; Bool) -&gt; Eq BlockNumber
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: BlockNumber -&gt; BlockNumber -&gt; Bool
$c/= :: BlockNumber -&gt; BlockNumber -&gt; Bool
== :: BlockNumber -&gt; BlockNumber -&gt; Bool
$c== :: BlockNumber -&gt; BlockNumber -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680641"><span id="local-6989586621679680643"><span id="local-6989586621679680645"><span id="local-6989586621679680647"><span id="local-6989586621679680649"><span id="local-6989586621679680651"><span id="local-6989586621679680653"><span class="annot"><span class="annottext">Eq BlockNumber
Eq BlockNumber
-&gt; (BlockNumber -&gt; BlockNumber -&gt; Ordering)
-&gt; (BlockNumber -&gt; BlockNumber -&gt; Bool)
-&gt; (BlockNumber -&gt; BlockNumber -&gt; Bool)
-&gt; (BlockNumber -&gt; BlockNumber -&gt; Bool)
-&gt; (BlockNumber -&gt; BlockNumber -&gt; Bool)
-&gt; (BlockNumber -&gt; BlockNumber -&gt; BlockNumber)
-&gt; (BlockNumber -&gt; BlockNumber -&gt; BlockNumber)
-&gt; Ord BlockNumber
BlockNumber -&gt; BlockNumber -&gt; Bool
BlockNumber -&gt; BlockNumber -&gt; Ordering
BlockNumber -&gt; BlockNumber -&gt; BlockNumber
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: BlockNumber -&gt; BlockNumber -&gt; BlockNumber
$cmin :: BlockNumber -&gt; BlockNumber -&gt; BlockNumber
max :: BlockNumber -&gt; BlockNumber -&gt; BlockNumber
$cmax :: BlockNumber -&gt; BlockNumber -&gt; BlockNumber
&gt;= :: BlockNumber -&gt; BlockNumber -&gt; Bool
$c&gt;= :: BlockNumber -&gt; BlockNumber -&gt; Bool
&gt; :: BlockNumber -&gt; BlockNumber -&gt; Bool
$c&gt; :: BlockNumber -&gt; BlockNumber -&gt; Bool
&lt;= :: BlockNumber -&gt; BlockNumber -&gt; Bool
$c&lt;= :: BlockNumber -&gt; BlockNumber -&gt; Bool
&lt; :: BlockNumber -&gt; BlockNumber -&gt; Bool
$c&lt; :: BlockNumber -&gt; BlockNumber -&gt; Bool
compare :: BlockNumber -&gt; BlockNumber -&gt; Ordering
$ccompare :: BlockNumber -&gt; BlockNumber -&gt; Ordering
$cp1Ord :: Eq BlockNumber
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680634"><span id="local-6989586621679680636"><span id="local-6989586621679680638"><span class="annot"><span class="annottext">Int -&gt; BlockNumber -&gt; ShowS
[BlockNumber] -&gt; ShowS
BlockNumber -&gt; String
(Int -&gt; BlockNumber -&gt; ShowS)
-&gt; (BlockNumber -&gt; String)
-&gt; ([BlockNumber] -&gt; ShowS)
-&gt; Show BlockNumber
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [BlockNumber] -&gt; ShowS
$cshowList :: [BlockNumber] -&gt; ShowS
show :: BlockNumber -&gt; String
$cshow :: BlockNumber -&gt; String
showsPrec :: Int -&gt; BlockNumber -&gt; ShowS
$cshowsPrec :: Int -&gt; BlockNumber -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. BlockNumber -&gt; Rep BlockNumber x)
-&gt; (forall x. Rep BlockNumber x -&gt; BlockNumber)
-&gt; Generic BlockNumber
forall x. Rep BlockNumber x -&gt; BlockNumber
forall x. BlockNumber -&gt; Rep BlockNumber x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep BlockNumber x -&gt; BlockNumber
$cfrom :: forall x. BlockNumber -&gt; Rep BlockNumber x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-336"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680618"><span id="local-6989586621679680620"><span id="local-6989586621679680622"><span id="local-6989586621679680624"><span id="local-6989586621679680626"><span id="local-6989586621679680628"><span id="local-6989586621679680630"><span class="annot"><span class="annottext">Integer -&gt; BlockNumber
BlockNumber -&gt; BlockNumber
BlockNumber -&gt; BlockNumber -&gt; BlockNumber
(BlockNumber -&gt; BlockNumber -&gt; BlockNumber)
-&gt; (BlockNumber -&gt; BlockNumber -&gt; BlockNumber)
-&gt; (BlockNumber -&gt; BlockNumber -&gt; BlockNumber)
-&gt; (BlockNumber -&gt; BlockNumber)
-&gt; (BlockNumber -&gt; BlockNumber)
-&gt; (BlockNumber -&gt; BlockNumber)
-&gt; (Integer -&gt; BlockNumber)
-&gt; Num BlockNumber
forall a.
(a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Integer -&gt; a)
-&gt; Num a
fromInteger :: Integer -&gt; BlockNumber
$cfromInteger :: Integer -&gt; BlockNumber
signum :: BlockNumber -&gt; BlockNumber
$csignum :: BlockNumber -&gt; BlockNumber
abs :: BlockNumber -&gt; BlockNumber
$cabs :: BlockNumber -&gt; BlockNumber
negate :: BlockNumber -&gt; BlockNumber
$cnegate :: BlockNumber -&gt; BlockNumber
* :: BlockNumber -&gt; BlockNumber -&gt; BlockNumber
$c* :: BlockNumber -&gt; BlockNumber -&gt; BlockNumber
- :: BlockNumber -&gt; BlockNumber -&gt; BlockNumber
$c- :: BlockNumber -&gt; BlockNumber -&gt; BlockNumber
+ :: BlockNumber -&gt; BlockNumber -&gt; BlockNumber
$c+ :: BlockNumber -&gt; BlockNumber -&gt; BlockNumber
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Num</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680613"><span class="annot"><span class="annottext">Num BlockNumber
Ord BlockNumber
Num BlockNumber
-&gt; Ord BlockNumber -&gt; (BlockNumber -&gt; Rational) -&gt; Real BlockNumber
BlockNumber -&gt; Rational
forall a. Num a -&gt; Ord a -&gt; (a -&gt; Rational) -&gt; Real a
toRational :: BlockNumber -&gt; Rational
$ctoRational :: BlockNumber -&gt; Rational
$cp2Real :: Ord BlockNumber
$cp1Real :: Num BlockNumber
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Real</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680596"><span id="local-6989586621679680598"><span id="local-6989586621679680600"><span id="local-6989586621679680602"><span id="local-6989586621679680604"><span id="local-6989586621679680606"><span id="local-6989586621679680608"><span id="local-6989586621679680610"><span class="annot"><span class="annottext">Int -&gt; BlockNumber
BlockNumber -&gt; Int
BlockNumber -&gt; [BlockNumber]
BlockNumber -&gt; BlockNumber
BlockNumber -&gt; BlockNumber -&gt; [BlockNumber]
BlockNumber -&gt; BlockNumber -&gt; BlockNumber -&gt; [BlockNumber]
(BlockNumber -&gt; BlockNumber)
-&gt; (BlockNumber -&gt; BlockNumber)
-&gt; (Int -&gt; BlockNumber)
-&gt; (BlockNumber -&gt; Int)
-&gt; (BlockNumber -&gt; [BlockNumber])
-&gt; (BlockNumber -&gt; BlockNumber -&gt; [BlockNumber])
-&gt; (BlockNumber -&gt; BlockNumber -&gt; [BlockNumber])
-&gt; (BlockNumber -&gt; BlockNumber -&gt; BlockNumber -&gt; [BlockNumber])
-&gt; Enum BlockNumber
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
enumFromThenTo :: BlockNumber -&gt; BlockNumber -&gt; BlockNumber -&gt; [BlockNumber]
$cenumFromThenTo :: BlockNumber -&gt; BlockNumber -&gt; BlockNumber -&gt; [BlockNumber]
enumFromTo :: BlockNumber -&gt; BlockNumber -&gt; [BlockNumber]
$cenumFromTo :: BlockNumber -&gt; BlockNumber -&gt; [BlockNumber]
enumFromThen :: BlockNumber -&gt; BlockNumber -&gt; [BlockNumber]
$cenumFromThen :: BlockNumber -&gt; BlockNumber -&gt; [BlockNumber]
enumFrom :: BlockNumber -&gt; [BlockNumber]
$cenumFrom :: BlockNumber -&gt; [BlockNumber]
fromEnum :: BlockNumber -&gt; Int
$cfromEnum :: BlockNumber -&gt; Int
toEnum :: Int -&gt; BlockNumber
$ctoEnum :: Int -&gt; BlockNumber
pred :: BlockNumber -&gt; BlockNumber
$cpred :: BlockNumber -&gt; BlockNumber
succ :: BlockNumber -&gt; BlockNumber
$csucc :: BlockNumber -&gt; BlockNumber
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></a></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680579"><span id="local-6989586621679680581"><span id="local-6989586621679680583"><span id="local-6989586621679680585"><span id="local-6989586621679680587"><span id="local-6989586621679680589"><span id="local-6989586621679680591"><span class="annot"><span class="annottext">Enum BlockNumber
Real BlockNumber
Real BlockNumber
-&gt; Enum BlockNumber
-&gt; (BlockNumber -&gt; BlockNumber -&gt; BlockNumber)
-&gt; (BlockNumber -&gt; BlockNumber -&gt; BlockNumber)
-&gt; (BlockNumber -&gt; BlockNumber -&gt; BlockNumber)
-&gt; (BlockNumber -&gt; BlockNumber -&gt; BlockNumber)
-&gt; (BlockNumber -&gt; BlockNumber -&gt; (BlockNumber, BlockNumber))
-&gt; (BlockNumber -&gt; BlockNumber -&gt; (BlockNumber, BlockNumber))
-&gt; (BlockNumber -&gt; Integer)
-&gt; Integral BlockNumber
BlockNumber -&gt; Integer
BlockNumber -&gt; BlockNumber -&gt; (BlockNumber, BlockNumber)
BlockNumber -&gt; BlockNumber -&gt; BlockNumber
forall a.
Real a
-&gt; Enum a
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; (a, a))
-&gt; (a -&gt; a -&gt; (a, a))
-&gt; (a -&gt; Integer)
-&gt; Integral a
toInteger :: BlockNumber -&gt; Integer
$ctoInteger :: BlockNumber -&gt; Integer
divMod :: BlockNumber -&gt; BlockNumber -&gt; (BlockNumber, BlockNumber)
$cdivMod :: BlockNumber -&gt; BlockNumber -&gt; (BlockNumber, BlockNumber)
quotRem :: BlockNumber -&gt; BlockNumber -&gt; (BlockNumber, BlockNumber)
$cquotRem :: BlockNumber -&gt; BlockNumber -&gt; (BlockNumber, BlockNumber)
mod :: BlockNumber -&gt; BlockNumber -&gt; BlockNumber
$cmod :: BlockNumber -&gt; BlockNumber -&gt; BlockNumber
div :: BlockNumber -&gt; BlockNumber -&gt; BlockNumber
$cdiv :: BlockNumber -&gt; BlockNumber -&gt; BlockNumber
rem :: BlockNumber -&gt; BlockNumber -&gt; BlockNumber
$crem :: BlockNumber -&gt; BlockNumber -&gt; BlockNumber
quot :: BlockNumber -&gt; BlockNumber -&gt; BlockNumber
$cquot :: BlockNumber -&gt; BlockNumber -&gt; BlockNumber
$cp2Integral :: Enum BlockNumber
$cp1Integral :: Real BlockNumber
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Integral</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680570"><span id="local-6989586621679680572"><span id="local-6989586621679680574"><span id="local-6989586621679680576"><span class="annot"><span class="annottext">[BlockNumber] -&gt; Encoding
[BlockNumber] -&gt; Value
BlockNumber -&gt; Encoding
BlockNumber -&gt; Value
(BlockNumber -&gt; Value)
-&gt; (BlockNumber -&gt; Encoding)
-&gt; ([BlockNumber] -&gt; Value)
-&gt; ([BlockNumber] -&gt; Encoding)
-&gt; ToJSON BlockNumber
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [BlockNumber] -&gt; Encoding
$ctoEncodingList :: [BlockNumber] -&gt; Encoding
toJSONList :: [BlockNumber] -&gt; Value
$ctoJSONList :: [BlockNumber] -&gt; Value
toEncoding :: BlockNumber -&gt; Encoding
$ctoEncoding :: BlockNumber -&gt; Encoding
toJSON :: BlockNumber -&gt; Value
$ctoJSON :: BlockNumber -&gt; Value
</span><a href="#local-6989586621679680570"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680566"><span id="local-6989586621679680568"><span class="annot"><span class="annottext">Value -&gt; Parser [BlockNumber]
Value -&gt; Parser BlockNumber
(Value -&gt; Parser BlockNumber)
-&gt; (Value -&gt; Parser [BlockNumber]) -&gt; FromJSON BlockNumber
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [BlockNumber]
$cparseJSONList :: Value -&gt; Parser [BlockNumber]
parseJSON :: Value -&gt; Parser BlockNumber
$cparseJSON :: Value -&gt; Parser BlockNumber
</span><a href="#local-6989586621679680566"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680563"><span class="annot"><span class="annottext">Typeable BlockNumber
Typeable BlockNumber
-&gt; (Proxy BlockNumber -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; ToSchema BlockNumber
Proxy BlockNumber -&gt; Declare (Definitions Schema) NamedSchema
forall a.
Typeable a
-&gt; (Proxy a -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; ToSchema a
declareNamedSchema :: Proxy BlockNumber -&gt; Declare (Definitions Schema) NamedSchema
$cdeclareNamedSchema :: Proxy BlockNumber -&gt; Declare (Definitions Schema) NamedSchema
$cp1ToSchema :: Typeable BlockNumber
</span><a href="#local-6989586621679680563"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var">OpenApi.ToSchema</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-337"></span><span>
</span><span id="line-338"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679680560"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#BlockNumber"><span class="hs-identifier hs-type">BlockNumber</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-339"></span><span>    </span><span id="local-6989586621679680559"><span class="annot"><span class="annottext">pretty :: BlockNumber -&gt; Doc ann
</span><a href="#local-6989586621679680559"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#BlockNumber"><span class="hs-identifier hs-type">BlockNumber</span></a></span><span> </span><span id="local-6989586621679680558"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679680558"><span class="hs-identifier hs-var">blockNumber</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-340"></span><span>        </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;BlockNumber &quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679680558"><span class="hs-identifier hs-var">blockNumber</span></a></span><span>
</span><span id="line-341"></span><span>
</span><span id="line-342"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockId</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-343"></span><span>    </span><span id="local-6989586621679680555"><span class="annot"><span class="annottext">declareNamedSchema :: Proxy BlockId -&gt; Declare (Definitions Schema) NamedSchema
</span><a href="#local-6989586621679680555"><span class="hs-identifier hs-var hs-var hs-var hs-var">declareNamedSchema</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy BlockId
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy String -&gt; Declare (Definitions Schema) NamedSchema
forall a.
ToSchema a =&gt;
Proxy a -&gt; Declare (Definitions Schema) NamedSchema
</span><span class="hs-identifier hs-var">OpenApi.declareNamedSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy String
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-344"></span><span>
</span><span id="line-345"></span><span class="hs-comment">-- | The tip of the chain index.</span><span>
</span><span id="line-346"></span><span id="local-6989586621679680553"><span id="local-6989586621679680554"></span></span><span class="hs-keyword">data</span><span> </span><span id="Tip"><span class="annot"><a href="Plutus.ChainIndex.Types.html#Tip"><span class="hs-identifier hs-var">Tip</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-347"></span><span>      </span><span id="TipAtGenesis"><span class="annot"><a href="Plutus.ChainIndex.Types.html#TipAtGenesis"><span class="hs-identifier hs-var">TipAtGenesis</span></a></span></span><span>
</span><span id="line-348"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Tip"><span class="annot"><a href="Plutus.ChainIndex.Types.html#Tip"><span class="hs-identifier hs-var">Tip</span></a></span></span><span>
</span><span id="line-349"></span><span>        </span><span class="hs-special">{</span><span> </span><span id="tipSlot"><span class="annot"><span class="annottext">Tip -&gt; Slot
</span><a href="Plutus.ChainIndex.Types.html#tipSlot"><span class="hs-identifier hs-var hs-var">tipSlot</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Slot</span></span><span> </span><span class="hs-comment">-- ^ Last slot</span><span>
</span><span id="line-350"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="tipBlockId"><span class="annot"><span class="annottext">Tip -&gt; BlockId
</span><a href="Plutus.ChainIndex.Types.html#tipBlockId"><span class="hs-identifier hs-var hs-var">tipBlockId</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockId</span></span><span> </span><span class="hs-comment">-- ^ Last block ID</span><span>
</span><span id="line-351"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="tipBlockNo"><span class="annot"><span class="annottext">Tip -&gt; BlockNumber
</span><a href="Plutus.ChainIndex.Types.html#tipBlockNo"><span class="hs-identifier hs-var hs-var">tipBlockNo</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#BlockNumber"><span class="hs-identifier hs-type">BlockNumber</span></a></span><span> </span><span class="hs-comment">-- ^ Last block number</span><span>
</span><span id="line-352"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-353"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680544"><span id="local-6989586621679680546"><span class="annot"><span class="annottext">Tip -&gt; Tip -&gt; Bool
(Tip -&gt; Tip -&gt; Bool) -&gt; (Tip -&gt; Tip -&gt; Bool) -&gt; Eq Tip
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Tip -&gt; Tip -&gt; Bool
$c/= :: Tip -&gt; Tip -&gt; Bool
== :: Tip -&gt; Tip -&gt; Bool
$c== :: Tip -&gt; Tip -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680538"><span id="local-6989586621679680540"><span id="local-6989586621679680542"><span class="annot"><span class="annottext">Int -&gt; Tip -&gt; ShowS
[Tip] -&gt; ShowS
Tip -&gt; String
(Int -&gt; Tip -&gt; ShowS)
-&gt; (Tip -&gt; String) -&gt; ([Tip] -&gt; ShowS) -&gt; Show Tip
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Tip] -&gt; ShowS
$cshowList :: [Tip] -&gt; ShowS
show :: Tip -&gt; String
$cshow :: Tip -&gt; String
showsPrec :: Int -&gt; Tip -&gt; ShowS
$cshowsPrec :: Int -&gt; Tip -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. Tip -&gt; Rep Tip x)
-&gt; (forall x. Rep Tip x -&gt; Tip) -&gt; Generic Tip
forall x. Rep Tip x -&gt; Tip
forall x. Tip -&gt; Rep Tip x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep Tip x -&gt; Tip
$cfrom :: forall x. Tip -&gt; Rep Tip x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-354"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680528"><span id="local-6989586621679680530"><span id="local-6989586621679680532"><span id="local-6989586621679680534"><span class="annot"><span class="annottext">[Tip] -&gt; Encoding
[Tip] -&gt; Value
Tip -&gt; Encoding
Tip -&gt; Value
(Tip -&gt; Value)
-&gt; (Tip -&gt; Encoding)
-&gt; ([Tip] -&gt; Value)
-&gt; ([Tip] -&gt; Encoding)
-&gt; ToJSON Tip
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [Tip] -&gt; Encoding
$ctoEncodingList :: [Tip] -&gt; Encoding
toJSONList :: [Tip] -&gt; Value
$ctoJSONList :: [Tip] -&gt; Value
toEncoding :: Tip -&gt; Encoding
$ctoEncoding :: Tip -&gt; Encoding
toJSON :: Tip -&gt; Value
$ctoJSON :: Tip -&gt; Value
</span><a href="#local-6989586621679680528"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680524"><span id="local-6989586621679680526"><span class="annot"><span class="annottext">Value -&gt; Parser [Tip]
Value -&gt; Parser Tip
(Value -&gt; Parser Tip) -&gt; (Value -&gt; Parser [Tip]) -&gt; FromJSON Tip
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [Tip]
$cparseJSONList :: Value -&gt; Parser [Tip]
parseJSON :: Value -&gt; Parser Tip
$cparseJSON :: Value -&gt; Parser Tip
</span><a href="#local-6989586621679680524"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680521"><span class="annot"><span class="annottext">Typeable Tip
Typeable Tip
-&gt; (Proxy Tip -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; ToSchema Tip
Proxy Tip -&gt; Declare (Definitions Schema) NamedSchema
forall a.
Typeable a
-&gt; (Proxy a -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; ToSchema a
declareNamedSchema :: Proxy Tip -&gt; Declare (Definitions Schema) NamedSchema
$cdeclareNamedSchema :: Proxy Tip -&gt; Declare (Definitions Schema) NamedSchema
$cp1ToSchema :: Typeable Tip
</span><a href="#local-6989586621679680521"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var">OpenApi.ToSchema</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-355"></span><span>
</span><span id="line-356"></span><span id="_Tip"><span id="_TipAtGenesis"><span class="hs-identifier">makePrisms</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">Tip</span></span></span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span class="hs-comment">-- | When performing a rollback the chain sync protocol does not provide a block</span><span>
</span><span id="line-359"></span><span class="hs-comment">--   number where to resume from.</span><span>
</span><span id="line-360"></span><span id="local-6989586621679680517"><span id="local-6989586621679680518"></span></span><span class="hs-keyword">data</span><span> </span><span id="Point"><span class="annot"><a href="Plutus.ChainIndex.Types.html#Point"><span class="hs-identifier hs-var">Point</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-361"></span><span>      </span><span id="PointAtGenesis"><span class="annot"><a href="Plutus.ChainIndex.Types.html#PointAtGenesis"><span class="hs-identifier hs-var">PointAtGenesis</span></a></span></span><span>
</span><span id="line-362"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Point"><span class="annot"><a href="Plutus.ChainIndex.Types.html#Point"><span class="hs-identifier hs-var">Point</span></a></span></span><span>
</span><span id="line-363"></span><span>        </span><span class="hs-special">{</span><span> </span><span id="pointSlot"><span class="annot"><span class="annottext">Point -&gt; Slot
</span><a href="Plutus.ChainIndex.Types.html#pointSlot"><span class="hs-identifier hs-var hs-var">pointSlot</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Slot</span></span><span> </span><span class="hs-comment">-- ^ Slot number</span><span>
</span><span id="line-364"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="pointBlockId"><span class="annot"><span class="annottext">Point -&gt; BlockId
</span><a href="Plutus.ChainIndex.Types.html#pointBlockId"><span class="hs-identifier hs-var hs-var">pointBlockId</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockId</span></span><span> </span><span class="hs-comment">-- ^ Block number</span><span>
</span><span id="line-365"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-366"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680509"><span id="local-6989586621679680511"><span class="annot"><span class="annottext">Point -&gt; Point -&gt; Bool
(Point -&gt; Point -&gt; Bool) -&gt; (Point -&gt; Point -&gt; Bool) -&gt; Eq Point
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Point -&gt; Point -&gt; Bool
$c/= :: Point -&gt; Point -&gt; Bool
== :: Point -&gt; Point -&gt; Bool
$c== :: Point -&gt; Point -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680503"><span id="local-6989586621679680505"><span id="local-6989586621679680507"><span class="annot"><span class="annottext">Int -&gt; Point -&gt; ShowS
[Point] -&gt; ShowS
Point -&gt; String
(Int -&gt; Point -&gt; ShowS)
-&gt; (Point -&gt; String) -&gt; ([Point] -&gt; ShowS) -&gt; Show Point
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Point] -&gt; ShowS
$cshowList :: [Point] -&gt; ShowS
show :: Point -&gt; String
$cshow :: Point -&gt; String
showsPrec :: Int -&gt; Point -&gt; ShowS
$cshowsPrec :: Int -&gt; Point -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. Point -&gt; Rep Point x)
-&gt; (forall x. Rep Point x -&gt; Point) -&gt; Generic Point
forall x. Rep Point x -&gt; Point
forall x. Point -&gt; Rep Point x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep Point x -&gt; Point
$cfrom :: forall x. Point -&gt; Rep Point x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-367"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680493"><span id="local-6989586621679680495"><span id="local-6989586621679680497"><span id="local-6989586621679680499"><span class="annot"><span class="annottext">[Point] -&gt; Encoding
[Point] -&gt; Value
Point -&gt; Encoding
Point -&gt; Value
(Point -&gt; Value)
-&gt; (Point -&gt; Encoding)
-&gt; ([Point] -&gt; Value)
-&gt; ([Point] -&gt; Encoding)
-&gt; ToJSON Point
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [Point] -&gt; Encoding
$ctoEncodingList :: [Point] -&gt; Encoding
toJSONList :: [Point] -&gt; Value
$ctoJSONList :: [Point] -&gt; Value
toEncoding :: Point -&gt; Encoding
$ctoEncoding :: Point -&gt; Encoding
toJSON :: Point -&gt; Value
$ctoJSON :: Point -&gt; Value
</span><a href="#local-6989586621679680493"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680489"><span id="local-6989586621679680491"><span class="annot"><span class="annottext">Value -&gt; Parser [Point]
Value -&gt; Parser Point
(Value -&gt; Parser Point)
-&gt; (Value -&gt; Parser [Point]) -&gt; FromJSON Point
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [Point]
$cparseJSONList :: Value -&gt; Parser [Point]
parseJSON :: Value -&gt; Parser Point
$cparseJSON :: Value -&gt; Parser Point
</span><a href="#local-6989586621679680489"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-368"></span><span>
</span><span id="line-369"></span><span id="_Point"><span id="_PointAtGenesis"><span class="hs-identifier">makePrisms</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">Point</span></span></span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679680475"><span id="local-6989586621679680477"><span id="local-6989586621679680479"><span id="local-6989586621679680481"><span id="local-6989586621679680484"><span id="local-6989586621679680486"><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Point"><span class="hs-identifier hs-type">Point</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-372"></span><span>  </span><span class="annot"><span class="annottext">Point
</span><a href="Plutus.ChainIndex.Types.html#PointAtGenesis"><span class="hs-identifier hs-var">PointAtGenesis</span></a></span><span> </span><span id="local-6989586621679680474"><span class="annot"><span class="annottext">&lt;= :: Point -&gt; Point -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;=</span></a></span></span><span> </span><span class="annot"><span class="annottext">Point
</span><span class="hs-identifier">_</span></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-373"></span><span>  </span><span class="annot"><span class="annottext">Point
</span><span class="hs-identifier">_</span></span><span>              </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&lt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="Plutus.ChainIndex.Types.html#PointAtGenesis"><span class="hs-identifier hs-var">PointAtGenesis</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-374"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span> </span><span id="local-6989586621679680472"><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679680472"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="annot"><span class="annottext">BlockId
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>   </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&lt;=</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span> </span><span id="local-6989586621679680471"><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679680471"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span class="annot"><span class="annottext">BlockId
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679680472"><span class="hs-identifier hs-var">ls</span></a></span><span> </span><span class="annot"><span class="annottext">Slot -&gt; Slot -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&lt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679680471"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-375"></span><span>
</span><span id="line-376"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679680468"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Point"><span class="hs-identifier hs-type">Point</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-377"></span><span>    </span><span id="local-6989586621679680467"><span class="annot"><span class="annottext">pretty :: Point -&gt; Doc ann
</span><a href="#local-6989586621679680467"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="Plutus.ChainIndex.Types.html#PointAtGenesis"><span class="hs-identifier hs-var">PointAtGenesis</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;PointAtGenesis&quot;</span></span><span>
</span><span id="line-378"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679680466"><span class="annot"><span class="annottext">Slot
pointSlot :: Slot
pointSlot :: Point -&gt; Slot
</span><a href="#local-6989586621679680466"><span class="hs-identifier hs-var hs-var">pointSlot</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680465"><span class="annot"><span class="annottext">BlockId
pointBlockId :: BlockId
pointBlockId :: Point -&gt; BlockId
</span><a href="#local-6989586621679680465"><span class="hs-identifier hs-var hs-var">pointBlockId</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-379"></span><span>        </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Point(&quot;</span></span><span>
</span><span id="line-380"></span><span>     </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Slot -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679680466"><span class="hs-identifier hs-var">pointSlot</span></a></span><span>
</span><span id="line-381"></span><span>     </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">comma</span></span><span>
</span><span id="line-382"></span><span>     </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">BlockId -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">BlockId
</span><a href="#local-6989586621679680465"><span class="hs-identifier hs-var">pointBlockId</span></a></span><span>
</span><span id="line-383"></span><span>     </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>  </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-384"></span><span>
</span><span id="line-385"></span><span class="annot"><a href="Plutus.ChainIndex.Types.html#tipAsPoint"><span class="hs-identifier hs-type">tipAsPoint</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Tip"><span class="hs-identifier hs-type">Tip</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span>
</span><span id="line-386"></span><span id="tipAsPoint"><span class="annot"><span class="annottext">tipAsPoint :: Tip -&gt; Point
</span><a href="Plutus.ChainIndex.Types.html#tipAsPoint"><span class="hs-identifier hs-var hs-var">tipAsPoint</span></a></span></span><span> </span><span class="annot"><span class="annottext">Tip
</span><a href="Plutus.ChainIndex.Types.html#TipAtGenesis"><span class="hs-identifier hs-var">TipAtGenesis</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="Plutus.ChainIndex.Types.html#PointAtGenesis"><span class="hs-identifier hs-var">PointAtGenesis</span></a></span><span>
</span><span id="line-387"></span><span class="annot"><a href="Plutus.ChainIndex.Types.html#tipAsPoint"><span class="hs-identifier hs-var">tipAsPoint</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Tip"><span class="hs-identifier hs-type">Tip</span></a></span><span> </span><span id="local-6989586621679680463"><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679680463"><span class="hs-identifier hs-var">tSlot</span></a></span></span><span> </span><span id="local-6989586621679680462"><span class="annot"><span class="annottext">BlockId
</span><a href="#local-6989586621679680462"><span class="hs-identifier hs-var">tBlockId</span></a></span></span><span> </span><span class="annot"><span class="annottext">BlockNumber
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-388"></span><span>    </span><span class="annot"><span class="annottext">Point :: Slot -&gt; BlockId -&gt; Point
</span><a href="Plutus.ChainIndex.Types.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pointSlot :: Slot
</span><a href="Plutus.ChainIndex.Types.html#pointSlot"><span class="hs-identifier hs-var">pointSlot</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679680463"><span class="hs-identifier hs-var">tSlot</span></a></span><span>
</span><span id="line-389"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pointBlockId :: BlockId
</span><a href="Plutus.ChainIndex.Types.html#pointBlockId"><span class="hs-identifier hs-var">pointBlockId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BlockId
</span><a href="#local-6989586621679680462"><span class="hs-identifier hs-var">tBlockId</span></a></span><span>
</span><span id="line-390"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-391"></span><span>
</span><span id="line-392"></span><span class="annot"><a href="Plutus.ChainIndex.Types.html#pointsToTip"><span class="hs-identifier hs-type">pointsToTip</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Tip"><span class="hs-identifier hs-type">Tip</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-393"></span><span id="pointsToTip"><span class="annot"><span class="annottext">pointsToTip :: Point -&gt; Tip -&gt; Bool
</span><a href="Plutus.ChainIndex.Types.html#pointsToTip"><span class="hs-identifier hs-var hs-var">pointsToTip</span></a></span></span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="Plutus.ChainIndex.Types.html#PointAtGenesis"><span class="hs-identifier hs-var">PointAtGenesis</span></a></span><span> </span><span class="annot"><span class="annottext">Tip
</span><a href="Plutus.ChainIndex.Types.html#TipAtGenesis"><span class="hs-identifier hs-var">TipAtGenesis</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-394"></span><span class="annot"><a href="Plutus.ChainIndex.Types.html#pointsToTip"><span class="hs-identifier hs-var">pointsToTip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span> </span><span id="local-6989586621679680461"><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679680461"><span class="hs-identifier hs-var">pSlot</span></a></span></span><span> </span><span id="local-6989586621679680460"><span class="annot"><span class="annottext">BlockId
</span><a href="#local-6989586621679680460"><span class="hs-identifier hs-var">pBlockId</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-395"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Tip"><span class="hs-identifier hs-type">Tip</span></a></span><span>   </span><span id="local-6989586621679680459"><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679680459"><span class="hs-identifier hs-var">tSlot</span></a></span></span><span> </span><span id="local-6989586621679680458"><span class="annot"><span class="annottext">BlockId
</span><a href="#local-6989586621679680458"><span class="hs-identifier hs-var">tBlockId</span></a></span></span><span> </span><span class="annot"><span class="annottext">BlockNumber
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-396"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679680459"><span class="hs-identifier hs-var">tSlot</span></a></span><span> </span><span class="annot"><span class="annottext">Slot -&gt; Slot -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679680461"><span class="hs-identifier hs-var">pSlot</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">BlockId
</span><a href="#local-6989586621679680458"><span class="hs-identifier hs-var">tBlockId</span></a></span><span> </span><span class="annot"><span class="annottext">BlockId -&gt; BlockId -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">BlockId
</span><a href="#local-6989586621679680460"><span class="hs-identifier hs-var">pBlockId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-397"></span><span class="annot"><a href="Plutus.ChainIndex.Types.html#pointsToTip"><span class="hs-identifier hs-var">pointsToTip</span></a></span><span> </span><span class="annot"><span class="annottext">Point
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Tip
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-398"></span><span>
</span><span id="line-399"></span><span class="hs-comment">-- | This mirrors the previously defined Tip which used the Last monoid definition.</span><span>
</span><span id="line-400"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679680452"><span id="local-6989586621679680454"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Tip"><span class="hs-identifier hs-type">Tip</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-401"></span><span>    </span><span id="local-6989586621679680450"><span class="annot"><span class="annottext">Tip
</span><a href="#local-6989586621679680450"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679680449"><span class="annot"><span class="annottext">&lt;&gt; :: Tip -&gt; Tip -&gt; Tip
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></a></span></span><span> </span><span class="annot"><span class="annottext">Tip
</span><a href="Plutus.ChainIndex.Types.html#TipAtGenesis"><span class="hs-identifier hs-var">TipAtGenesis</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tip
</span><a href="#local-6989586621679680450"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-402"></span><span>    </span><span class="annot"><span class="annottext">Tip
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span id="local-6989586621679680448"><span class="annot"><span class="annottext">Tip
</span><a href="#local-6989586621679680448"><span class="hs-identifier hs-var">t</span></a></span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tip
</span><a href="#local-6989586621679680448"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-403"></span><span>
</span><span id="line-404"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679680443"><span id="local-6989586621679680445"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Point"><span class="hs-identifier hs-type">Point</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-405"></span><span>    </span><span id="local-6989586621679680442"><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679680442"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679680441"><span class="annot"><span class="annottext">&lt;&gt; :: Point -&gt; Point -&gt; Point
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></a></span></span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="Plutus.ChainIndex.Types.html#PointAtGenesis"><span class="hs-identifier hs-var">PointAtGenesis</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679680442"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-406"></span><span>    </span><span class="annot"><span class="annottext">Point
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span id="local-6989586621679680440"><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679680440"><span class="hs-identifier hs-var">t</span></a></span></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679680440"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-407"></span><span>
</span><span id="line-408"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679680434"><span id="local-6989586621679680436"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Tip"><span class="hs-identifier hs-type">Tip</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-409"></span><span>    </span><span id="local-6989586621679680432"><span class="annot"><span class="annottext">mempty :: Tip
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tip
</span><a href="Plutus.ChainIndex.Types.html#TipAtGenesis"><span class="hs-identifier hs-var">TipAtGenesis</span></a></span><span>
</span><span id="line-410"></span><span>
</span><span id="line-411"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679680426"><span id="local-6989586621679680428"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Point"><span class="hs-identifier hs-type">Point</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-412"></span><span>    </span><span id="local-6989586621679680425"><span class="annot"><span class="annottext">mempty :: Point
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="Plutus.ChainIndex.Types.html#PointAtGenesis"><span class="hs-identifier hs-var">PointAtGenesis</span></a></span><span>
</span><span id="line-413"></span><span>
</span><span id="line-414"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679680411"><span id="local-6989586621679680413"><span id="local-6989586621679680415"><span id="local-6989586621679680417"><span id="local-6989586621679680419"><span id="local-6989586621679680421"><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Tip"><span class="hs-identifier hs-type">Tip</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-415"></span><span>    </span><span id="local-6989586621679680410"><span class="annot"><span class="annottext">compare :: Tip -&gt; Tip -&gt; Ordering
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">compare</span></a></span></span><span> </span><span class="annot"><span class="annottext">Tip
</span><a href="Plutus.ChainIndex.Types.html#TipAtGenesis"><span class="hs-identifier hs-var">TipAtGenesis</span></a></span><span> </span><span class="annot"><span class="annottext">Tip
</span><a href="Plutus.ChainIndex.Types.html#TipAtGenesis"><span class="hs-identifier hs-var">TipAtGenesis</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">EQ</span></a></span><span>
</span><span id="line-416"></span><span>    </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">compare</span></a></span><span> </span><span class="annot"><span class="annottext">Tip
</span><a href="Plutus.ChainIndex.Types.html#TipAtGenesis"><span class="hs-identifier hs-var">TipAtGenesis</span></a></span><span> </span><span class="annot"><span class="annottext">Tip
</span><span class="hs-identifier">_</span></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">LT</span></a></span><span>
</span><span id="line-417"></span><span>    </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">compare</span></a></span><span> </span><span class="annot"><span class="annottext">Tip
</span><span class="hs-identifier">_</span></span><span>            </span><span class="annot"><span class="annottext">Tip
</span><a href="Plutus.ChainIndex.Types.html#TipAtGenesis"><span class="hs-identifier hs-var">TipAtGenesis</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">GT</span></a></span><span>
</span><span id="line-418"></span><span>    </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">compare</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Tip"><span class="hs-identifier hs-type">Tip</span></a></span><span> </span><span id="local-6989586621679680408"><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679680408"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="annot"><span class="annottext">BlockId
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679680407"><span class="annot"><span class="annottext">BlockNumber
</span><a href="#local-6989586621679680407"><span class="hs-identifier hs-var">lb</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Tip"><span class="hs-identifier hs-type">Tip</span></a></span><span> </span><span id="local-6989586621679680406"><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679680406"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span class="annot"><span class="annottext">BlockId
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679680405"><span class="annot"><span class="annottext">BlockNumber
</span><a href="#local-6989586621679680405"><span class="hs-identifier hs-var">rb</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Slot -&gt; Slot -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">compare</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679680408"><span class="hs-identifier hs-var">ls</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679680406"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">Ordering -&gt; Ordering -&gt; Ordering
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">BlockNumber -&gt; BlockNumber -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">compare</span></a></span><span> </span><span class="annot"><span class="annottext">BlockNumber
</span><a href="#local-6989586621679680407"><span class="hs-identifier hs-var">lb</span></a></span><span> </span><span class="annot"><span class="annottext">BlockNumber
</span><a href="#local-6989586621679680405"><span class="hs-identifier hs-var">rb</span></a></span><span>
</span><span id="line-419"></span><span>
</span><span id="line-420"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679680402"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Tip"><span class="hs-identifier hs-type">Tip</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-421"></span><span>    </span><span id="local-6989586621679680401"><span class="annot"><span class="annottext">pretty :: Tip -&gt; Doc ann
</span><a href="#local-6989586621679680401"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="annot"><span class="annottext">Tip
</span><a href="Plutus.ChainIndex.Types.html#TipAtGenesis"><span class="hs-identifier hs-var">TipAtGenesis</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;TipAtGenesis&quot;</span></span><span>
</span><span id="line-422"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Tip"><span class="hs-identifier hs-type">Tip</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679680400"><span class="annot"><span class="annottext">Slot
tipSlot :: Slot
tipSlot :: Tip -&gt; Slot
</span><a href="#local-6989586621679680400"><span class="hs-identifier hs-var hs-var">tipSlot</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680399"><span class="annot"><span class="annottext">BlockId
tipBlockId :: BlockId
tipBlockId :: Tip -&gt; BlockId
</span><a href="#local-6989586621679680399"><span class="hs-identifier hs-var hs-var">tipBlockId</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680398"><span class="annot"><span class="annottext">BlockNumber
tipBlockNo :: BlockNumber
tipBlockNo :: Tip -&gt; BlockNumber
</span><a href="#local-6989586621679680398"><span class="hs-identifier hs-var hs-var">tipBlockNo</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-423"></span><span>            </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Tip(&quot;</span></span><span>
</span><span id="line-424"></span><span>        </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>  </span><span class="annot"><span class="annottext">Slot -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679680400"><span class="hs-identifier hs-var">tipSlot</span></a></span><span>
</span><span id="line-425"></span><span>        </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>  </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">comma</span></span><span>
</span><span id="line-426"></span><span>        </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">BlockId -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">BlockId
</span><a href="#local-6989586621679680399"><span class="hs-identifier hs-var">tipBlockId</span></a></span><span>
</span><span id="line-427"></span><span>        </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>  </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">comma</span></span><span>
</span><span id="line-428"></span><span>        </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">BlockNumber -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">BlockNumber
</span><a href="#local-6989586621679680398"><span class="hs-identifier hs-var">tipBlockNo</span></a></span><span>
</span><span id="line-429"></span><span>        </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>  </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-430"></span><span>
</span><span id="line-431"></span><span class="hs-comment">-- | Validity of a transaction that has been added to the ledger</span><span>
</span><span id="line-432"></span><span id="local-6989586621679680396"><span id="local-6989586621679680397"></span></span><span class="hs-keyword">data</span><span> </span><span id="TxValidity"><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxValidity"><span class="hs-identifier hs-var">TxValidity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TxValid"><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxValid"><span class="hs-identifier hs-var">TxValid</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="TxInvalid"><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxInvalid"><span class="hs-identifier hs-var">TxInvalid</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="UnknownValidity"><span class="annot"><a href="Plutus.ChainIndex.Types.html#UnknownValidity"><span class="hs-identifier hs-var">UnknownValidity</span></a></span></span><span>
</span><span id="line-433"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680389"><span id="local-6989586621679680391"><span class="annot"><span class="annottext">TxValidity -&gt; TxValidity -&gt; Bool
(TxValidity -&gt; TxValidity -&gt; Bool)
-&gt; (TxValidity -&gt; TxValidity -&gt; Bool) -&gt; Eq TxValidity
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TxValidity -&gt; TxValidity -&gt; Bool
$c/= :: TxValidity -&gt; TxValidity -&gt; Bool
== :: TxValidity -&gt; TxValidity -&gt; Bool
$c== :: TxValidity -&gt; TxValidity -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680374"><span id="local-6989586621679680376"><span id="local-6989586621679680378"><span id="local-6989586621679680380"><span id="local-6989586621679680382"><span id="local-6989586621679680384"><span id="local-6989586621679680386"><span class="annot"><span class="annottext">Eq TxValidity
Eq TxValidity
-&gt; (TxValidity -&gt; TxValidity -&gt; Ordering)
-&gt; (TxValidity -&gt; TxValidity -&gt; Bool)
-&gt; (TxValidity -&gt; TxValidity -&gt; Bool)
-&gt; (TxValidity -&gt; TxValidity -&gt; Bool)
-&gt; (TxValidity -&gt; TxValidity -&gt; Bool)
-&gt; (TxValidity -&gt; TxValidity -&gt; TxValidity)
-&gt; (TxValidity -&gt; TxValidity -&gt; TxValidity)
-&gt; Ord TxValidity
TxValidity -&gt; TxValidity -&gt; Bool
TxValidity -&gt; TxValidity -&gt; Ordering
TxValidity -&gt; TxValidity -&gt; TxValidity
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: TxValidity -&gt; TxValidity -&gt; TxValidity
$cmin :: TxValidity -&gt; TxValidity -&gt; TxValidity
max :: TxValidity -&gt; TxValidity -&gt; TxValidity
$cmax :: TxValidity -&gt; TxValidity -&gt; TxValidity
&gt;= :: TxValidity -&gt; TxValidity -&gt; Bool
$c&gt;= :: TxValidity -&gt; TxValidity -&gt; Bool
&gt; :: TxValidity -&gt; TxValidity -&gt; Bool
$c&gt; :: TxValidity -&gt; TxValidity -&gt; Bool
&lt;= :: TxValidity -&gt; TxValidity -&gt; Bool
$c&lt;= :: TxValidity -&gt; TxValidity -&gt; Bool
&lt; :: TxValidity -&gt; TxValidity -&gt; Bool
$c&lt; :: TxValidity -&gt; TxValidity -&gt; Bool
compare :: TxValidity -&gt; TxValidity -&gt; Ordering
$ccompare :: TxValidity -&gt; TxValidity -&gt; Ordering
$cp1Ord :: Eq TxValidity
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680368"><span id="local-6989586621679680370"><span id="local-6989586621679680372"><span class="annot"><span class="annottext">Int -&gt; TxValidity -&gt; ShowS
[TxValidity] -&gt; ShowS
TxValidity -&gt; String
(Int -&gt; TxValidity -&gt; ShowS)
-&gt; (TxValidity -&gt; String)
-&gt; ([TxValidity] -&gt; ShowS)
-&gt; Show TxValidity
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TxValidity] -&gt; ShowS
$cshowList :: [TxValidity] -&gt; ShowS
show :: TxValidity -&gt; String
$cshow :: TxValidity -&gt; String
showsPrec :: Int -&gt; TxValidity -&gt; ShowS
$cshowsPrec :: Int -&gt; TxValidity -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. TxValidity -&gt; Rep TxValidity x)
-&gt; (forall x. Rep TxValidity x -&gt; TxValidity) -&gt; Generic TxValidity
forall x. Rep TxValidity x -&gt; TxValidity
forall x. TxValidity -&gt; Rep TxValidity x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep TxValidity x -&gt; TxValidity
$cfrom :: forall x. TxValidity -&gt; Rep TxValidity x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-434"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680358"><span id="local-6989586621679680360"><span id="local-6989586621679680362"><span id="local-6989586621679680364"><span class="annot"><span class="annottext">[TxValidity] -&gt; Encoding
[TxValidity] -&gt; Value
TxValidity -&gt; Encoding
TxValidity -&gt; Value
(TxValidity -&gt; Value)
-&gt; (TxValidity -&gt; Encoding)
-&gt; ([TxValidity] -&gt; Value)
-&gt; ([TxValidity] -&gt; Encoding)
-&gt; ToJSON TxValidity
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [TxValidity] -&gt; Encoding
$ctoEncodingList :: [TxValidity] -&gt; Encoding
toJSONList :: [TxValidity] -&gt; Value
$ctoJSONList :: [TxValidity] -&gt; Value
toEncoding :: TxValidity -&gt; Encoding
$ctoEncoding :: TxValidity -&gt; Encoding
toJSON :: TxValidity -&gt; Value
$ctoJSON :: TxValidity -&gt; Value
</span><a href="#local-6989586621679680358"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680354"><span id="local-6989586621679680356"><span class="annot"><span class="annottext">Value -&gt; Parser [TxValidity]
Value -&gt; Parser TxValidity
(Value -&gt; Parser TxValidity)
-&gt; (Value -&gt; Parser [TxValidity]) -&gt; FromJSON TxValidity
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [TxValidity]
$cparseJSONList :: Value -&gt; Parser [TxValidity]
parseJSON :: Value -&gt; Parser TxValidity
$cparseJSON :: Value -&gt; Parser TxValidity
</span><a href="#local-6989586621679680354"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-435"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679680350"><span id="local-6989586621679680352"><span class="annot"><span class="annottext">[TxValidity] -&gt; Doc ann
TxValidity -&gt; Doc ann
(forall ann. TxValidity -&gt; Doc ann)
-&gt; (forall ann. [TxValidity] -&gt; Doc ann) -&gt; Pretty TxValidity
forall ann. [TxValidity] -&gt; Doc ann
forall ann. TxValidity -&gt; Doc ann
forall a.
(forall ann. a -&gt; Doc ann)
-&gt; (forall ann. [a] -&gt; Doc ann) -&gt; Pretty a
prettyList :: [TxValidity] -&gt; Doc ann
$cprettyList :: forall ann. [TxValidity] -&gt; Doc ann
pretty :: TxValidity -&gt; Doc ann
$cpretty :: forall ann. TxValidity -&gt; Doc ann
</span><a href="#local-6989586621679680350"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Pretty</span></a></span></span></span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PrettyShow</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxValidity"><span class="hs-identifier hs-type">TxValidity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MeetSemiLattice</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxValidity"><span class="hs-identifier hs-type">TxValidity</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-438"></span><span>  </span><span class="annot"><span class="annottext">TxValidity
</span><a href="Plutus.ChainIndex.Types.html#TxValid"><span class="hs-identifier hs-var">TxValid</span></a></span><span> </span><span id="local-6989586621679680347"><span class="annot"><span class="annottext">/\ :: TxValidity -&gt; TxValidity -&gt; TxValidity
</span><span class="hs-operator hs-var hs-var hs-var hs-var">/\</span></span></span><span> </span><span class="annot"><span class="annottext">TxValidity
</span><a href="Plutus.ChainIndex.Types.html#TxValid"><span class="hs-identifier hs-var">TxValid</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxValidity
</span><a href="Plutus.ChainIndex.Types.html#TxValid"><span class="hs-identifier hs-var">TxValid</span></a></span><span>
</span><span id="line-439"></span><span>  </span><span class="annot"><span class="annottext">TxValidity
</span><a href="Plutus.ChainIndex.Types.html#TxInvalid"><span class="hs-identifier hs-var">TxInvalid</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-var">/\</span></span><span> </span><span class="annot"><span class="annottext">TxValidity
</span><a href="Plutus.ChainIndex.Types.html#TxInvalid"><span class="hs-identifier hs-var">TxInvalid</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxValidity
</span><a href="Plutus.ChainIndex.Types.html#TxInvalid"><span class="hs-identifier hs-var">TxInvalid</span></a></span><span>
</span><span id="line-440"></span><span>  </span><span class="annot"><span class="annottext">TxValidity
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">/\</span></span><span> </span><span class="annot"><span class="annottext">TxValidity
</span><span class="hs-identifier">_</span></span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxValidity
</span><a href="Plutus.ChainIndex.Types.html#UnknownValidity"><span class="hs-identifier hs-var">UnknownValidity</span></a></span><span>
</span><span id="line-441"></span><span>
</span><span id="line-442"></span><span>
</span><span id="line-443"></span><span class="hs-comment">-- | How many blocks deep the tx is on the chain</span><span>
</span><span id="line-444"></span><span id="local-6989586621679680344"><span id="local-6989586621679680345"></span></span><span class="hs-keyword">newtype</span><span> </span><span id="Depth"><span class="annot"><a href="Plutus.ChainIndex.Types.html#Depth"><span class="hs-identifier hs-var">Depth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Depth"><span class="annot"><a href="Plutus.ChainIndex.Types.html#Depth"><span class="hs-identifier hs-var">Depth</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unDepth"><span class="annot"><span class="annottext">Depth -&gt; Int
</span><a href="Plutus.ChainIndex.Types.html#unDepth"><span class="hs-identifier hs-var hs-var">unDepth</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-445"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680338"><span id="local-6989586621679680340"><span class="annot"><span class="annottext">Depth -&gt; Depth -&gt; Bool
(Depth -&gt; Depth -&gt; Bool) -&gt; (Depth -&gt; Depth -&gt; Bool) -&gt; Eq Depth
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Depth -&gt; Depth -&gt; Bool
$c/= :: Depth -&gt; Depth -&gt; Bool
== :: Depth -&gt; Depth -&gt; Bool
$c== :: Depth -&gt; Depth -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680323"><span id="local-6989586621679680325"><span id="local-6989586621679680327"><span id="local-6989586621679680329"><span id="local-6989586621679680331"><span id="local-6989586621679680333"><span id="local-6989586621679680335"><span class="annot"><span class="annottext">Eq Depth
Eq Depth
-&gt; (Depth -&gt; Depth -&gt; Ordering)
-&gt; (Depth -&gt; Depth -&gt; Bool)
-&gt; (Depth -&gt; Depth -&gt; Bool)
-&gt; (Depth -&gt; Depth -&gt; Bool)
-&gt; (Depth -&gt; Depth -&gt; Bool)
-&gt; (Depth -&gt; Depth -&gt; Depth)
-&gt; (Depth -&gt; Depth -&gt; Depth)
-&gt; Ord Depth
Depth -&gt; Depth -&gt; Bool
Depth -&gt; Depth -&gt; Ordering
Depth -&gt; Depth -&gt; Depth
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: Depth -&gt; Depth -&gt; Depth
$cmin :: Depth -&gt; Depth -&gt; Depth
max :: Depth -&gt; Depth -&gt; Depth
$cmax :: Depth -&gt; Depth -&gt; Depth
&gt;= :: Depth -&gt; Depth -&gt; Bool
$c&gt;= :: Depth -&gt; Depth -&gt; Bool
&gt; :: Depth -&gt; Depth -&gt; Bool
$c&gt; :: Depth -&gt; Depth -&gt; Bool
&lt;= :: Depth -&gt; Depth -&gt; Bool
$c&lt;= :: Depth -&gt; Depth -&gt; Bool
&lt; :: Depth -&gt; Depth -&gt; Bool
$c&lt; :: Depth -&gt; Depth -&gt; Bool
compare :: Depth -&gt; Depth -&gt; Ordering
$ccompare :: Depth -&gt; Depth -&gt; Ordering
$cp1Ord :: Eq Depth
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680317"><span id="local-6989586621679680319"><span id="local-6989586621679680321"><span class="annot"><span class="annottext">Int -&gt; Depth -&gt; ShowS
[Depth] -&gt; ShowS
Depth -&gt; String
(Int -&gt; Depth -&gt; ShowS)
-&gt; (Depth -&gt; String) -&gt; ([Depth] -&gt; ShowS) -&gt; Show Depth
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Depth] -&gt; ShowS
$cshowList :: [Depth] -&gt; ShowS
show :: Depth -&gt; String
$cshow :: Depth -&gt; String
showsPrec :: Int -&gt; Depth -&gt; ShowS
$cshowsPrec :: Int -&gt; Depth -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. Depth -&gt; Rep Depth x)
-&gt; (forall x. Rep Depth x -&gt; Depth) -&gt; Generic Depth
forall x. Rep Depth x -&gt; Depth
forall x. Depth -&gt; Rep Depth x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep Depth x -&gt; Depth
$cfrom :: forall x. Depth -&gt; Rep Depth x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-446"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680301"><span id="local-6989586621679680303"><span id="local-6989586621679680305"><span id="local-6989586621679680307"><span id="local-6989586621679680309"><span id="local-6989586621679680311"><span id="local-6989586621679680313"><span class="annot"><span class="annottext">Integer -&gt; Depth
Depth -&gt; Depth
Depth -&gt; Depth -&gt; Depth
(Depth -&gt; Depth -&gt; Depth)
-&gt; (Depth -&gt; Depth -&gt; Depth)
-&gt; (Depth -&gt; Depth -&gt; Depth)
-&gt; (Depth -&gt; Depth)
-&gt; (Depth -&gt; Depth)
-&gt; (Depth -&gt; Depth)
-&gt; (Integer -&gt; Depth)
-&gt; Num Depth
forall a.
(a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Integer -&gt; a)
-&gt; Num a
fromInteger :: Integer -&gt; Depth
$cfromInteger :: Integer -&gt; Depth
signum :: Depth -&gt; Depth
$csignum :: Depth -&gt; Depth
abs :: Depth -&gt; Depth
$cabs :: Depth -&gt; Depth
negate :: Depth -&gt; Depth
$cnegate :: Depth -&gt; Depth
* :: Depth -&gt; Depth -&gt; Depth
$c* :: Depth -&gt; Depth -&gt; Depth
- :: Depth -&gt; Depth -&gt; Depth
$c- :: Depth -&gt; Depth -&gt; Depth
+ :: Depth -&gt; Depth -&gt; Depth
$c+ :: Depth -&gt; Depth -&gt; Depth
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Num</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680297"><span class="annot"><span class="annottext">Num Depth
Ord Depth
Num Depth -&gt; Ord Depth -&gt; (Depth -&gt; Rational) -&gt; Real Depth
Depth -&gt; Rational
forall a. Num a -&gt; Ord a -&gt; (a -&gt; Rational) -&gt; Real a
toRational :: Depth -&gt; Rational
$ctoRational :: Depth -&gt; Rational
$cp2Real :: Ord Depth
$cp1Real :: Num Depth
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Real</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680281"><span id="local-6989586621679680283"><span id="local-6989586621679680285"><span id="local-6989586621679680287"><span id="local-6989586621679680289"><span id="local-6989586621679680291"><span id="local-6989586621679680293"><span id="local-6989586621679680295"><span class="annot"><span class="annottext">Int -&gt; Depth
Depth -&gt; Int
Depth -&gt; [Depth]
Depth -&gt; Depth
Depth -&gt; Depth -&gt; [Depth]
Depth -&gt; Depth -&gt; Depth -&gt; [Depth]
(Depth -&gt; Depth)
-&gt; (Depth -&gt; Depth)
-&gt; (Int -&gt; Depth)
-&gt; (Depth -&gt; Int)
-&gt; (Depth -&gt; [Depth])
-&gt; (Depth -&gt; Depth -&gt; [Depth])
-&gt; (Depth -&gt; Depth -&gt; [Depth])
-&gt; (Depth -&gt; Depth -&gt; Depth -&gt; [Depth])
-&gt; Enum Depth
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
enumFromThenTo :: Depth -&gt; Depth -&gt; Depth -&gt; [Depth]
$cenumFromThenTo :: Depth -&gt; Depth -&gt; Depth -&gt; [Depth]
enumFromTo :: Depth -&gt; Depth -&gt; [Depth]
$cenumFromTo :: Depth -&gt; Depth -&gt; [Depth]
enumFromThen :: Depth -&gt; Depth -&gt; [Depth]
$cenumFromThen :: Depth -&gt; Depth -&gt; [Depth]
enumFrom :: Depth -&gt; [Depth]
$cenumFrom :: Depth -&gt; [Depth]
fromEnum :: Depth -&gt; Int
$cfromEnum :: Depth -&gt; Int
toEnum :: Int -&gt; Depth
$ctoEnum :: Int -&gt; Depth
pred :: Depth -&gt; Depth
$cpred :: Depth -&gt; Depth
succ :: Depth -&gt; Depth
$csucc :: Depth -&gt; Depth
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></a></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680265"><span id="local-6989586621679680267"><span id="local-6989586621679680269"><span id="local-6989586621679680271"><span id="local-6989586621679680273"><span id="local-6989586621679680275"><span id="local-6989586621679680277"><span class="annot"><span class="annottext">Enum Depth
Real Depth
Real Depth
-&gt; Enum Depth
-&gt; (Depth -&gt; Depth -&gt; Depth)
-&gt; (Depth -&gt; Depth -&gt; Depth)
-&gt; (Depth -&gt; Depth -&gt; Depth)
-&gt; (Depth -&gt; Depth -&gt; Depth)
-&gt; (Depth -&gt; Depth -&gt; (Depth, Depth))
-&gt; (Depth -&gt; Depth -&gt; (Depth, Depth))
-&gt; (Depth -&gt; Integer)
-&gt; Integral Depth
Depth -&gt; Integer
Depth -&gt; Depth -&gt; (Depth, Depth)
Depth -&gt; Depth -&gt; Depth
forall a.
Real a
-&gt; Enum a
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; (a, a))
-&gt; (a -&gt; a -&gt; (a, a))
-&gt; (a -&gt; Integer)
-&gt; Integral a
toInteger :: Depth -&gt; Integer
$ctoInteger :: Depth -&gt; Integer
divMod :: Depth -&gt; Depth -&gt; (Depth, Depth)
$cdivMod :: Depth -&gt; Depth -&gt; (Depth, Depth)
quotRem :: Depth -&gt; Depth -&gt; (Depth, Depth)
$cquotRem :: Depth -&gt; Depth -&gt; (Depth, Depth)
mod :: Depth -&gt; Depth -&gt; Depth
$cmod :: Depth -&gt; Depth -&gt; Depth
div :: Depth -&gt; Depth -&gt; Depth
$cdiv :: Depth -&gt; Depth -&gt; Depth
rem :: Depth -&gt; Depth -&gt; Depth
$crem :: Depth -&gt; Depth -&gt; Depth
quot :: Depth -&gt; Depth -&gt; Depth
$cquot :: Depth -&gt; Depth -&gt; Depth
$cp2Integral :: Enum Depth
$cp1Integral :: Real Depth
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Integral</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680261"><span id="local-6989586621679680263"><span class="annot"><span class="annottext">[Depth] -&gt; Doc ann
Depth -&gt; Doc ann
(forall ann. Depth -&gt; Doc ann)
-&gt; (forall ann. [Depth] -&gt; Doc ann) -&gt; Pretty Depth
forall ann. [Depth] -&gt; Doc ann
forall ann. Depth -&gt; Doc ann
forall a.
(forall ann. a -&gt; Doc ann)
-&gt; (forall ann. [a] -&gt; Doc ann) -&gt; Pretty a
prettyList :: [Depth] -&gt; Doc ann
$cprettyList :: forall ann. [Depth] -&gt; Doc ann
pretty :: Depth -&gt; Doc ann
$cpretty :: forall ann. Depth -&gt; Doc ann
</span><a href="#local-6989586621679680261"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Pretty</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680253"><span id="local-6989586621679680255"><span id="local-6989586621679680257"><span id="local-6989586621679680259"><span class="annot"><span class="annottext">[Depth] -&gt; Encoding
[Depth] -&gt; Value
Depth -&gt; Encoding
Depth -&gt; Value
(Depth -&gt; Value)
-&gt; (Depth -&gt; Encoding)
-&gt; ([Depth] -&gt; Value)
-&gt; ([Depth] -&gt; Encoding)
-&gt; ToJSON Depth
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [Depth] -&gt; Encoding
$ctoEncodingList :: [Depth] -&gt; Encoding
toJSONList :: [Depth] -&gt; Value
$ctoJSONList :: [Depth] -&gt; Value
toEncoding :: Depth -&gt; Encoding
$ctoEncoding :: Depth -&gt; Encoding
toJSON :: Depth -&gt; Value
$ctoJSON :: Depth -&gt; Value
</span><a href="#local-6989586621679680253"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680249"><span id="local-6989586621679680251"><span class="annot"><span class="annottext">Value -&gt; Parser [Depth]
Value -&gt; Parser Depth
(Value -&gt; Parser Depth)
-&gt; (Value -&gt; Parser [Depth]) -&gt; FromJSON Depth
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [Depth]
$cparseJSONList :: Value -&gt; Parser [Depth]
parseJSON :: Value -&gt; Parser Depth
$cparseJSON :: Value -&gt; Parser Depth
</span><a href="#local-6989586621679680249"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-447"></span><span>
</span><span id="line-448"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MeetSemiLattice</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Depth"><span class="hs-identifier hs-type">Depth</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-449"></span><span>  </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Depth"><span class="hs-identifier hs-type">Depth</span></a></span><span> </span><span id="local-6989586621679680247"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679680247"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679680246"><span class="annot"><span class="annottext">/\ :: Depth -&gt; Depth -&gt; Depth
</span><a href="#local-6989586621679680246"><span class="hs-operator hs-var hs-var hs-var hs-var">/\</span></a></span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Depth"><span class="hs-identifier hs-type">Depth</span></a></span><span> </span><span id="local-6989586621679680245"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679680245"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Depth
</span><a href="Plutus.ChainIndex.Types.html#Depth"><span class="hs-identifier hs-var">Depth</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">max</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679680247"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679680245"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-450"></span><span>
</span><span id="line-451"></span><span class="hs-comment">{- Note [TxStatus state machine]

The status of a transaction is described by the following state machine.

Current state | Next state(s)
-----------------------------------------------------
Unknown       | OnChain
OnChain       | OnChain, Unknown, Committed
Committed     | -

The initial state after submitting the transaction is Unknown.
-}</span><span>
</span><span id="line-463"></span><span>
</span><span id="line-464"></span><span class="hs-comment">-- | The status of a Cardano transaction</span><span>
</span><span id="line-465"></span><span class="hs-keyword">type</span><span> </span><span id="TxStatus"><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxStatus"><span class="hs-identifier hs-var">TxStatus</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#RollbackState"><span class="hs-identifier hs-type">RollbackState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-466"></span><span>
</span><span id="line-467"></span><span class="hs-comment">-- | The rollback state of a Cardano transaction</span><span>
</span><span id="line-468"></span><span id="local-6989586621679680242"><span id="local-6989586621679680243"></span></span><span class="hs-keyword">data</span><span> </span><span id="RollbackState"><span class="annot"><a href="Plutus.ChainIndex.Types.html#RollbackState"><span class="hs-identifier hs-var">RollbackState</span></a></span></span><span> </span><span id="local-6989586621679681163"><span class="annot"><a href="#local-6989586621679681163"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-469"></span><span>    </span><span id="Unknown"><span class="annot"><a href="Plutus.ChainIndex.Types.html#Unknown"><span class="hs-identifier hs-var">Unknown</span></a></span></span><span>
</span><span id="line-470"></span><span>    </span><span class="hs-comment">-- ^ The transaction is not on the chain. That's all we can say.</span><span>
</span><span id="line-471"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TentativelyConfirmed"><span class="annot"><a href="Plutus.ChainIndex.Types.html#TentativelyConfirmed"><span class="hs-identifier hs-var">TentativelyConfirmed</span></a></span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Depth"><span class="hs-identifier hs-type">Depth</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxValidity"><span class="hs-identifier hs-type">TxValidity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679681163"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-472"></span><span>    </span><span class="hs-comment">-- ^ The transaction is on the chain, n blocks deep. It can still be rolled</span><span>
</span><span id="line-473"></span><span>    </span><span class="hs-comment">-- back.</span><span>
</span><span id="line-474"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Committed"><span class="annot"><a href="Plutus.ChainIndex.Types.html#Committed"><span class="hs-identifier hs-var">Committed</span></a></span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxValidity"><span class="hs-identifier hs-type">TxValidity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679681163"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-475"></span><span>    </span><span class="hs-comment">-- ^ The transaction is on the chain. It cannot be rolled back anymore.</span><span>
</span><span id="line-476"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680235"><span id="local-6989586621679680237"><span class="annot"><span class="annottext">RollbackState a -&gt; RollbackState a -&gt; Bool
(RollbackState a -&gt; RollbackState a -&gt; Bool)
-&gt; (RollbackState a -&gt; RollbackState a -&gt; Bool)
-&gt; Eq (RollbackState a)
forall a. Eq a =&gt; RollbackState a -&gt; RollbackState a -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: RollbackState a -&gt; RollbackState a -&gt; Bool
$c/= :: forall a. Eq a =&gt; RollbackState a -&gt; RollbackState a -&gt; Bool
== :: RollbackState a -&gt; RollbackState a -&gt; Bool
$c== :: forall a. Eq a =&gt; RollbackState a -&gt; RollbackState a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680220"><span id="local-6989586621679680222"><span id="local-6989586621679680224"><span id="local-6989586621679680226"><span id="local-6989586621679680228"><span id="local-6989586621679680230"><span id="local-6989586621679680232"><span class="annot"><span class="annottext">Eq (RollbackState a)
Eq (RollbackState a)
-&gt; (RollbackState a -&gt; RollbackState a -&gt; Ordering)
-&gt; (RollbackState a -&gt; RollbackState a -&gt; Bool)
-&gt; (RollbackState a -&gt; RollbackState a -&gt; Bool)
-&gt; (RollbackState a -&gt; RollbackState a -&gt; Bool)
-&gt; (RollbackState a -&gt; RollbackState a -&gt; Bool)
-&gt; (RollbackState a -&gt; RollbackState a -&gt; RollbackState a)
-&gt; (RollbackState a -&gt; RollbackState a -&gt; RollbackState a)
-&gt; Ord (RollbackState a)
RollbackState a -&gt; RollbackState a -&gt; Bool
RollbackState a -&gt; RollbackState a -&gt; Ordering
RollbackState a -&gt; RollbackState a -&gt; RollbackState a
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall a. Ord a =&gt; Eq (RollbackState a)
forall a. Ord a =&gt; RollbackState a -&gt; RollbackState a -&gt; Bool
forall a. Ord a =&gt; RollbackState a -&gt; RollbackState a -&gt; Ordering
forall a.
Ord a =&gt;
RollbackState a -&gt; RollbackState a -&gt; RollbackState a
min :: RollbackState a -&gt; RollbackState a -&gt; RollbackState a
$cmin :: forall a.
Ord a =&gt;
RollbackState a -&gt; RollbackState a -&gt; RollbackState a
max :: RollbackState a -&gt; RollbackState a -&gt; RollbackState a
$cmax :: forall a.
Ord a =&gt;
RollbackState a -&gt; RollbackState a -&gt; RollbackState a
&gt;= :: RollbackState a -&gt; RollbackState a -&gt; Bool
$c&gt;= :: forall a. Ord a =&gt; RollbackState a -&gt; RollbackState a -&gt; Bool
&gt; :: RollbackState a -&gt; RollbackState a -&gt; Bool
$c&gt; :: forall a. Ord a =&gt; RollbackState a -&gt; RollbackState a -&gt; Bool
&lt;= :: RollbackState a -&gt; RollbackState a -&gt; Bool
$c&lt;= :: forall a. Ord a =&gt; RollbackState a -&gt; RollbackState a -&gt; Bool
&lt; :: RollbackState a -&gt; RollbackState a -&gt; Bool
$c&lt; :: forall a. Ord a =&gt; RollbackState a -&gt; RollbackState a -&gt; Bool
compare :: RollbackState a -&gt; RollbackState a -&gt; Ordering
$ccompare :: forall a. Ord a =&gt; RollbackState a -&gt; RollbackState a -&gt; Ordering
$cp1Ord :: forall a. Ord a =&gt; Eq (RollbackState a)
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680214"><span id="local-6989586621679680216"><span id="local-6989586621679680218"><span class="annot"><span class="annottext">Int -&gt; RollbackState a -&gt; ShowS
[RollbackState a] -&gt; ShowS
RollbackState a -&gt; String
(Int -&gt; RollbackState a -&gt; ShowS)
-&gt; (RollbackState a -&gt; String)
-&gt; ([RollbackState a] -&gt; ShowS)
-&gt; Show (RollbackState a)
forall a. Show a =&gt; Int -&gt; RollbackState a -&gt; ShowS
forall a. Show a =&gt; [RollbackState a] -&gt; ShowS
forall a. Show a =&gt; RollbackState a -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [RollbackState a] -&gt; ShowS
$cshowList :: forall a. Show a =&gt; [RollbackState a] -&gt; ShowS
show :: RollbackState a -&gt; String
$cshow :: forall a. Show a =&gt; RollbackState a -&gt; String
showsPrec :: Int -&gt; RollbackState a -&gt; ShowS
$cshowsPrec :: forall a. Show a =&gt; Int -&gt; RollbackState a -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. RollbackState a -&gt; Rep (RollbackState a) x)
-&gt; (forall x. Rep (RollbackState a) x -&gt; RollbackState a)
-&gt; Generic (RollbackState a)
forall x. Rep (RollbackState a) x -&gt; RollbackState a
forall x. RollbackState a -&gt; Rep (RollbackState a) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall a x. Rep (RollbackState a) x -&gt; RollbackState a
forall a x. RollbackState a -&gt; Rep (RollbackState a) x
$cto :: forall a x. Rep (RollbackState a) x -&gt; RollbackState a
$cfrom :: forall a x. RollbackState a -&gt; Rep (RollbackState a) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680208"><span id="local-6989586621679680210"><span class="annot"><span class="annottext">a -&gt; RollbackState b -&gt; RollbackState a
(a -&gt; b) -&gt; RollbackState a -&gt; RollbackState b
(forall a b. (a -&gt; b) -&gt; RollbackState a -&gt; RollbackState b)
-&gt; (forall a b. a -&gt; RollbackState b -&gt; RollbackState a)
-&gt; Functor RollbackState
forall a b. a -&gt; RollbackState b -&gt; RollbackState a
forall a b. (a -&gt; b) -&gt; RollbackState a -&gt; RollbackState b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: a -&gt; RollbackState b -&gt; RollbackState a
$c&lt;$ :: forall a b. a -&gt; RollbackState b -&gt; RollbackState a
fmap :: (a -&gt; b) -&gt; RollbackState a -&gt; RollbackState b
$cfmap :: forall a b. (a -&gt; b) -&gt; RollbackState a -&gt; RollbackState b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-477"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680199"><span id="local-6989586621679680201"><span id="local-6989586621679680203"><span id="local-6989586621679680205"><span class="annot"><span class="annottext">[RollbackState a] -&gt; Encoding
[RollbackState a] -&gt; Value
RollbackState a -&gt; Encoding
RollbackState a -&gt; Value
(RollbackState a -&gt; Value)
-&gt; (RollbackState a -&gt; Encoding)
-&gt; ([RollbackState a] -&gt; Value)
-&gt; ([RollbackState a] -&gt; Encoding)
-&gt; ToJSON (RollbackState a)
forall a. ToJSON a =&gt; [RollbackState a] -&gt; Encoding
forall a. ToJSON a =&gt; [RollbackState a] -&gt; Value
forall a. ToJSON a =&gt; RollbackState a -&gt; Encoding
forall a. ToJSON a =&gt; RollbackState a -&gt; Value
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [RollbackState a] -&gt; Encoding
$ctoEncodingList :: forall a. ToJSON a =&gt; [RollbackState a] -&gt; Encoding
toJSONList :: [RollbackState a] -&gt; Value
$ctoJSONList :: forall a. ToJSON a =&gt; [RollbackState a] -&gt; Value
toEncoding :: RollbackState a -&gt; Encoding
$ctoEncoding :: forall a. ToJSON a =&gt; RollbackState a -&gt; Encoding
toJSON :: RollbackState a -&gt; Value
$ctoJSON :: forall a. ToJSON a =&gt; RollbackState a -&gt; Value
</span><a href="#local-6989586621679680199"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680195"><span id="local-6989586621679680197"><span class="annot"><span class="annottext">Value -&gt; Parser [RollbackState a]
Value -&gt; Parser (RollbackState a)
(Value -&gt; Parser (RollbackState a))
-&gt; (Value -&gt; Parser [RollbackState a])
-&gt; FromJSON (RollbackState a)
forall a. FromJSON a =&gt; Value -&gt; Parser [RollbackState a]
forall a. FromJSON a =&gt; Value -&gt; Parser (RollbackState a)
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [RollbackState a]
$cparseJSONList :: forall a. FromJSON a =&gt; Value -&gt; Parser [RollbackState a]
parseJSON :: Value -&gt; Parser (RollbackState a)
$cparseJSON :: forall a. FromJSON a =&gt; Value -&gt; Parser (RollbackState a)
</span><a href="#local-6989586621679680195"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-478"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679680191"><span id="local-6989586621679680193"><span class="annot"><span class="annottext">[RollbackState a] -&gt; Doc ann
RollbackState a -&gt; Doc ann
(forall ann. RollbackState a -&gt; Doc ann)
-&gt; (forall ann. [RollbackState a] -&gt; Doc ann)
-&gt; Pretty (RollbackState a)
forall a ann. Show a =&gt; [RollbackState a] -&gt; Doc ann
forall a ann. Show a =&gt; RollbackState a -&gt; Doc ann
forall ann. [RollbackState a] -&gt; Doc ann
forall ann. RollbackState a -&gt; Doc ann
forall a.
(forall ann. a -&gt; Doc ann)
-&gt; (forall ann. [a] -&gt; Doc ann) -&gt; Pretty a
prettyList :: [RollbackState a] -&gt; Doc ann
$cprettyList :: forall a ann. Show a =&gt; [RollbackState a] -&gt; Doc ann
pretty :: RollbackState a -&gt; Doc ann
$cpretty :: forall a ann. Show a =&gt; RollbackState a -&gt; Doc ann
</span><a href="#local-6989586621679680191"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Pretty</span></a></span></span></span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PrettyShow</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#RollbackState"><span class="hs-identifier hs-type">RollbackState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679681163"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-479"></span><span>
</span><span id="line-480"></span><span id="local-6989586621679680190"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MeetSemiLattice</span></span><span> </span><span class="annot"><a href="#local-6989586621679680190"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MeetSemiLattice</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#RollbackState"><span class="hs-identifier hs-type">RollbackState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679680190"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-481"></span><span>  </span><span class="annot"><span class="annottext">RollbackState a
</span><a href="Plutus.ChainIndex.Types.html#Unknown"><span class="hs-identifier hs-var">Unknown</span></a></span><span> </span><span id="local-6989586621679680188"><span class="annot"><span class="annottext">/\ :: RollbackState a -&gt; RollbackState a -&gt; RollbackState a
</span><a href="#local-6989586621679680188"><span class="hs-operator hs-var hs-var hs-var hs-var">/\</span></a></span></span><span> </span><span id="local-6989586621679680187"><span class="annot"><span class="annottext">RollbackState a
</span><a href="#local-6989586621679680187"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RollbackState a
</span><a href="#local-6989586621679680187"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-482"></span><span>  </span><span id="local-6989586621679680186"><span class="annot"><span class="annottext">RollbackState a
</span><a href="#local-6989586621679680186"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">/\</span></span><span> </span><span class="annot"><span class="annottext">RollbackState a
</span><a href="Plutus.ChainIndex.Types.html#Unknown"><span class="hs-identifier hs-var">Unknown</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RollbackState a
</span><a href="#local-6989586621679680186"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-483"></span><span>  </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TentativelyConfirmed"><span class="hs-identifier hs-type">TentativelyConfirmed</span></a></span><span> </span><span id="local-6989586621679680185"><span class="annot"><span class="annottext">Depth
</span><a href="#local-6989586621679680185"><span class="hs-identifier hs-var">d1</span></a></span></span><span> </span><span id="local-6989586621679680184"><span class="annot"><span class="annottext">TxValidity
</span><a href="#local-6989586621679680184"><span class="hs-identifier hs-var">v1</span></a></span></span><span> </span><span id="local-6989586621679680183"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679680183"><span class="hs-identifier hs-var">a1</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">/\</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TentativelyConfirmed"><span class="hs-identifier hs-type">TentativelyConfirmed</span></a></span><span> </span><span id="local-6989586621679680182"><span class="annot"><span class="annottext">Depth
</span><a href="#local-6989586621679680182"><span class="hs-identifier hs-var">d2</span></a></span></span><span> </span><span id="local-6989586621679680181"><span class="annot"><span class="annottext">TxValidity
</span><a href="#local-6989586621679680181"><span class="hs-identifier hs-var">v2</span></a></span></span><span> </span><span id="local-6989586621679680180"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679680180"><span class="hs-identifier hs-var">a2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-484"></span><span>    </span><span class="annot"><span class="annottext">Depth -&gt; TxValidity -&gt; a -&gt; RollbackState a
forall a. Depth -&gt; TxValidity -&gt; a -&gt; RollbackState a
</span><a href="Plutus.ChainIndex.Types.html#TentativelyConfirmed"><span class="hs-identifier hs-var">TentativelyConfirmed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Depth
</span><a href="#local-6989586621679680185"><span class="hs-identifier hs-var">d1</span></a></span><span> </span><span class="annot"><span class="annottext">Depth -&gt; Depth -&gt; Depth
forall a. MeetSemiLattice a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/\</span></span><span> </span><span class="annot"><span class="annottext">Depth
</span><a href="#local-6989586621679680182"><span class="hs-identifier hs-var">d2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxValidity
</span><a href="#local-6989586621679680184"><span class="hs-identifier hs-var">v1</span></a></span><span> </span><span class="annot"><span class="annottext">TxValidity -&gt; TxValidity -&gt; TxValidity
forall a. MeetSemiLattice a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/\</span></span><span> </span><span class="annot"><span class="annottext">TxValidity
</span><a href="#local-6989586621679680181"><span class="hs-identifier hs-var">v2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679680183"><span class="hs-identifier hs-var">a1</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. MeetSemiLattice a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/\</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679680180"><span class="hs-identifier hs-var">a2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-485"></span><span>  </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TentativelyConfirmed"><span class="hs-identifier hs-type">TentativelyConfirmed</span></a></span><span> </span><span class="annot"><span class="annottext">Depth
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679680179"><span class="annot"><span class="annottext">TxValidity
</span><a href="#local-6989586621679680179"><span class="hs-identifier hs-var">v1</span></a></span></span><span> </span><span id="local-6989586621679680178"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679680178"><span class="hs-identifier hs-var">a1</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">/\</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Committed"><span class="hs-identifier hs-type">Committed</span></a></span><span> </span><span id="local-6989586621679680177"><span class="annot"><span class="annottext">TxValidity
</span><a href="#local-6989586621679680177"><span class="hs-identifier hs-var">v2</span></a></span></span><span> </span><span id="local-6989586621679680176"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679680176"><span class="hs-identifier hs-var">a2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxValidity -&gt; a -&gt; RollbackState a
forall a. TxValidity -&gt; a -&gt; RollbackState a
</span><a href="Plutus.ChainIndex.Types.html#Committed"><span class="hs-identifier hs-var">Committed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxValidity
</span><a href="#local-6989586621679680179"><span class="hs-identifier hs-var">v1</span></a></span><span> </span><span class="annot"><span class="annottext">TxValidity -&gt; TxValidity -&gt; TxValidity
forall a. MeetSemiLattice a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/\</span></span><span> </span><span class="annot"><span class="annottext">TxValidity
</span><a href="#local-6989586621679680177"><span class="hs-identifier hs-var">v2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679680178"><span class="hs-identifier hs-var">a1</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. MeetSemiLattice a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/\</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679680176"><span class="hs-identifier hs-var">a2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-486"></span><span>  </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Committed"><span class="hs-identifier hs-type">Committed</span></a></span><span> </span><span id="local-6989586621679680175"><span class="annot"><span class="annottext">TxValidity
</span><a href="#local-6989586621679680175"><span class="hs-identifier hs-var">v1</span></a></span></span><span> </span><span id="local-6989586621679680174"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679680174"><span class="hs-identifier hs-var">a1</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">/\</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TentativelyConfirmed"><span class="hs-identifier hs-type">TentativelyConfirmed</span></a></span><span> </span><span class="annot"><span class="annottext">Depth
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679680173"><span class="annot"><span class="annottext">TxValidity
</span><a href="#local-6989586621679680173"><span class="hs-identifier hs-var">v2</span></a></span></span><span> </span><span id="local-6989586621679680172"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679680172"><span class="hs-identifier hs-var">a2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxValidity -&gt; a -&gt; RollbackState a
forall a. TxValidity -&gt; a -&gt; RollbackState a
</span><a href="Plutus.ChainIndex.Types.html#Committed"><span class="hs-identifier hs-var">Committed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxValidity
</span><a href="#local-6989586621679680175"><span class="hs-identifier hs-var">v1</span></a></span><span> </span><span class="annot"><span class="annottext">TxValidity -&gt; TxValidity -&gt; TxValidity
forall a. MeetSemiLattice a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/\</span></span><span> </span><span class="annot"><span class="annottext">TxValidity
</span><a href="#local-6989586621679680173"><span class="hs-identifier hs-var">v2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679680174"><span class="hs-identifier hs-var">a1</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. MeetSemiLattice a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/\</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679680172"><span class="hs-identifier hs-var">a2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-487"></span><span>  </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Committed"><span class="hs-identifier hs-type">Committed</span></a></span><span> </span><span id="local-6989586621679680171"><span class="annot"><span class="annottext">TxValidity
</span><a href="#local-6989586621679680171"><span class="hs-identifier hs-var">v1</span></a></span></span><span> </span><span id="local-6989586621679680170"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679680170"><span class="hs-identifier hs-var">a1</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">/\</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Committed"><span class="hs-identifier hs-type">Committed</span></a></span><span> </span><span id="local-6989586621679680169"><span class="annot"><span class="annottext">TxValidity
</span><a href="#local-6989586621679680169"><span class="hs-identifier hs-var">v2</span></a></span></span><span> </span><span id="local-6989586621679680168"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679680168"><span class="hs-identifier hs-var">a2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxValidity -&gt; a -&gt; RollbackState a
forall a. TxValidity -&gt; a -&gt; RollbackState a
</span><a href="Plutus.ChainIndex.Types.html#Committed"><span class="hs-identifier hs-var">Committed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxValidity
</span><a href="#local-6989586621679680171"><span class="hs-identifier hs-var">v1</span></a></span><span> </span><span class="annot"><span class="annottext">TxValidity -&gt; TxValidity -&gt; TxValidity
forall a. MeetSemiLattice a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/\</span></span><span> </span><span class="annot"><span class="annottext">TxValidity
</span><a href="#local-6989586621679680169"><span class="hs-identifier hs-var">v2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679680170"><span class="hs-identifier hs-var">a1</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. MeetSemiLattice a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/\</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679680168"><span class="hs-identifier hs-var">a2</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-488"></span><span>
</span><span id="line-489"></span><span>
</span><span id="line-490"></span><span class="hs-comment">{- Note [TxOutStatus state machine]

The status of a transaction output is described by the following state machine.

Current state           | Next state(s)
-----------------------------------------------------
TxOutUnknown            | TxOutTentativelyUnspent
TxOutTentativelyUnspent | TxOutUnknown, TxOutTentativelySpent, TxOutConfirmedUnspent
TxOutTentativelySpent   | TxOutUnknown, TxOutConfirmedSpent
TxOutConfirmedUnspent   | TxOutConfirmedSpent
TxOutConfirmedSpent     | -

The initial state after submitting the transaction is 'TxOutUnknown'.
-}</span><span>
</span><span id="line-504"></span><span>
</span><span id="line-505"></span><span class="hs-keyword">type</span><span> </span><span id="TxOutStatus"><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxOutStatus"><span class="hs-identifier hs-var">TxOutStatus</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#RollbackState"><span class="hs-identifier hs-type">RollbackState</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxOutState"><span class="hs-identifier hs-type">TxOutState</span></a></span><span>
</span><span id="line-506"></span><span>
</span><span id="line-507"></span><span id="local-6989586621679680166"><span id="local-6989586621679680167"></span></span><span class="hs-keyword">data</span><span> </span><span id="TxOutState"><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxOutState"><span class="hs-identifier hs-var">TxOutState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Spent"><span class="annot"><a href="Plutus.ChainIndex.Types.html#Spent"><span class="hs-identifier hs-var">Spent</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxId</span></span><span> </span><span class="hs-comment">-- Spent by this transaction</span><span>
</span><span id="line-508"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span id="Unspent"><span class="annot"><a href="Plutus.ChainIndex.Types.html#Unspent"><span class="hs-identifier hs-var">Unspent</span></a></span></span><span>
</span><span id="line-509"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680160"><span id="local-6989586621679680162"><span class="annot"><span class="annottext">TxOutState -&gt; TxOutState -&gt; Bool
(TxOutState -&gt; TxOutState -&gt; Bool)
-&gt; (TxOutState -&gt; TxOutState -&gt; Bool) -&gt; Eq TxOutState
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TxOutState -&gt; TxOutState -&gt; Bool
$c/= :: TxOutState -&gt; TxOutState -&gt; Bool
== :: TxOutState -&gt; TxOutState -&gt; Bool
$c== :: TxOutState -&gt; TxOutState -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680145"><span id="local-6989586621679680147"><span id="local-6989586621679680149"><span id="local-6989586621679680151"><span id="local-6989586621679680153"><span id="local-6989586621679680155"><span id="local-6989586621679680157"><span class="annot"><span class="annottext">Eq TxOutState
Eq TxOutState
-&gt; (TxOutState -&gt; TxOutState -&gt; Ordering)
-&gt; (TxOutState -&gt; TxOutState -&gt; Bool)
-&gt; (TxOutState -&gt; TxOutState -&gt; Bool)
-&gt; (TxOutState -&gt; TxOutState -&gt; Bool)
-&gt; (TxOutState -&gt; TxOutState -&gt; Bool)
-&gt; (TxOutState -&gt; TxOutState -&gt; TxOutState)
-&gt; (TxOutState -&gt; TxOutState -&gt; TxOutState)
-&gt; Ord TxOutState
TxOutState -&gt; TxOutState -&gt; Bool
TxOutState -&gt; TxOutState -&gt; Ordering
TxOutState -&gt; TxOutState -&gt; TxOutState
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: TxOutState -&gt; TxOutState -&gt; TxOutState
$cmin :: TxOutState -&gt; TxOutState -&gt; TxOutState
max :: TxOutState -&gt; TxOutState -&gt; TxOutState
$cmax :: TxOutState -&gt; TxOutState -&gt; TxOutState
&gt;= :: TxOutState -&gt; TxOutState -&gt; Bool
$c&gt;= :: TxOutState -&gt; TxOutState -&gt; Bool
&gt; :: TxOutState -&gt; TxOutState -&gt; Bool
$c&gt; :: TxOutState -&gt; TxOutState -&gt; Bool
&lt;= :: TxOutState -&gt; TxOutState -&gt; Bool
$c&lt;= :: TxOutState -&gt; TxOutState -&gt; Bool
&lt; :: TxOutState -&gt; TxOutState -&gt; Bool
$c&lt; :: TxOutState -&gt; TxOutState -&gt; Bool
compare :: TxOutState -&gt; TxOutState -&gt; Ordering
$ccompare :: TxOutState -&gt; TxOutState -&gt; Ordering
$cp1Ord :: Eq TxOutState
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680139"><span id="local-6989586621679680141"><span id="local-6989586621679680143"><span class="annot"><span class="annottext">Int -&gt; TxOutState -&gt; ShowS
[TxOutState] -&gt; ShowS
TxOutState -&gt; String
(Int -&gt; TxOutState -&gt; ShowS)
-&gt; (TxOutState -&gt; String)
-&gt; ([TxOutState] -&gt; ShowS)
-&gt; Show TxOutState
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TxOutState] -&gt; ShowS
$cshowList :: [TxOutState] -&gt; ShowS
show :: TxOutState -&gt; String
$cshow :: TxOutState -&gt; String
showsPrec :: Int -&gt; TxOutState -&gt; ShowS
$cshowsPrec :: Int -&gt; TxOutState -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. TxOutState -&gt; Rep TxOutState x)
-&gt; (forall x. Rep TxOutState x -&gt; TxOutState) -&gt; Generic TxOutState
forall x. Rep TxOutState x -&gt; TxOutState
forall x. TxOutState -&gt; Rep TxOutState x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep TxOutState x -&gt; TxOutState
$cfrom :: forall x. TxOutState -&gt; Rep TxOutState x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-510"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680129"><span id="local-6989586621679680131"><span id="local-6989586621679680133"><span id="local-6989586621679680135"><span class="annot"><span class="annottext">[TxOutState] -&gt; Encoding
[TxOutState] -&gt; Value
TxOutState -&gt; Encoding
TxOutState -&gt; Value
(TxOutState -&gt; Value)
-&gt; (TxOutState -&gt; Encoding)
-&gt; ([TxOutState] -&gt; Value)
-&gt; ([TxOutState] -&gt; Encoding)
-&gt; ToJSON TxOutState
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [TxOutState] -&gt; Encoding
$ctoEncodingList :: [TxOutState] -&gt; Encoding
toJSONList :: [TxOutState] -&gt; Value
$ctoJSONList :: [TxOutState] -&gt; Value
toEncoding :: TxOutState -&gt; Encoding
$ctoEncoding :: TxOutState -&gt; Encoding
toJSON :: TxOutState -&gt; Value
$ctoJSON :: TxOutState -&gt; Value
</span><a href="#local-6989586621679680129"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680125"><span id="local-6989586621679680127"><span class="annot"><span class="annottext">Value -&gt; Parser [TxOutState]
Value -&gt; Parser TxOutState
(Value -&gt; Parser TxOutState)
-&gt; (Value -&gt; Parser [TxOutState]) -&gt; FromJSON TxOutState
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [TxOutState]
$cparseJSONList :: Value -&gt; Parser [TxOutState]
parseJSON :: Value -&gt; Parser TxOutState
$cparseJSON :: Value -&gt; Parser TxOutState
</span><a href="#local-6989586621679680125"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-511"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679680121"><span id="local-6989586621679680123"><span class="annot"><span class="annottext">[TxOutState] -&gt; Doc ann
TxOutState -&gt; Doc ann
(forall ann. TxOutState -&gt; Doc ann)
-&gt; (forall ann. [TxOutState] -&gt; Doc ann) -&gt; Pretty TxOutState
forall ann. [TxOutState] -&gt; Doc ann
forall ann. TxOutState -&gt; Doc ann
forall a.
(forall ann. a -&gt; Doc ann)
-&gt; (forall ann. [a] -&gt; Doc ann) -&gt; Pretty a
prettyList :: [TxOutState] -&gt; Doc ann
$cprettyList :: forall ann. [TxOutState] -&gt; Doc ann
pretty :: TxOutState -&gt; Doc ann
$cpretty :: forall ann. TxOutState -&gt; Doc ann
</span><a href="#local-6989586621679680121"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Pretty</span></a></span></span></span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PrettyShow</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxOutState"><span class="hs-identifier hs-type">TxOutState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-512"></span><span>
</span><span id="line-513"></span><span class="hs-comment">-- | Maybe extract the 'TxOutState' (Spent or Unspent) of a 'TxOutStatus'.</span><span>
</span><span id="line-514"></span><span class="annot"><a href="Plutus.ChainIndex.Types.html#txOutStatusTxOutState"><span class="hs-identifier hs-type">txOutStatusTxOutState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxOutStatus"><span class="hs-identifier hs-type">TxOutStatus</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxOutState"><span class="hs-identifier hs-type">TxOutState</span></a></span><span>
</span><span id="line-515"></span><span id="txOutStatusTxOutState"><span class="annot"><span class="annottext">txOutStatusTxOutState :: TxOutStatus -&gt; Maybe TxOutState
</span><a href="Plutus.ChainIndex.Types.html#txOutStatusTxOutState"><span class="hs-identifier hs-var hs-var">txOutStatusTxOutState</span></a></span></span><span> </span><span class="annot"><span class="annottext">TxOutStatus
</span><a href="Plutus.ChainIndex.Types.html#Unknown"><span class="hs-identifier hs-var">Unknown</span></a></span><span>                      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe TxOutState
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-516"></span><span class="annot"><a href="Plutus.ChainIndex.Types.html#txOutStatusTxOutState"><span class="hs-identifier hs-var">txOutStatusTxOutState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TentativelyConfirmed"><span class="hs-identifier hs-type">TentativelyConfirmed</span></a></span><span> </span><span class="annot"><span class="annottext">Depth
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TxValidity
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679680120"><span class="annot"><span class="annottext">TxOutState
</span><a href="#local-6989586621679680120"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxOutState -&gt; Maybe TxOutState
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutState
</span><a href="#local-6989586621679680120"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-517"></span><span class="annot"><a href="Plutus.ChainIndex.Types.html#txOutStatusTxOutState"><span class="hs-identifier hs-var">txOutStatusTxOutState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Committed"><span class="hs-identifier hs-type">Committed</span></a></span><span> </span><span class="annot"><span class="annottext">TxValidity
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679680119"><span class="annot"><span class="annottext">TxOutState
</span><a href="#local-6989586621679680119"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxOutState -&gt; Maybe TxOutState
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutState
</span><a href="#local-6989586621679680119"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-518"></span><span>
</span><span id="line-519"></span><span class="hs-comment">-- | Converts a 'TxOutStatus' to a 'TxStatus'. Possible since a transaction</span><span>
</span><span id="line-520"></span><span class="hs-comment">-- output belongs to a transaction.</span><span>
</span><span id="line-521"></span><span class="hs-comment">--</span><span>
</span><span id="line-522"></span><span class="hs-comment">-- Note, however, that we can't convert a 'TxStatus' to a 'TxOutStatus'.</span><span>
</span><span id="line-523"></span><span class="annot"><a href="Plutus.ChainIndex.Types.html#liftTxOutStatus"><span class="hs-identifier hs-type">liftTxOutStatus</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxOutStatus"><span class="hs-identifier hs-type">TxOutStatus</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxStatus"><span class="hs-identifier hs-type">TxStatus</span></a></span><span>
</span><span id="line-524"></span><span id="liftTxOutStatus"><span class="annot"><span class="annottext">liftTxOutStatus :: TxOutStatus -&gt; TxStatus
</span><a href="Plutus.ChainIndex.Types.html#liftTxOutStatus"><span class="hs-identifier hs-var hs-var">liftTxOutStatus</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxOutStatus -&gt; TxStatus
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">void</span></a></span><span>
</span><span id="line-525"></span><span>
</span><span id="line-526"></span><span id="local-6989586621679680117"><span id="local-6989586621679680118"></span></span><span class="hs-keyword">data</span><span> </span><span id="Diagnostics"><span class="annot"><a href="Plutus.ChainIndex.Types.html#Diagnostics"><span class="hs-identifier hs-var">Diagnostics</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-527"></span><span>    </span><span id="Diagnostics"><span class="annot"><a href="Plutus.ChainIndex.Types.html#Diagnostics"><span class="hs-identifier hs-var">Diagnostics</span></a></span></span><span>
</span><span id="line-528"></span><span>        </span><span class="hs-special">{</span><span> </span><span id="numTransactions"><span class="annot"><span class="annottext">Diagnostics -&gt; Integer
</span><a href="Plutus.ChainIndex.Types.html#numTransactions"><span class="hs-identifier hs-var hs-var">numTransactions</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span>
</span><span id="line-529"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="numScripts"><span class="annot"><span class="annottext">Diagnostics -&gt; Integer
</span><a href="Plutus.ChainIndex.Types.html#numScripts"><span class="hs-identifier hs-var hs-var">numScripts</span></a></span></span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span>
</span><span id="line-530"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="numAddresses"><span class="annot"><span class="annottext">Diagnostics -&gt; Integer
</span><a href="Plutus.ChainIndex.Types.html#numAddresses"><span class="hs-identifier hs-var hs-var">numAddresses</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span>
</span><span id="line-531"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="numAssetClasses"><span class="annot"><span class="annottext">Diagnostics -&gt; Integer
</span><a href="Plutus.ChainIndex.Types.html#numAssetClasses"><span class="hs-identifier hs-var hs-var">numAssetClasses</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span>
</span><span id="line-532"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="numUnspentOutputs"><span class="annot"><span class="annottext">Diagnostics -&gt; Int
</span><a href="Plutus.ChainIndex.Types.html#numUnspentOutputs"><span class="hs-identifier hs-var hs-var">numUnspentOutputs</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-533"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="numUnmatchedInputs"><span class="annot"><span class="annottext">Diagnostics -&gt; Int
</span><a href="Plutus.ChainIndex.Types.html#numUnmatchedInputs"><span class="hs-identifier hs-var hs-var">numUnmatchedInputs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-534"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="someTransactions"><span class="annot"><span class="annottext">Diagnostics -&gt; [TxId]
</span><a href="Plutus.ChainIndex.Types.html#someTransactions"><span class="hs-identifier hs-var hs-var">someTransactions</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TxId</span></span><span class="hs-special">]</span><span>
</span><span id="line-535"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="unspentTxOuts"><span class="annot"><span class="annottext">Diagnostics -&gt; [ChainIndexTxOut]
</span><a href="Plutus.ChainIndex.Types.html#unspentTxOuts"><span class="hs-identifier hs-var hs-var">unspentTxOuts</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOut"><span class="hs-identifier hs-type">ChainIndexTxOut</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-536"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-537"></span><span>        </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680104"><span id="local-6989586621679680106"><span class="annot"><span class="annottext">Diagnostics -&gt; Diagnostics -&gt; Bool
(Diagnostics -&gt; Diagnostics -&gt; Bool)
-&gt; (Diagnostics -&gt; Diagnostics -&gt; Bool) -&gt; Eq Diagnostics
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Diagnostics -&gt; Diagnostics -&gt; Bool
$c/= :: Diagnostics -&gt; Diagnostics -&gt; Bool
== :: Diagnostics -&gt; Diagnostics -&gt; Bool
$c== :: Diagnostics -&gt; Diagnostics -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680098"><span id="local-6989586621679680100"><span id="local-6989586621679680102"><span class="annot"><span class="annottext">Int -&gt; Diagnostics -&gt; ShowS
[Diagnostics] -&gt; ShowS
Diagnostics -&gt; String
(Int -&gt; Diagnostics -&gt; ShowS)
-&gt; (Diagnostics -&gt; String)
-&gt; ([Diagnostics] -&gt; ShowS)
-&gt; Show Diagnostics
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Diagnostics] -&gt; ShowS
$cshowList :: [Diagnostics] -&gt; ShowS
show :: Diagnostics -&gt; String
$cshow :: Diagnostics -&gt; String
showsPrec :: Int -&gt; Diagnostics -&gt; ShowS
$cshowsPrec :: Int -&gt; Diagnostics -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. Diagnostics -&gt; Rep Diagnostics x)
-&gt; (forall x. Rep Diagnostics x -&gt; Diagnostics)
-&gt; Generic Diagnostics
forall x. Rep Diagnostics x -&gt; Diagnostics
forall x. Diagnostics -&gt; Rep Diagnostics x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep Diagnostics x -&gt; Diagnostics
$cfrom :: forall x. Diagnostics -&gt; Rep Diagnostics x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-538"></span><span>        </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680088"><span id="local-6989586621679680090"><span id="local-6989586621679680092"><span id="local-6989586621679680094"><span class="annot"><span class="annottext">[Diagnostics] -&gt; Encoding
[Diagnostics] -&gt; Value
Diagnostics -&gt; Encoding
Diagnostics -&gt; Value
(Diagnostics -&gt; Value)
-&gt; (Diagnostics -&gt; Encoding)
-&gt; ([Diagnostics] -&gt; Value)
-&gt; ([Diagnostics] -&gt; Encoding)
-&gt; ToJSON Diagnostics
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [Diagnostics] -&gt; Encoding
$ctoEncodingList :: [Diagnostics] -&gt; Encoding
toJSONList :: [Diagnostics] -&gt; Value
$ctoJSONList :: [Diagnostics] -&gt; Value
toEncoding :: Diagnostics -&gt; Encoding
$ctoEncoding :: Diagnostics -&gt; Encoding
toJSON :: Diagnostics -&gt; Value
$ctoJSON :: Diagnostics -&gt; Value
</span><a href="#local-6989586621679680088"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680084"><span id="local-6989586621679680086"><span class="annot"><span class="annottext">Value -&gt; Parser [Diagnostics]
Value -&gt; Parser Diagnostics
(Value -&gt; Parser Diagnostics)
-&gt; (Value -&gt; Parser [Diagnostics]) -&gt; FromJSON Diagnostics
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [Diagnostics]
$cparseJSONList :: Value -&gt; Parser [Diagnostics]
parseJSON :: Value -&gt; Parser Diagnostics
$cparseJSON :: Value -&gt; Parser Diagnostics
</span><a href="#local-6989586621679680084"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680081"><span class="annot"><span class="annottext">Typeable Diagnostics
Typeable Diagnostics
-&gt; (Proxy Diagnostics -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; ToSchema Diagnostics
Proxy Diagnostics -&gt; Declare (Definitions Schema) NamedSchema
forall a.
Typeable a
-&gt; (Proxy a -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; ToSchema a
declareNamedSchema :: Proxy Diagnostics -&gt; Declare (Definitions Schema) NamedSchema
$cdeclareNamedSchema :: Proxy Diagnostics -&gt; Declare (Definitions Schema) NamedSchema
$cp1ToSchema :: Typeable Diagnostics
</span><a href="#local-6989586621679680081"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var">OpenApi.ToSchema</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-539"></span><span>
</span><span id="line-540"></span><span class="hs-comment">-- | Datatype returned when we couldn't get the state of a tx or a tx output.</span><span>
</span><span id="line-541"></span><span class="hs-keyword">data</span><span> </span><span id="TxStatusFailure"><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxStatusFailure"><span class="hs-identifier hs-var">TxStatusFailure</span></a></span></span><span>
</span><span id="line-542"></span><span>      </span><span class="hs-comment">-- | We couldn't return the status because the 'TxIdState' was in a ...</span><span>
</span><span id="line-543"></span><span>      </span><span class="hs-comment">-- state ... that we didn't know how to decode in</span><span>
</span><span id="line-544"></span><span>      </span><span class="hs-comment">-- 'Plutus.ChainIndex.TxIdState.transactionStatus'.</span><span>
</span><span id="line-545"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span id="TxIdStateInvalid"><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxIdStateInvalid"><span class="hs-identifier hs-var">TxIdStateInvalid</span></a></span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#BlockNumber"><span class="hs-identifier hs-type">BlockNumber</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxId</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxIdState"><span class="hs-identifier hs-type">TxIdState</span></a></span><span>
</span><span id="line-546"></span><span>      </span><span class="hs-comment">-- | We couldn't return the status because the 'TxOutBalance' does not</span><span>
</span><span id="line-547"></span><span>      </span><span class="hs-comment">-- contain the target tx output.</span><span>
</span><span id="line-548"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="TxOutBalanceStateInvalid"><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxOutBalanceStateInvalid"><span class="hs-identifier hs-var">TxOutBalanceStateInvalid</span></a></span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#BlockNumber"><span class="hs-identifier hs-type">BlockNumber</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxOutBalance"><span class="hs-identifier hs-type">TxOutBalance</span></a></span><span>
</span><span id="line-549"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="InvalidRollbackAttempt"><span class="annot"><a href="Plutus.ChainIndex.Types.html#InvalidRollbackAttempt"><span class="hs-identifier hs-var">InvalidRollbackAttempt</span></a></span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#BlockNumber"><span class="hs-identifier hs-type">BlockNumber</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxId</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxIdState"><span class="hs-identifier hs-type">TxIdState</span></a></span><span>
</span><span id="line-550"></span><span>      </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680072"><span id="local-6989586621679680074"><span id="local-6989586621679680076"><span class="annot"><span class="annottext">Int -&gt; TxStatusFailure -&gt; ShowS
[TxStatusFailure] -&gt; ShowS
TxStatusFailure -&gt; String
(Int -&gt; TxStatusFailure -&gt; ShowS)
-&gt; (TxStatusFailure -&gt; String)
-&gt; ([TxStatusFailure] -&gt; ShowS)
-&gt; Show TxStatusFailure
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TxStatusFailure] -&gt; ShowS
$cshowList :: [TxStatusFailure] -&gt; ShowS
show :: TxStatusFailure -&gt; String
$cshow :: TxStatusFailure -&gt; String
showsPrec :: Int -&gt; TxStatusFailure -&gt; ShowS
$cshowsPrec :: Int -&gt; TxStatusFailure -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680068"><span id="local-6989586621679680070"><span class="annot"><span class="annottext">TxStatusFailure -&gt; TxStatusFailure -&gt; Bool
(TxStatusFailure -&gt; TxStatusFailure -&gt; Bool)
-&gt; (TxStatusFailure -&gt; TxStatusFailure -&gt; Bool)
-&gt; Eq TxStatusFailure
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TxStatusFailure -&gt; TxStatusFailure -&gt; Bool
$c/= :: TxStatusFailure -&gt; TxStatusFailure -&gt; Bool
== :: TxStatusFailure -&gt; TxStatusFailure -&gt; Bool
$c== :: TxStatusFailure -&gt; TxStatusFailure -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-551"></span><span>
</span><span id="line-552"></span><span id="local-6989586621679680066"><span id="local-6989586621679680067"></span></span><span class="hs-keyword">data</span><span> </span><span id="TxIdState"><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxIdState"><span class="hs-identifier hs-var">TxIdState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TxIdState"><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxIdState"><span class="hs-identifier hs-var">TxIdState</span></a></span></span><span>
</span><span id="line-553"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="txnsConfirmed"><span class="annot"><span class="annottext">TxIdState -&gt; Map TxId TxConfirmedState
</span><a href="Plutus.ChainIndex.Types.html#txnsConfirmed"><span class="hs-identifier hs-var hs-var">txnsConfirmed</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxId</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxConfirmedState"><span class="hs-identifier hs-type">TxConfirmedState</span></a></span><span>
</span><span id="line-554"></span><span>  </span><span class="hs-comment">-- ^ Number of times this transaction has been added as well as other</span><span>
</span><span id="line-555"></span><span>  </span><span class="hs-comment">-- necessary metadata.</span><span>
</span><span id="line-556"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="txnsDeleted"><span class="annot"><span class="annottext">TxIdState -&gt; Map TxId (Sum Int)
</span><a href="Plutus.ChainIndex.Types.html#txnsDeleted"><span class="hs-identifier hs-var hs-var">txnsDeleted</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxId</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Sum</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-557"></span><span>  </span><span class="hs-comment">-- ^ Number of times this transaction has been deleted.</span><span>
</span><span id="line-558"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-559"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680059"><span id="local-6989586621679680061"><span class="annot"><span class="annottext">TxIdState -&gt; TxIdState -&gt; Bool
(TxIdState -&gt; TxIdState -&gt; Bool)
-&gt; (TxIdState -&gt; TxIdState -&gt; Bool) -&gt; Eq TxIdState
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TxIdState -&gt; TxIdState -&gt; Bool
$c/= :: TxIdState -&gt; TxIdState -&gt; Bool
== :: TxIdState -&gt; TxIdState -&gt; Bool
$c== :: TxIdState -&gt; TxIdState -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. TxIdState -&gt; Rep TxIdState x)
-&gt; (forall x. Rep TxIdState x -&gt; TxIdState) -&gt; Generic TxIdState
forall x. Rep TxIdState x -&gt; TxIdState
forall x. TxIdState -&gt; Rep TxIdState x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep TxIdState x -&gt; TxIdState
$cfrom :: forall x. TxIdState -&gt; Rep TxIdState x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680051"><span id="local-6989586621679680053"><span id="local-6989586621679680055"><span class="annot"><span class="annottext">Int -&gt; TxIdState -&gt; ShowS
[TxIdState] -&gt; ShowS
TxIdState -&gt; String
(Int -&gt; TxIdState -&gt; ShowS)
-&gt; (TxIdState -&gt; String)
-&gt; ([TxIdState] -&gt; ShowS)
-&gt; Show TxIdState
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TxIdState] -&gt; ShowS
$cshowList :: [TxIdState] -&gt; ShowS
show :: TxIdState -&gt; String
$cshow :: TxIdState -&gt; String
showsPrec :: Int -&gt; TxIdState -&gt; ShowS
$cshowsPrec :: Int -&gt; TxIdState -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-560"></span><span>
</span><span id="line-561"></span><span class="hs-comment">-- A semigroup instance that merges the two maps, instead of taking the</span><span>
</span><span id="line-562"></span><span class="hs-comment">-- leftmost one.</span><span>
</span><span id="line-563"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679680046"><span id="local-6989586621679680048"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxIdState"><span class="hs-identifier hs-type">TxIdState</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-564"></span><span>  </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxIdState"><span class="hs-identifier hs-type">TxIdState</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">txnsConfirmed :: TxIdState -&gt; Map TxId TxConfirmedState
</span><a href="Plutus.ChainIndex.Types.html#txnsConfirmed"><span class="hs-identifier hs-var">txnsConfirmed</span></a></span><span class="hs-glyph">=</span><span id="local-6989586621679680045"><span class="annot"><span class="annottext">Map TxId TxConfirmedState
</span><a href="#local-6989586621679680045"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">txnsDeleted :: TxIdState -&gt; Map TxId (Sum Int)
</span><a href="Plutus.ChainIndex.Types.html#txnsDeleted"><span class="hs-identifier hs-var">txnsDeleted</span></a></span><span class="hs-glyph">=</span><span id="local-6989586621679680044"><span class="annot"><span class="annottext">Map TxId (Sum Int)
</span><a href="#local-6989586621679680044"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621679680043"><span class="annot"><span class="annottext">&lt;&gt; :: TxIdState -&gt; TxIdState -&gt; TxIdState
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></a></span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxIdState"><span class="hs-identifier hs-type">TxIdState</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">txnsConfirmed :: TxIdState -&gt; Map TxId TxConfirmedState
</span><a href="Plutus.ChainIndex.Types.html#txnsConfirmed"><span class="hs-identifier hs-var">txnsConfirmed</span></a></span><span class="hs-glyph">=</span><span id="local-6989586621679680042"><span class="annot"><span class="annottext">Map TxId TxConfirmedState
</span><a href="#local-6989586621679680042"><span class="hs-identifier hs-var">c'</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">txnsDeleted :: TxIdState -&gt; Map TxId (Sum Int)
</span><a href="Plutus.ChainIndex.Types.html#txnsDeleted"><span class="hs-identifier hs-var">txnsDeleted</span></a></span><span class="hs-glyph">=</span><span id="local-6989586621679680041"><span class="annot"><span class="annottext">Map TxId (Sum Int)
</span><a href="#local-6989586621679680041"><span class="hs-identifier hs-var">d'</span></a></span></span><span class="hs-special">}</span><span>
</span><span id="line-565"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxIdState :: Map TxId TxConfirmedState -&gt; Map TxId (Sum Int) -&gt; TxIdState
</span><a href="Plutus.ChainIndex.Types.html#TxIdState"><span class="hs-identifier hs-type">TxIdState</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">txnsConfirmed :: Map TxId TxConfirmedState
</span><a href="Plutus.ChainIndex.Types.html#txnsConfirmed"><span class="hs-identifier hs-var">txnsConfirmed</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxConfirmedState -&gt; TxConfirmedState -&gt; TxConfirmedState)
-&gt; Map TxId TxConfirmedState
-&gt; Map TxId TxConfirmedState
-&gt; Map TxId TxConfirmedState
forall k a. Ord k =&gt; (a -&gt; a -&gt; a) -&gt; Map k a -&gt; Map k a -&gt; Map k a
</span><span class="hs-identifier hs-var">Map.unionWith</span></span><span> </span><span class="annot"><span class="annottext">TxConfirmedState -&gt; TxConfirmedState -&gt; TxConfirmedState
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span> </span><span class="annot"><span class="annottext">Map TxId TxConfirmedState
</span><a href="#local-6989586621679680045"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Map TxId TxConfirmedState
</span><a href="#local-6989586621679680042"><span class="hs-identifier hs-var">c'</span></a></span><span>
</span><span id="line-566"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">txnsDeleted :: Map TxId (Sum Int)
</span><a href="Plutus.ChainIndex.Types.html#txnsDeleted"><span class="hs-identifier hs-var">txnsDeleted</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Sum Int -&gt; Sum Int -&gt; Sum Int)
-&gt; Map TxId (Sum Int) -&gt; Map TxId (Sum Int) -&gt; Map TxId (Sum Int)
forall k a. Ord k =&gt; (a -&gt; a -&gt; a) -&gt; Map k a -&gt; Map k a -&gt; Map k a
</span><span class="hs-identifier hs-var">Map.unionWith</span></span><span> </span><span class="annot"><span class="annottext">Sum Int -&gt; Sum Int -&gt; Sum Int
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span> </span><span class="annot"><span class="annottext">Map TxId (Sum Int)
</span><a href="#local-6989586621679680044"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Map TxId (Sum Int)
</span><a href="#local-6989586621679680041"><span class="hs-identifier hs-var">d'</span></a></span><span>
</span><span id="line-567"></span><span>                </span><span class="hs-special">}</span><span>
</span><span id="line-568"></span><span>
</span><span id="line-569"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679680035"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxIdState"><span class="hs-identifier hs-type">TxIdState</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-570"></span><span>    </span><span id="local-6989586621679680034"><span class="annot"><span class="annottext">mappend :: TxIdState -&gt; TxIdState -&gt; TxIdState
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">mappend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxIdState -&gt; TxIdState -&gt; TxIdState
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span>
</span><span id="line-571"></span><span>    </span><span id="local-6989586621679680033"><span class="annot"><span class="annottext">mempty :: TxIdState
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxIdState :: Map TxId TxConfirmedState -&gt; Map TxId (Sum Int) -&gt; TxIdState
</span><a href="Plutus.ChainIndex.Types.html#TxIdState"><span class="hs-identifier hs-type">TxIdState</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">txnsConfirmed :: Map TxId TxConfirmedState
</span><a href="Plutus.ChainIndex.Types.html#txnsConfirmed"><span class="hs-identifier hs-var">txnsConfirmed</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Map TxId TxConfirmedState
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">txnsDeleted :: Map TxId (Sum Int)
</span><a href="Plutus.ChainIndex.Types.html#txnsDeleted"><span class="hs-identifier hs-var">txnsDeleted</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Map TxId (Sum Int)
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-572"></span><span>
</span><span id="line-573"></span><span id="local-6989586621679680031"><span id="local-6989586621679680032"></span></span><span class="hs-keyword">data</span><span> </span><span id="TxConfirmedState"><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxConfirmedState"><span class="hs-identifier hs-var">TxConfirmedState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-574"></span><span>  </span><span id="TxConfirmedState"><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxConfirmedState"><span class="hs-identifier hs-var">TxConfirmedState</span></a></span></span><span>
</span><span id="line-575"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="timesConfirmed"><span class="annot"><span class="annottext">TxConfirmedState -&gt; Sum Int
</span><a href="Plutus.ChainIndex.Types.html#timesConfirmed"><span class="hs-identifier hs-var hs-var">timesConfirmed</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Sum</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-576"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="blockAdded"><span class="annot"><span class="annottext">TxConfirmedState -&gt; Last BlockNumber
</span><a href="Plutus.ChainIndex.Types.html#blockAdded"><span class="hs-identifier hs-var hs-var">blockAdded</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Last</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#BlockNumber"><span class="hs-identifier hs-type">BlockNumber</span></a></span><span>
</span><span id="line-577"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="validity"><span class="annot"><span class="annottext">TxConfirmedState -&gt; Last TxValidity
</span><a href="Plutus.ChainIndex.Types.html#validity"><span class="hs-identifier hs-var hs-var">validity</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Last</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxValidity"><span class="hs-identifier hs-type">TxValidity</span></a></span><span>
</span><span id="line-578"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-579"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680023"><span id="local-6989586621679680025"><span class="annot"><span class="annottext">TxConfirmedState -&gt; TxConfirmedState -&gt; Bool
(TxConfirmedState -&gt; TxConfirmedState -&gt; Bool)
-&gt; (TxConfirmedState -&gt; TxConfirmedState -&gt; Bool)
-&gt; Eq TxConfirmedState
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TxConfirmedState -&gt; TxConfirmedState -&gt; Bool
$c/= :: TxConfirmedState -&gt; TxConfirmedState -&gt; Bool
== :: TxConfirmedState -&gt; TxConfirmedState -&gt; Bool
$c== :: TxConfirmedState -&gt; TxConfirmedState -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. TxConfirmedState -&gt; Rep TxConfirmedState x)
-&gt; (forall x. Rep TxConfirmedState x -&gt; TxConfirmedState)
-&gt; Generic TxConfirmedState
forall x. Rep TxConfirmedState x -&gt; TxConfirmedState
forall x. TxConfirmedState -&gt; Rep TxConfirmedState x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep TxConfirmedState x -&gt; TxConfirmedState
$cfrom :: forall x. TxConfirmedState -&gt; Rep TxConfirmedState x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679680015"><span id="local-6989586621679680017"><span id="local-6989586621679680019"><span class="annot"><span class="annottext">Int -&gt; TxConfirmedState -&gt; ShowS
[TxConfirmedState] -&gt; ShowS
TxConfirmedState -&gt; String
(Int -&gt; TxConfirmedState -&gt; ShowS)
-&gt; (TxConfirmedState -&gt; String)
-&gt; ([TxConfirmedState] -&gt; ShowS)
-&gt; Show TxConfirmedState
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TxConfirmedState] -&gt; ShowS
$cshowList :: [TxConfirmedState] -&gt; ShowS
show :: TxConfirmedState -&gt; String
$cshow :: TxConfirmedState -&gt; String
showsPrec :: Int -&gt; TxConfirmedState -&gt; ShowS
$cshowsPrec :: Int -&gt; TxConfirmedState -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-580"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679680008"><span id="local-6989586621679680010"><span id="local-6989586621679680012"><span class="annot"><span class="annottext">Semigroup TxConfirmedState
TxConfirmedState
Semigroup TxConfirmedState
-&gt; TxConfirmedState
-&gt; (TxConfirmedState -&gt; TxConfirmedState -&gt; TxConfirmedState)
-&gt; ([TxConfirmedState] -&gt; TxConfirmedState)
-&gt; Monoid TxConfirmedState
[TxConfirmedState] -&gt; TxConfirmedState
TxConfirmedState -&gt; TxConfirmedState -&gt; TxConfirmedState
forall a.
Semigroup a -&gt; a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
mconcat :: [TxConfirmedState] -&gt; TxConfirmedState
$cmconcat :: [TxConfirmedState] -&gt; TxConfirmedState
mappend :: TxConfirmedState -&gt; TxConfirmedState -&gt; TxConfirmedState
$cmappend :: TxConfirmedState -&gt; TxConfirmedState -&gt; TxConfirmedState
mempty :: TxConfirmedState
$cmempty :: TxConfirmedState
$cp1Monoid :: Semigroup TxConfirmedState
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monoid</span></a></span></span></span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">GenericSemigroupMonoid</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxConfirmedState"><span class="hs-identifier hs-type">TxConfirmedState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-581"></span><span>
</span><span id="line-582"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679680003"><span id="local-6989586621679680005"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxConfirmedState"><span class="hs-identifier hs-type">TxConfirmedState</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-583"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxConfirmedState"><span class="hs-identifier hs-type">TxConfirmedState</span></a></span><span> </span><span id="local-6989586621679680002"><span class="annot"><span class="annottext">Sum Int
</span><a href="#local-6989586621679680002"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621679680001"><span class="annot"><span class="annottext">Last BlockNumber
</span><a href="#local-6989586621679680001"><span class="hs-identifier hs-var">ba</span></a></span></span><span> </span><span id="local-6989586621679680000"><span class="annot"><span class="annottext">Last TxValidity
</span><a href="#local-6989586621679680000"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679679999"><span class="annot"><span class="annottext">&lt;&gt; :: TxConfirmedState -&gt; TxConfirmedState -&gt; TxConfirmedState
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxConfirmedState"><span class="hs-identifier hs-type">TxConfirmedState</span></a></span><span> </span><span id="local-6989586621679679998"><span class="annot"><span class="annottext">Sum Int
</span><a href="#local-6989586621679679998"><span class="hs-identifier hs-var">tc'</span></a></span></span><span> </span><span id="local-6989586621679679997"><span class="annot"><span class="annottext">Last BlockNumber
</span><a href="#local-6989586621679679997"><span class="hs-identifier hs-var">ba'</span></a></span></span><span> </span><span id="local-6989586621679679996"><span class="annot"><span class="annottext">Last TxValidity
</span><a href="#local-6989586621679679996"><span class="hs-identifier hs-var">v'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-584"></span><span>        </span><span class="annot"><span class="annottext">Sum Int -&gt; Last BlockNumber -&gt; Last TxValidity -&gt; TxConfirmedState
</span><a href="Plutus.ChainIndex.Types.html#TxConfirmedState"><span class="hs-identifier hs-var">TxConfirmedState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sum Int
</span><a href="#local-6989586621679680002"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">Sum Int -&gt; Sum Int -&gt; Sum Int
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Sum Int
</span><a href="#local-6989586621679679998"><span class="hs-identifier hs-var">tc'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Last BlockNumber
</span><a href="#local-6989586621679680001"><span class="hs-identifier hs-var">ba</span></a></span><span> </span><span class="annot"><span class="annottext">Last BlockNumber -&gt; Last BlockNumber -&gt; Last BlockNumber
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Last BlockNumber
</span><a href="#local-6989586621679679997"><span class="hs-identifier hs-var">ba'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Last TxValidity
</span><a href="#local-6989586621679680000"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Last TxValidity -&gt; Last TxValidity -&gt; Last TxValidity
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Last TxValidity
</span><a href="#local-6989586621679679996"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-585"></span><span>
</span><span id="line-586"></span><span class="hs-comment">-- | The effect of a transaction (or a number of them) on the tx output set.</span><span>
</span><span id="line-587"></span><span id="local-6989586621679679994"><span id="local-6989586621679679995"></span></span><span class="hs-keyword">data</span><span> </span><span id="TxOutBalance"><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxOutBalance"><span class="hs-identifier hs-var">TxOutBalance</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-588"></span><span>  </span><span id="TxOutBalance"><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxOutBalance"><span class="hs-identifier hs-var">TxOutBalance</span></a></span></span><span>
</span><span id="line-589"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="_tobUnspentOutputs"><span class="annot"><span class="annottext">TxOutBalance -&gt; Set TxOutRef
</span><a href="Plutus.ChainIndex.Types.html#_tobUnspentOutputs"><span class="hs-identifier hs-var hs-var">_tobUnspentOutputs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span><span>
</span><span id="line-590"></span><span>    </span><span class="hs-comment">-- ^ Outputs newly added by the transaction(s)</span><span>
</span><span id="line-591"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_tobSpentOutputs"><span class="annot"><span class="annottext">TxOutBalance -&gt; Map TxOutRef TxId
</span><a href="Plutus.ChainIndex.Types.html#_tobSpentOutputs"><span class="hs-identifier hs-var hs-var">_tobSpentOutputs</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxId</span></span><span>
</span><span id="line-592"></span><span>    </span><span class="hs-comment">-- ^ Outputs spent by the transaction(s) along with the tx id that spent it</span><span>
</span><span id="line-593"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-594"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679679987"><span id="local-6989586621679679989"><span class="annot"><span class="annottext">TxOutBalance -&gt; TxOutBalance -&gt; Bool
(TxOutBalance -&gt; TxOutBalance -&gt; Bool)
-&gt; (TxOutBalance -&gt; TxOutBalance -&gt; Bool) -&gt; Eq TxOutBalance
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TxOutBalance -&gt; TxOutBalance -&gt; Bool
$c/= :: TxOutBalance -&gt; TxOutBalance -&gt; Bool
== :: TxOutBalance -&gt; TxOutBalance -&gt; Bool
$c== :: TxOutBalance -&gt; TxOutBalance -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679679981"><span id="local-6989586621679679983"><span id="local-6989586621679679985"><span class="annot"><span class="annottext">Int -&gt; TxOutBalance -&gt; ShowS
[TxOutBalance] -&gt; ShowS
TxOutBalance -&gt; String
(Int -&gt; TxOutBalance -&gt; ShowS)
-&gt; (TxOutBalance -&gt; String)
-&gt; ([TxOutBalance] -&gt; ShowS)
-&gt; Show TxOutBalance
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TxOutBalance] -&gt; ShowS
$cshowList :: [TxOutBalance] -&gt; ShowS
show :: TxOutBalance -&gt; String
$cshow :: TxOutBalance -&gt; String
showsPrec :: Int -&gt; TxOutBalance -&gt; ShowS
$cshowsPrec :: Int -&gt; TxOutBalance -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. TxOutBalance -&gt; Rep TxOutBalance x)
-&gt; (forall x. Rep TxOutBalance x -&gt; TxOutBalance)
-&gt; Generic TxOutBalance
forall x. Rep TxOutBalance x -&gt; TxOutBalance
forall x. TxOutBalance -&gt; Rep TxOutBalance x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep TxOutBalance x -&gt; TxOutBalance
$cfrom :: forall x. TxOutBalance -&gt; Rep TxOutBalance x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-595"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679679975"><span id="local-6989586621679679977"><span class="annot"><span class="annottext">Value -&gt; Parser [TxOutBalance]
Value -&gt; Parser TxOutBalance
(Value -&gt; Parser TxOutBalance)
-&gt; (Value -&gt; Parser [TxOutBalance]) -&gt; FromJSON TxOutBalance
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [TxOutBalance]
$cparseJSONList :: Value -&gt; Parser [TxOutBalance]
parseJSON :: Value -&gt; Parser TxOutBalance
$cparseJSON :: Value -&gt; Parser TxOutBalance
</span><a href="#local-6989586621679679975"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679679967"><span id="local-6989586621679679969"><span id="local-6989586621679679971"><span id="local-6989586621679679973"><span class="annot"><span class="annottext">[TxOutBalance] -&gt; Encoding
[TxOutBalance] -&gt; Value
TxOutBalance -&gt; Encoding
TxOutBalance -&gt; Value
(TxOutBalance -&gt; Value)
-&gt; (TxOutBalance -&gt; Encoding)
-&gt; ([TxOutBalance] -&gt; Value)
-&gt; ([TxOutBalance] -&gt; Encoding)
-&gt; ToJSON TxOutBalance
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [TxOutBalance] -&gt; Encoding
$ctoEncodingList :: [TxOutBalance] -&gt; Encoding
toJSONList :: [TxOutBalance] -&gt; Value
$ctoJSONList :: [TxOutBalance] -&gt; Value
toEncoding :: TxOutBalance -&gt; Encoding
$ctoEncoding :: TxOutBalance -&gt; Encoding
toJSON :: TxOutBalance -&gt; Value
$ctoJSON :: TxOutBalance -&gt; Value
</span><a href="#local-6989586621679679967"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-596"></span><span>
</span><span id="line-597"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679679962"><span id="local-6989586621679679964"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxOutBalance"><span class="hs-identifier hs-type">TxOutBalance</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-598"></span><span>    </span><span id="local-6989586621679679961"><span class="annot"><span class="annottext">TxOutBalance
</span><a href="#local-6989586621679679961"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679679960"><span class="annot"><span class="annottext">&lt;&gt; :: TxOutBalance -&gt; TxOutBalance -&gt; TxOutBalance
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></a></span></span><span> </span><span id="local-6989586621679679959"><span class="annot"><span class="annottext">TxOutBalance
</span><a href="#local-6989586621679679959"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-599"></span><span>        </span><span class="annot"><span class="annottext">TxOutBalance :: Set TxOutRef -&gt; Map TxOutRef TxId -&gt; TxOutBalance
</span><a href="Plutus.ChainIndex.Types.html#TxOutBalance"><span class="hs-identifier hs-type">TxOutBalance</span></a></span><span>
</span><span id="line-600"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_tobUnspentOutputs :: Set TxOutRef
</span><a href="Plutus.ChainIndex.Types.html#_tobUnspentOutputs"><span class="hs-identifier hs-var">_tobUnspentOutputs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxOutBalance -&gt; Set TxOutRef
</span><a href="Plutus.ChainIndex.Types.html#_tobUnspentOutputs"><span class="hs-identifier hs-var hs-var">_tobUnspentOutputs</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutBalance
</span><a href="#local-6989586621679679959"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-601"></span><span>                                </span><span class="annot"><span class="annottext">Set TxOutRef -&gt; Set TxOutRef -&gt; Set TxOutRef
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxOutBalance -&gt; Set TxOutRef
</span><a href="Plutus.ChainIndex.Types.html#_tobUnspentOutputs"><span class="hs-identifier hs-var hs-var">_tobUnspentOutputs</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutBalance
</span><a href="#local-6989586621679679961"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Set TxOutRef -&gt; Set TxOutRef -&gt; Set TxOutRef
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><span class="hs-operator hs-var">`Set.difference`</span></span><span> </span><span class="annot"><span class="annottext">Map TxOutRef TxId -&gt; Set TxOutRef
forall k a. Map k a -&gt; Set k
</span><span class="hs-identifier hs-var">Map.keysSet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxOutBalance -&gt; Map TxOutRef TxId
</span><a href="Plutus.ChainIndex.Types.html#_tobSpentOutputs"><span class="hs-identifier hs-var hs-var">_tobSpentOutputs</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutBalance
</span><a href="#local-6989586621679679959"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-602"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_tobSpentOutputs :: Map TxOutRef TxId
</span><a href="Plutus.ChainIndex.Types.html#_tobSpentOutputs"><span class="hs-identifier hs-var">_tobSpentOutputs</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxOutBalance -&gt; Map TxOutRef TxId
</span><a href="Plutus.ChainIndex.Types.html#_tobSpentOutputs"><span class="hs-identifier hs-var hs-var">_tobSpentOutputs</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutBalance
</span><a href="#local-6989586621679679961"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Map TxOutRef TxId -&gt; Map TxOutRef TxId -&gt; Map TxOutRef TxId
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutBalance -&gt; Map TxOutRef TxId
</span><a href="Plutus.ChainIndex.Types.html#_tobSpentOutputs"><span class="hs-identifier hs-var hs-var">_tobSpentOutputs</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutBalance
</span><a href="#local-6989586621679679959"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-603"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-604"></span><span>
</span><span id="line-605"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679679952"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxOutBalance"><span class="hs-identifier hs-type">TxOutBalance</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-606"></span><span>    </span><span id="local-6989586621679679951"><span class="annot"><span class="annottext">mappend :: TxOutBalance -&gt; TxOutBalance -&gt; TxOutBalance
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">mappend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxOutBalance -&gt; TxOutBalance -&gt; TxOutBalance
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span>
</span><span id="line-607"></span><span>    </span><span id="local-6989586621679679950"><span class="annot"><span class="annottext">mempty :: TxOutBalance
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set TxOutRef -&gt; Map TxOutRef TxId -&gt; TxOutBalance
</span><a href="Plutus.ChainIndex.Types.html#TxOutBalance"><span class="hs-identifier hs-var">TxOutBalance</span></a></span><span> </span><span class="annot"><span class="annottext">Set TxOutRef
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">Map TxOutRef TxId
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-608"></span><span>
</span><span id="line-609"></span><span id="tobSpentOutputs"><span id="tobUnspentOutputs"><span class="hs-identifier">makeLenses</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">TxOutBalance</span></span></span><span>
</span><span id="line-610"></span><span>
</span><span id="line-611"></span><span class="hs-comment">-- | The effect of a transaction (or a number of them) on the utxo set.</span><span>
</span><span id="line-612"></span><span id="local-6989586621679679948"><span id="local-6989586621679679949"></span></span><span class="hs-keyword">data</span><span> </span><span id="TxUtxoBalance"><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxUtxoBalance"><span class="hs-identifier hs-var">TxUtxoBalance</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-613"></span><span>    </span><span id="TxUtxoBalance"><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxUtxoBalance"><span class="hs-identifier hs-var">TxUtxoBalance</span></a></span></span><span>
</span><span id="line-614"></span><span>        </span><span class="hs-special">{</span><span> </span><span id="_tubUnspentOutputs"><span class="annot"><span class="annottext">TxUtxoBalance -&gt; Set TxOutRef
</span><a href="Plutus.ChainIndex.Types.html#_tubUnspentOutputs"><span class="hs-identifier hs-var hs-var">_tubUnspentOutputs</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span><span>
</span><span id="line-615"></span><span>        </span><span class="hs-comment">-- ^ Outputs newly added by the transaction(s)</span><span>
</span><span id="line-616"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="_tubUnmatchedSpentInputs"><span class="annot"><span class="annottext">TxUtxoBalance -&gt; Set TxOutRef
</span><a href="Plutus.ChainIndex.Types.html#_tubUnmatchedSpentInputs"><span class="hs-identifier hs-var hs-var">_tubUnmatchedSpentInputs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span><span>
</span><span id="line-617"></span><span>        </span><span class="hs-comment">-- ^ Outputs spent by the transaction(s) that have no matching unspent output</span><span>
</span><span id="line-618"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-619"></span><span>        </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679679941"><span id="local-6989586621679679943"><span class="annot"><span class="annottext">TxUtxoBalance -&gt; TxUtxoBalance -&gt; Bool
(TxUtxoBalance -&gt; TxUtxoBalance -&gt; Bool)
-&gt; (TxUtxoBalance -&gt; TxUtxoBalance -&gt; Bool) -&gt; Eq TxUtxoBalance
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TxUtxoBalance -&gt; TxUtxoBalance -&gt; Bool
$c/= :: TxUtxoBalance -&gt; TxUtxoBalance -&gt; Bool
== :: TxUtxoBalance -&gt; TxUtxoBalance -&gt; Bool
$c== :: TxUtxoBalance -&gt; TxUtxoBalance -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679679935"><span id="local-6989586621679679937"><span id="local-6989586621679679939"><span class="annot"><span class="annottext">Int -&gt; TxUtxoBalance -&gt; ShowS
[TxUtxoBalance] -&gt; ShowS
TxUtxoBalance -&gt; String
(Int -&gt; TxUtxoBalance -&gt; ShowS)
-&gt; (TxUtxoBalance -&gt; String)
-&gt; ([TxUtxoBalance] -&gt; ShowS)
-&gt; Show TxUtxoBalance
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TxUtxoBalance] -&gt; ShowS
$cshowList :: [TxUtxoBalance] -&gt; ShowS
show :: TxUtxoBalance -&gt; String
$cshow :: TxUtxoBalance -&gt; String
showsPrec :: Int -&gt; TxUtxoBalance -&gt; ShowS
$cshowsPrec :: Int -&gt; TxUtxoBalance -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. TxUtxoBalance -&gt; Rep TxUtxoBalance x)
-&gt; (forall x. Rep TxUtxoBalance x -&gt; TxUtxoBalance)
-&gt; Generic TxUtxoBalance
forall x. Rep TxUtxoBalance x -&gt; TxUtxoBalance
forall x. TxUtxoBalance -&gt; Rep TxUtxoBalance x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep TxUtxoBalance x -&gt; TxUtxoBalance
$cfrom :: forall x. TxUtxoBalance -&gt; Rep TxUtxoBalance x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-620"></span><span>        </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679679929"><span id="local-6989586621679679931"><span class="annot"><span class="annottext">Value -&gt; Parser [TxUtxoBalance]
Value -&gt; Parser TxUtxoBalance
(Value -&gt; Parser TxUtxoBalance)
-&gt; (Value -&gt; Parser [TxUtxoBalance]) -&gt; FromJSON TxUtxoBalance
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [TxUtxoBalance]
$cparseJSONList :: Value -&gt; Parser [TxUtxoBalance]
parseJSON :: Value -&gt; Parser TxUtxoBalance
$cparseJSON :: Value -&gt; Parser TxUtxoBalance
</span><a href="#local-6989586621679679929"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679679921"><span id="local-6989586621679679923"><span id="local-6989586621679679925"><span id="local-6989586621679679927"><span class="annot"><span class="annottext">[TxUtxoBalance] -&gt; Encoding
[TxUtxoBalance] -&gt; Value
TxUtxoBalance -&gt; Encoding
TxUtxoBalance -&gt; Value
(TxUtxoBalance -&gt; Value)
-&gt; (TxUtxoBalance -&gt; Encoding)
-&gt; ([TxUtxoBalance] -&gt; Value)
-&gt; ([TxUtxoBalance] -&gt; Encoding)
-&gt; ToJSON TxUtxoBalance
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [TxUtxoBalance] -&gt; Encoding
$ctoEncodingList :: [TxUtxoBalance] -&gt; Encoding
toJSONList :: [TxUtxoBalance] -&gt; Value
$ctoJSONList :: [TxUtxoBalance] -&gt; Value
toEncoding :: TxUtxoBalance -&gt; Encoding
$ctoEncoding :: TxUtxoBalance -&gt; Encoding
toJSON :: TxUtxoBalance -&gt; Value
$ctoJSON :: TxUtxoBalance -&gt; Value
</span><a href="#local-6989586621679679921"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679679913"><span id="local-6989586621679679915"><span id="local-6989586621679679917"><span id="local-6989586621679679919"><span class="annot"><span class="annottext">[TxUtxoBalance] -&gt; Encoding
TxUtxoBalance -&gt; Encoding
(TxUtxoBalance -&gt; Encoding)
-&gt; (forall s. Decoder s TxUtxoBalance)
-&gt; ([TxUtxoBalance] -&gt; Encoding)
-&gt; (forall s. Decoder s [TxUtxoBalance])
-&gt; Serialise TxUtxoBalance
forall s. Decoder s [TxUtxoBalance]
forall s. Decoder s TxUtxoBalance
forall a.
(a -&gt; Encoding)
-&gt; (forall s. Decoder s a)
-&gt; ([a] -&gt; Encoding)
-&gt; (forall s. Decoder s [a])
-&gt; Serialise a
decodeList :: Decoder s [TxUtxoBalance]
$cdecodeList :: forall s. Decoder s [TxUtxoBalance]
encodeList :: [TxUtxoBalance] -&gt; Encoding
$cencodeList :: [TxUtxoBalance] -&gt; Encoding
decode :: Decoder s TxUtxoBalance
$cdecode :: forall s. Decoder s TxUtxoBalance
encode :: TxUtxoBalance -&gt; Encoding
$cencode :: TxUtxoBalance -&gt; Encoding
</span><a href="#local-6989586621679679913"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Serialise</span></a></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-621"></span><span>
</span><span id="line-622"></span><span id="tubUnmatchedSpentInputs"><span id="tubUnspentOutputs"><span class="hs-identifier">makeLenses</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">TxUtxoBalance</span></span></span><span>
</span><span id="line-623"></span><span>
</span><span id="line-624"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679679908"><span id="local-6989586621679679910"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxUtxoBalance"><span class="hs-identifier hs-type">TxUtxoBalance</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-625"></span><span>    </span><span id="local-6989586621679679907"><span class="annot"><span class="annottext">TxUtxoBalance
</span><a href="#local-6989586621679679907"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679679906"><span class="annot"><span class="annottext">&lt;&gt; :: TxUtxoBalance -&gt; TxUtxoBalance -&gt; TxUtxoBalance
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></a></span></span><span> </span><span id="local-6989586621679679905"><span class="annot"><span class="annottext">TxUtxoBalance
</span><a href="#local-6989586621679679905"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-626"></span><span>        </span><span class="annot"><span class="annottext">TxUtxoBalance :: Set TxOutRef -&gt; Set TxOutRef -&gt; TxUtxoBalance
</span><a href="Plutus.ChainIndex.Types.html#TxUtxoBalance"><span class="hs-identifier hs-type">TxUtxoBalance</span></a></span><span>
</span><span id="line-627"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_tubUnspentOutputs :: Set TxOutRef
</span><a href="Plutus.ChainIndex.Types.html#_tubUnspentOutputs"><span class="hs-identifier hs-var">_tubUnspentOutputs</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxUtxoBalance -&gt; Set TxOutRef
</span><a href="Plutus.ChainIndex.Types.html#_tubUnspentOutputs"><span class="hs-identifier hs-var hs-var">_tubUnspentOutputs</span></a></span><span> </span><span class="annot"><span class="annottext">TxUtxoBalance
</span><a href="#local-6989586621679679905"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-628"></span><span>                                      </span><span class="annot"><span class="annottext">Set TxOutRef -&gt; Set TxOutRef -&gt; Set TxOutRef
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxUtxoBalance -&gt; Set TxOutRef
</span><a href="Plutus.ChainIndex.Types.html#_tubUnspentOutputs"><span class="hs-identifier hs-var hs-var">_tubUnspentOutputs</span></a></span><span> </span><span class="annot"><span class="annottext">TxUtxoBalance
</span><a href="#local-6989586621679679907"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Set TxOutRef -&gt; Set TxOutRef -&gt; Set TxOutRef
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><span class="hs-operator hs-var">`Set.difference`</span></span><span> </span><span class="annot"><span class="annottext">TxUtxoBalance -&gt; Set TxOutRef
</span><a href="Plutus.ChainIndex.Types.html#_tubUnmatchedSpentInputs"><span class="hs-identifier hs-var hs-var">_tubUnmatchedSpentInputs</span></a></span><span> </span><span class="annot"><span class="annottext">TxUtxoBalance
</span><a href="#local-6989586621679679905"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-629"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_tubUnmatchedSpentInputs :: Set TxOutRef
</span><a href="Plutus.ChainIndex.Types.html#_tubUnmatchedSpentInputs"><span class="hs-identifier hs-var">_tubUnmatchedSpentInputs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxUtxoBalance -&gt; Set TxOutRef
</span><a href="Plutus.ChainIndex.Types.html#_tubUnmatchedSpentInputs"><span class="hs-identifier hs-var hs-var">_tubUnmatchedSpentInputs</span></a></span><span> </span><span class="annot"><span class="annottext">TxUtxoBalance
</span><a href="#local-6989586621679679905"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Set TxOutRef -&gt; Set TxOutRef -&gt; Set TxOutRef
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><span class="hs-operator hs-var">`Set.difference`</span></span><span> </span><span class="annot"><span class="annottext">TxUtxoBalance -&gt; Set TxOutRef
</span><a href="Plutus.ChainIndex.Types.html#_tubUnspentOutputs"><span class="hs-identifier hs-var hs-var">_tubUnspentOutputs</span></a></span><span> </span><span class="annot"><span class="annottext">TxUtxoBalance
</span><a href="#local-6989586621679679907"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-630"></span><span>                                      </span><span class="annot"><span class="annottext">Set TxOutRef -&gt; Set TxOutRef -&gt; Set TxOutRef
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TxUtxoBalance -&gt; Set TxOutRef
</span><a href="Plutus.ChainIndex.Types.html#_tubUnmatchedSpentInputs"><span class="hs-identifier hs-var hs-var">_tubUnmatchedSpentInputs</span></a></span><span> </span><span class="annot"><span class="annottext">TxUtxoBalance
</span><a href="#local-6989586621679679907"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-631"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-632"></span><span>
</span><span id="line-633"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679679900"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxUtxoBalance"><span class="hs-identifier hs-type">TxUtxoBalance</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-634"></span><span>    </span><span id="local-6989586621679679899"><span class="annot"><span class="annottext">mappend :: TxUtxoBalance -&gt; TxUtxoBalance -&gt; TxUtxoBalance
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">mappend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxUtxoBalance -&gt; TxUtxoBalance -&gt; TxUtxoBalance
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span>
</span><span id="line-635"></span><span>    </span><span id="local-6989586621679679898"><span class="annot"><span class="annottext">mempty :: TxUtxoBalance
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set TxOutRef -&gt; Set TxOutRef -&gt; TxUtxoBalance
</span><a href="Plutus.ChainIndex.Types.html#TxUtxoBalance"><span class="hs-identifier hs-var">TxUtxoBalance</span></a></span><span> </span><span class="annot"><span class="annottext">Set TxOutRef
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">Set TxOutRef
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-636"></span><span>
</span><span id="line-637"></span><span>
</span><span id="line-638"></span><span class="hs-comment">-- | User-customizable options to process a transaction.</span><span>
</span><span id="line-639"></span><span class="hs-comment">-- See #73 for more motivations.</span><span>
</span><span id="line-640"></span><span class="hs-keyword">newtype</span><span> </span><span id="TxProcessOption"><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxProcessOption"><span class="hs-identifier hs-var">TxProcessOption</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TxProcessOption"><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxProcessOption"><span class="hs-identifier hs-var">TxProcessOption</span></a></span></span><span>
</span><span id="line-641"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="tpoStoreTx"><span class="annot"><span class="annottext">TxProcessOption -&gt; Bool
</span><a href="Plutus.ChainIndex.Types.html#tpoStoreTx"><span class="hs-identifier hs-var hs-var">tpoStoreTx</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-642"></span><span>    </span><span class="hs-comment">-- ^ Should the chain index store this transaction or not.</span><span>
</span><span id="line-643"></span><span>    </span><span class="hs-comment">-- If not, only handle the UTXOs.</span><span>
</span><span id="line-644"></span><span>    </span><span class="hs-comment">-- This, for example, allows applications to skip unwanted pre-Alonzo transactions.</span><span>
</span><span id="line-645"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-646"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679679890"><span id="local-6989586621679679892"><span id="local-6989586621679679894"><span class="annot"><span class="annottext">Int -&gt; TxProcessOption -&gt; ShowS
[TxProcessOption] -&gt; ShowS
TxProcessOption -&gt; String
(Int -&gt; TxProcessOption -&gt; ShowS)
-&gt; (TxProcessOption -&gt; String)
-&gt; ([TxProcessOption] -&gt; ShowS)
-&gt; Show TxProcessOption
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TxProcessOption] -&gt; ShowS
$cshowList :: [TxProcessOption] -&gt; ShowS
show :: TxProcessOption -&gt; String
$cshow :: TxProcessOption -&gt; String
showsPrec :: Int -&gt; TxProcessOption -&gt; ShowS
$cshowsPrec :: Int -&gt; TxProcessOption -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-647"></span><span>
</span><span id="line-648"></span><span class="hs-comment">-- We should think twice when setting the default option.</span><span>
</span><span id="line-649"></span><span class="hs-comment">-- For now, it should store all data to avoid weird non-backward-compatible bugs in the future.</span><span>
</span><span id="line-650"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Default</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxProcessOption"><span class="hs-identifier hs-type">TxProcessOption</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-651"></span><span>    </span><span id="local-6989586621679679887"><span class="annot"><span class="annottext">def :: TxProcessOption
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">def</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxProcessOption :: Bool -&gt; TxProcessOption
</span><a href="Plutus.ChainIndex.Types.html#TxProcessOption"><span class="hs-identifier hs-type">TxProcessOption</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tpoStoreTx :: Bool
</span><a href="Plutus.ChainIndex.Types.html#tpoStoreTx"><span class="hs-identifier hs-var">tpoStoreTx</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-652"></span><span>
</span><span id="line-653"></span><span class="hs-comment">-- | A block of transactions to be synced.</span><span>
</span><span id="line-654"></span><span class="hs-keyword">data</span><span> </span><span id="ChainSyncBlock"><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainSyncBlock"><span class="hs-identifier hs-var">ChainSyncBlock</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Block"><span class="annot"><a href="Plutus.ChainIndex.Types.html#Block"><span class="hs-identifier hs-var">Block</span></a></span></span><span>
</span><span id="line-655"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="blockTip"><span class="annot"><span class="annottext">ChainSyncBlock -&gt; Tip
</span><a href="Plutus.ChainIndex.Types.html#blockTip"><span class="hs-identifier hs-var hs-var">blockTip</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Tip"><span class="hs-identifier hs-type">Tip</span></a></span><span>
</span><span id="line-656"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="blockTxs"><span class="annot"><span class="annottext">ChainSyncBlock -&gt; [(ChainIndexTx, TxProcessOption)]
</span><a href="Plutus.ChainIndex.Types.html#blockTxs"><span class="hs-identifier hs-var hs-var">blockTxs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTx"><span class="hs-identifier hs-type">ChainIndexTx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#TxProcessOption"><span class="hs-identifier hs-type">TxProcessOption</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-657"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-658"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679679877"><span id="local-6989586621679679879"><span id="local-6989586621679679881"><span class="annot"><span class="annottext">Int -&gt; ChainSyncBlock -&gt; ShowS
[ChainSyncBlock] -&gt; ShowS
ChainSyncBlock -&gt; String
(Int -&gt; ChainSyncBlock -&gt; ShowS)
-&gt; (ChainSyncBlock -&gt; String)
-&gt; ([ChainSyncBlock] -&gt; ShowS)
-&gt; Show ChainSyncBlock
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ChainSyncBlock] -&gt; ShowS
$cshowList :: [ChainSyncBlock] -&gt; ShowS
show :: ChainSyncBlock -&gt; String
$cshow :: ChainSyncBlock -&gt; String
showsPrec :: Int -&gt; ChainSyncBlock -&gt; ShowS
$cshowsPrec :: Int -&gt; ChainSyncBlock -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-659"></span></pre></body></html>