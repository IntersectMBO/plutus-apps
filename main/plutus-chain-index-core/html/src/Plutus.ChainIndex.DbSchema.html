<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE ConstraintKinds      #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DataKinds            #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveAnyClass       #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DerivingVia          #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts     #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances    #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings    #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving   #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies         #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# options_ghc -Wno-missing-signatures #-}</span><span>
</span><span id="line-12"></span><span class="hs-comment">{-

Here we explicitly construct the
database schema for the data which we wish to store:

- Datums
- Scripts
- Transactions
- Transaction output references indexed by address

-}</span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Plutus.ChainIndex.DbSchema</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Codec.Serialise</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Serialise</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">deserialiseOrFail</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">serialise</span></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ByteString</span></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Lazy</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BSL</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Coerce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier">coerce</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">fromRight</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Kind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier">Constraint</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Semigroup.Generic</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">GenericSemigroupMonoid</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Word</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Word64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Database.Beam</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Beamable</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Columnar</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Database</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">DatabaseSettings</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">FromBackendRow</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Generic</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Identity</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Table</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>                      </span><span class="annot"><span class="hs-identifier">TableEntity</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">dbModification</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">withDbModification</span></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Database.Beam.Migrate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">CheckedDatabaseSettings</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">defaultMigratableDbSettings</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">renameCheckedEntity</span></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>                              </span><span class="annot"><span class="hs-identifier">unCheckDatabase</span></span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Database.Beam.Sqlite</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Sqlite</span></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Ledger</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">BlockId</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">DecoratedTxOut</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Slot</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Versioned</span></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Tx.html"><span class="hs-identifier">Plutus.ChainIndex.Tx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTx"><span class="hs-identifier">ChainIndexTx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Tx.html"><span class="hs-identifier">Plutus.ChainIndex.Tx</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">CI</span></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html"><span class="hs-identifier">Plutus.ChainIndex.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#BlockNumber"><span class="hs-identifier">BlockNumber</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Tip"><span class="hs-identifier">Tip</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutus.V1.Ledger.Api</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Credential</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Datum</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">DatumHash</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">MintingPolicy</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">MintingPolicyHash</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Redeemer</span></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>                             </span><span class="annot"><span class="hs-identifier">RedeemerHash</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Script</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">StakeValidator</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">StakeValidatorHash</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">TxId</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>                             </span><span class="annot"><span class="hs-identifier">TxOutRef</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Validator</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ValidatorHash</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutus.V1.Ledger.Scripts</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ScriptHash</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutus.V1.Ledger.Value</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">AssetClass</span></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.Builtins</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx</span></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.Builtins.Internal</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">BuiltinByteString</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">emptyByteString</span></span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span id="local-6989586621679683004"><span id="local-6989586621679683005"></span></span><span class="hs-keyword">data</span><span> </span><span id="DatumRowT"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DatumRowT"><span class="hs-identifier hs-var">DatumRowT</span></a></span></span><span> </span><span id="local-6989586621679683318"><span class="annot"><a href="#local-6989586621679683318"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="DatumRow"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DatumRow"><span class="hs-identifier hs-var">DatumRow</span></a></span></span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="_datumRowHash"><span class="annot"><span class="annottext">DatumRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_datumRowHash"><span class="hs-identifier hs-var hs-var">_datumRowHash</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683318"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_datumRowDatum"><span class="annot"><span class="annottext">DatumRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_datumRowDatum"><span class="hs-identifier hs-var hs-var">_datumRowDatum</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683318"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. DatumRowT f -&gt; Rep (DatumRowT f) x)
-&gt; (forall x. Rep (DatumRowT f) x -&gt; DatumRowT f)
-&gt; Generic (DatumRowT f)
forall x. Rep (DatumRowT f) x -&gt; DatumRowT f
forall x. DatumRowT f -&gt; Rep (DatumRowT f) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (f :: * -&gt; *) x. Rep (DatumRowT f) x -&gt; DatumRowT f
forall (f :: * -&gt; *) x. DatumRowT f -&gt; Rep (DatumRowT f) x
$cto :: forall (f :: * -&gt; *) x. Rep (DatumRowT f) x -&gt; DatumRowT f
$cfrom :: forall (f :: * -&gt; *) x. DatumRowT f -&gt; Rep (DatumRowT f) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682994"><span id="local-6989586621679682996"><span class="annot"><span class="annottext">TableSkeleton DatumRowT
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; DatumRowT f -&gt; DatumRowT g -&gt; m (DatumRowT h))
-&gt; TableSkeleton DatumRowT -&gt; Beamable DatumRowT
forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; DatumRowT f -&gt; DatumRowT g -&gt; m (DatumRowT h)
forall (table :: (* -&gt; *) -&gt; *).
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; table f -&gt; table g -&gt; m (table h))
-&gt; TableSkeleton table -&gt; Beamable table
tblSkeleton :: TableSkeleton DatumRowT
$ctblSkeleton :: TableSkeleton DatumRowT
zipBeamFieldsM :: (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; DatumRowT f -&gt; DatumRowT g -&gt; m (DatumRowT h)
$czipBeamFieldsM :: forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; DatumRowT f -&gt; DatumRowT g -&gt; m (DatumRowT h)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Beamable</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="hs-keyword">type</span><span> </span><span id="DatumRow"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DatumRow"><span class="hs-identifier hs-var">DatumRow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DatumRowT"><span class="hs-identifier hs-type">DatumRowT</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Table</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DatumRowT"><span class="hs-identifier hs-type">DatumRowT</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-61"></span><span>    </span><span class="hs-keyword">data</span><span> </span><span id="PrimaryKey"><span class="annot"><span class="hs-identifier hs-var">PrimaryKey</span></span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DatumRowT"><span class="hs-identifier hs-type">DatumRowT</span></a></span><span> </span><span id="local-6989586621679683322"><span class="annot"><a href="#local-6989586621679683322"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="DatumRowId"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DatumRowId"><span class="hs-identifier hs-var">DatumRowId</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683322"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x.
 PrimaryKey DatumRowT f -&gt; Rep (PrimaryKey DatumRowT f) x)
-&gt; (forall x.
    Rep (PrimaryKey DatumRowT f) x -&gt; PrimaryKey DatumRowT f)
-&gt; Generic (PrimaryKey DatumRowT f)
forall x. Rep (PrimaryKey DatumRowT f) x -&gt; PrimaryKey DatumRowT f
forall x. PrimaryKey DatumRowT f -&gt; Rep (PrimaryKey DatumRowT f) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (f :: * -&gt; *) x.
Rep (PrimaryKey DatumRowT f) x -&gt; PrimaryKey DatumRowT f
forall (f :: * -&gt; *) x.
PrimaryKey DatumRowT f -&gt; Rep (PrimaryKey DatumRowT f) x
$cto :: forall (f :: * -&gt; *) x.
Rep (PrimaryKey DatumRowT f) x -&gt; PrimaryKey DatumRowT f
$cfrom :: forall (f :: * -&gt; *) x.
PrimaryKey DatumRowT f -&gt; Rep (PrimaryKey DatumRowT f) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682978"><span id="local-6989586621679682980"><span class="annot"><span class="annottext">TableSkeleton (PrimaryKey DatumRowT)
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; PrimaryKey DatumRowT f
 -&gt; PrimaryKey DatumRowT g
 -&gt; m (PrimaryKey DatumRowT h))
-&gt; TableSkeleton (PrimaryKey DatumRowT)
-&gt; Beamable (PrimaryKey DatumRowT)
forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey DatumRowT f
-&gt; PrimaryKey DatumRowT g
-&gt; m (PrimaryKey DatumRowT h)
forall (table :: (* -&gt; *) -&gt; *).
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; table f -&gt; table g -&gt; m (table h))
-&gt; TableSkeleton table -&gt; Beamable table
tblSkeleton :: TableSkeleton (PrimaryKey DatumRowT)
$ctblSkeleton :: TableSkeleton (PrimaryKey DatumRowT)
zipBeamFieldsM :: (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey DatumRowT f
-&gt; PrimaryKey DatumRowT g
-&gt; m (PrimaryKey DatumRowT h)
$czipBeamFieldsM :: forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey DatumRowT f
-&gt; PrimaryKey DatumRowT g
-&gt; m (PrimaryKey DatumRowT h)
</span><a href="#local-6989586621679682978"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Beamable</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span>    </span><span id="local-6989586621679682977"><span class="annot"><span class="annottext">primaryKey :: DatumRowT column -&gt; PrimaryKey DatumRowT column
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">primaryKey</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Columnar column ByteString -&gt; PrimaryKey DatumRowT column
forall (f :: * -&gt; *).
Columnar f ByteString -&gt; PrimaryKey DatumRowT f
</span><a href="Plutus.ChainIndex.DbSchema.html#DatumRowId"><span class="hs-identifier hs-var">DatumRowId</span></a></span><span> </span><span class="annot"><span class="annottext">(Columnar column ByteString -&gt; PrimaryKey DatumRowT column)
-&gt; (DatumRowT column -&gt; Columnar column ByteString)
-&gt; DatumRowT column
-&gt; PrimaryKey DatumRowT column
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">DatumRowT column -&gt; Columnar column ByteString
forall (f :: * -&gt; *). DatumRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_datumRowHash"><span class="hs-identifier hs-var hs-var">_datumRowHash</span></a></span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span id="local-6989586621679682973"><span id="local-6989586621679682974"></span></span><span class="hs-keyword">data</span><span> </span><span id="ScriptRowT"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#ScriptRowT"><span class="hs-identifier hs-var">ScriptRowT</span></a></span></span><span> </span><span id="local-6989586621679683298"><span class="annot"><a href="#local-6989586621679683298"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ScriptRow"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#ScriptRow"><span class="hs-identifier hs-var">ScriptRow</span></a></span></span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="_scriptRowHash"><span class="annot"><span class="annottext">ScriptRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_scriptRowHash"><span class="hs-identifier hs-var hs-var">_scriptRowHash</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683298"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_scriptRowScript"><span class="annot"><span class="annottext">ScriptRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_scriptRowScript"><span class="hs-identifier hs-var hs-var">_scriptRowScript</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683298"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-67"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. ScriptRowT f -&gt; Rep (ScriptRowT f) x)
-&gt; (forall x. Rep (ScriptRowT f) x -&gt; ScriptRowT f)
-&gt; Generic (ScriptRowT f)
forall x. Rep (ScriptRowT f) x -&gt; ScriptRowT f
forall x. ScriptRowT f -&gt; Rep (ScriptRowT f) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (f :: * -&gt; *) x. Rep (ScriptRowT f) x -&gt; ScriptRowT f
forall (f :: * -&gt; *) x. ScriptRowT f -&gt; Rep (ScriptRowT f) x
$cto :: forall (f :: * -&gt; *) x. Rep (ScriptRowT f) x -&gt; ScriptRowT f
$cfrom :: forall (f :: * -&gt; *) x. ScriptRowT f -&gt; Rep (ScriptRowT f) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682964"><span id="local-6989586621679682966"><span class="annot"><span class="annottext">TableSkeleton ScriptRowT
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; ScriptRowT f -&gt; ScriptRowT g -&gt; m (ScriptRowT h))
-&gt; TableSkeleton ScriptRowT -&gt; Beamable ScriptRowT
forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; ScriptRowT f -&gt; ScriptRowT g -&gt; m (ScriptRowT h)
forall (table :: (* -&gt; *) -&gt; *).
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; table f -&gt; table g -&gt; m (table h))
-&gt; TableSkeleton table -&gt; Beamable table
tblSkeleton :: TableSkeleton ScriptRowT
$ctblSkeleton :: TableSkeleton ScriptRowT
zipBeamFieldsM :: (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; ScriptRowT f -&gt; ScriptRowT g -&gt; m (ScriptRowT h)
$czipBeamFieldsM :: forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; ScriptRowT f -&gt; ScriptRowT g -&gt; m (ScriptRowT h)
</span><a href="#local-6989586621679682964"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Beamable</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span class="hs-keyword">type</span><span> </span><span id="ScriptRow"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#ScriptRow"><span class="hs-identifier hs-var">ScriptRow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#ScriptRowT"><span class="hs-identifier hs-type">ScriptRowT</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Table</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#ScriptRowT"><span class="hs-identifier hs-type">ScriptRowT</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-72"></span><span>    </span><span class="hs-keyword">data</span><span> </span><span id="PrimaryKey"><span class="annot"><span class="hs-identifier hs-var">PrimaryKey</span></span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#ScriptRowT"><span class="hs-identifier hs-type">ScriptRowT</span></a></span><span> </span><span id="local-6989586621679683299"><span class="annot"><a href="#local-6989586621679683299"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ScriptRowId"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#ScriptRowId"><span class="hs-identifier hs-var">ScriptRowId</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683299"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x.
 PrimaryKey ScriptRowT f -&gt; Rep (PrimaryKey ScriptRowT f) x)
-&gt; (forall x.
    Rep (PrimaryKey ScriptRowT f) x -&gt; PrimaryKey ScriptRowT f)
-&gt; Generic (PrimaryKey ScriptRowT f)
forall x.
Rep (PrimaryKey ScriptRowT f) x -&gt; PrimaryKey ScriptRowT f
forall x.
PrimaryKey ScriptRowT f -&gt; Rep (PrimaryKey ScriptRowT f) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (f :: * -&gt; *) x.
Rep (PrimaryKey ScriptRowT f) x -&gt; PrimaryKey ScriptRowT f
forall (f :: * -&gt; *) x.
PrimaryKey ScriptRowT f -&gt; Rep (PrimaryKey ScriptRowT f) x
$cto :: forall (f :: * -&gt; *) x.
Rep (PrimaryKey ScriptRowT f) x -&gt; PrimaryKey ScriptRowT f
$cfrom :: forall (f :: * -&gt; *) x.
PrimaryKey ScriptRowT f -&gt; Rep (PrimaryKey ScriptRowT f) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682950"><span id="local-6989586621679682952"><span class="annot"><span class="annottext">TableSkeleton (PrimaryKey ScriptRowT)
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; PrimaryKey ScriptRowT f
 -&gt; PrimaryKey ScriptRowT g
 -&gt; m (PrimaryKey ScriptRowT h))
-&gt; TableSkeleton (PrimaryKey ScriptRowT)
-&gt; Beamable (PrimaryKey ScriptRowT)
forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey ScriptRowT f
-&gt; PrimaryKey ScriptRowT g
-&gt; m (PrimaryKey ScriptRowT h)
forall (table :: (* -&gt; *) -&gt; *).
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; table f -&gt; table g -&gt; m (table h))
-&gt; TableSkeleton table -&gt; Beamable table
tblSkeleton :: TableSkeleton (PrimaryKey ScriptRowT)
$ctblSkeleton :: TableSkeleton (PrimaryKey ScriptRowT)
zipBeamFieldsM :: (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey ScriptRowT f
-&gt; PrimaryKey ScriptRowT g
-&gt; m (PrimaryKey ScriptRowT h)
$czipBeamFieldsM :: forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey ScriptRowT f
-&gt; PrimaryKey ScriptRowT g
-&gt; m (PrimaryKey ScriptRowT h)
</span><a href="#local-6989586621679682950"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Beamable</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>    </span><span id="local-6989586621679682949"><span class="annot"><span class="annottext">primaryKey :: ScriptRowT column -&gt; PrimaryKey ScriptRowT column
</span><a href="#local-6989586621679682949"><span class="hs-identifier hs-var hs-var hs-var hs-var">primaryKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Columnar column ByteString -&gt; PrimaryKey ScriptRowT column
forall (f :: * -&gt; *).
Columnar f ByteString -&gt; PrimaryKey ScriptRowT f
</span><a href="Plutus.ChainIndex.DbSchema.html#ScriptRowId"><span class="hs-identifier hs-var">ScriptRowId</span></a></span><span> </span><span class="annot"><span class="annottext">(Columnar column ByteString -&gt; PrimaryKey ScriptRowT column)
-&gt; (ScriptRowT column -&gt; Columnar column ByteString)
-&gt; ScriptRowT column
-&gt; PrimaryKey ScriptRowT column
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptRowT column -&gt; Columnar column ByteString
forall (f :: * -&gt; *). ScriptRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_scriptRowHash"><span class="hs-identifier hs-var hs-var">_scriptRowHash</span></a></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span id="local-6989586621679682947"><span id="local-6989586621679682948"></span></span><span class="hs-keyword">data</span><span> </span><span id="RedeemerRowT"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#RedeemerRowT"><span class="hs-identifier hs-var">RedeemerRowT</span></a></span></span><span> </span><span id="local-6989586621679683278"><span class="annot"><a href="#local-6989586621679683278"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RedeemerRow"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#RedeemerRow"><span class="hs-identifier hs-var">RedeemerRow</span></a></span></span><span>
</span><span id="line-76"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="_redeemerRowHash"><span class="annot"><span class="annottext">RedeemerRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_redeemerRowHash"><span class="hs-identifier hs-var hs-var">_redeemerRowHash</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683278"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-77"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_redeemerRowRedeemer"><span class="annot"><span class="annottext">RedeemerRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_redeemerRowRedeemer"><span class="hs-identifier hs-var hs-var">_redeemerRowRedeemer</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683278"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-78"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. RedeemerRowT f -&gt; Rep (RedeemerRowT f) x)
-&gt; (forall x. Rep (RedeemerRowT f) x -&gt; RedeemerRowT f)
-&gt; Generic (RedeemerRowT f)
forall x. Rep (RedeemerRowT f) x -&gt; RedeemerRowT f
forall x. RedeemerRowT f -&gt; Rep (RedeemerRowT f) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (f :: * -&gt; *) x. Rep (RedeemerRowT f) x -&gt; RedeemerRowT f
forall (f :: * -&gt; *) x. RedeemerRowT f -&gt; Rep (RedeemerRowT f) x
$cto :: forall (f :: * -&gt; *) x. Rep (RedeemerRowT f) x -&gt; RedeemerRowT f
$cfrom :: forall (f :: * -&gt; *) x. RedeemerRowT f -&gt; Rep (RedeemerRowT f) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682938"><span id="local-6989586621679682940"><span class="annot"><span class="annottext">TableSkeleton RedeemerRowT
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; RedeemerRowT f -&gt; RedeemerRowT g -&gt; m (RedeemerRowT h))
-&gt; TableSkeleton RedeemerRowT -&gt; Beamable RedeemerRowT
forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; RedeemerRowT f -&gt; RedeemerRowT g -&gt; m (RedeemerRowT h)
forall (table :: (* -&gt; *) -&gt; *).
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; table f -&gt; table g -&gt; m (table h))
-&gt; TableSkeleton table -&gt; Beamable table
tblSkeleton :: TableSkeleton RedeemerRowT
$ctblSkeleton :: TableSkeleton RedeemerRowT
zipBeamFieldsM :: (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; RedeemerRowT f -&gt; RedeemerRowT g -&gt; m (RedeemerRowT h)
$czipBeamFieldsM :: forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; RedeemerRowT f -&gt; RedeemerRowT g -&gt; m (RedeemerRowT h)
</span><a href="#local-6989586621679682938"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Beamable</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="hs-keyword">type</span><span> </span><span id="RedeemerRow"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#RedeemerRow"><span class="hs-identifier hs-var">RedeemerRow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#RedeemerRowT"><span class="hs-identifier hs-type">RedeemerRowT</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Table</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#RedeemerRowT"><span class="hs-identifier hs-type">RedeemerRowT</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-83"></span><span>    </span><span class="hs-keyword">data</span><span> </span><span id="PrimaryKey"><span class="annot"><span class="hs-identifier hs-var">PrimaryKey</span></span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#RedeemerRowT"><span class="hs-identifier hs-type">RedeemerRowT</span></a></span><span> </span><span id="local-6989586621679683279"><span class="annot"><a href="#local-6989586621679683279"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RedeemerRowId"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#RedeemerRowId"><span class="hs-identifier hs-var">RedeemerRowId</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683279"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x.
 PrimaryKey RedeemerRowT f -&gt; Rep (PrimaryKey RedeemerRowT f) x)
-&gt; (forall x.
    Rep (PrimaryKey RedeemerRowT f) x -&gt; PrimaryKey RedeemerRowT f)
-&gt; Generic (PrimaryKey RedeemerRowT f)
forall x.
Rep (PrimaryKey RedeemerRowT f) x -&gt; PrimaryKey RedeemerRowT f
forall x.
PrimaryKey RedeemerRowT f -&gt; Rep (PrimaryKey RedeemerRowT f) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (f :: * -&gt; *) x.
Rep (PrimaryKey RedeemerRowT f) x -&gt; PrimaryKey RedeemerRowT f
forall (f :: * -&gt; *) x.
PrimaryKey RedeemerRowT f -&gt; Rep (PrimaryKey RedeemerRowT f) x
$cto :: forall (f :: * -&gt; *) x.
Rep (PrimaryKey RedeemerRowT f) x -&gt; PrimaryKey RedeemerRowT f
$cfrom :: forall (f :: * -&gt; *) x.
PrimaryKey RedeemerRowT f -&gt; Rep (PrimaryKey RedeemerRowT f) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682924"><span id="local-6989586621679682926"><span class="annot"><span class="annottext">TableSkeleton (PrimaryKey RedeemerRowT)
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; PrimaryKey RedeemerRowT f
 -&gt; PrimaryKey RedeemerRowT g
 -&gt; m (PrimaryKey RedeemerRowT h))
-&gt; TableSkeleton (PrimaryKey RedeemerRowT)
-&gt; Beamable (PrimaryKey RedeemerRowT)
forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey RedeemerRowT f
-&gt; PrimaryKey RedeemerRowT g
-&gt; m (PrimaryKey RedeemerRowT h)
forall (table :: (* -&gt; *) -&gt; *).
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; table f -&gt; table g -&gt; m (table h))
-&gt; TableSkeleton table -&gt; Beamable table
tblSkeleton :: TableSkeleton (PrimaryKey RedeemerRowT)
$ctblSkeleton :: TableSkeleton (PrimaryKey RedeemerRowT)
zipBeamFieldsM :: (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey RedeemerRowT f
-&gt; PrimaryKey RedeemerRowT g
-&gt; m (PrimaryKey RedeemerRowT h)
$czipBeamFieldsM :: forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey RedeemerRowT f
-&gt; PrimaryKey RedeemerRowT g
-&gt; m (PrimaryKey RedeemerRowT h)
</span><a href="#local-6989586621679682924"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Beamable</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>    </span><span id="local-6989586621679682923"><span class="annot"><span class="annottext">primaryKey :: RedeemerRowT column -&gt; PrimaryKey RedeemerRowT column
</span><a href="#local-6989586621679682923"><span class="hs-identifier hs-var hs-var hs-var hs-var">primaryKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Columnar column ByteString -&gt; PrimaryKey RedeemerRowT column
forall (f :: * -&gt; *).
Columnar f ByteString -&gt; PrimaryKey RedeemerRowT f
</span><a href="Plutus.ChainIndex.DbSchema.html#RedeemerRowId"><span class="hs-identifier hs-var">RedeemerRowId</span></a></span><span> </span><span class="annot"><span class="annottext">(Columnar column ByteString -&gt; PrimaryKey RedeemerRowT column)
-&gt; (RedeemerRowT column -&gt; Columnar column ByteString)
-&gt; RedeemerRowT column
-&gt; PrimaryKey RedeemerRowT column
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">RedeemerRowT column -&gt; Columnar column ByteString
forall (f :: * -&gt; *). RedeemerRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_redeemerRowHash"><span class="hs-identifier hs-var hs-var">_redeemerRowHash</span></a></span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span id="local-6989586621679682921"><span id="local-6989586621679682922"></span></span><span class="hs-keyword">data</span><span> </span><span id="TxRowT"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TxRowT"><span class="hs-identifier hs-var">TxRowT</span></a></span></span><span> </span><span id="local-6989586621679683258"><span class="annot"><a href="#local-6989586621679683258"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TxRow"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TxRow"><span class="hs-identifier hs-var">TxRow</span></a></span></span><span>
</span><span id="line-87"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="_txRowTxId"><span class="annot"><span class="annottext">TxRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_txRowTxId"><span class="hs-identifier hs-var hs-var">_txRowTxId</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683258"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-88"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_txRowTx"><span class="annot"><span class="annottext">TxRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_txRowTx"><span class="hs-identifier hs-var hs-var">_txRowTx</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683258"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-89"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. TxRowT f -&gt; Rep (TxRowT f) x)
-&gt; (forall x. Rep (TxRowT f) x -&gt; TxRowT f) -&gt; Generic (TxRowT f)
forall x. Rep (TxRowT f) x -&gt; TxRowT f
forall x. TxRowT f -&gt; Rep (TxRowT f) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (f :: * -&gt; *) x. Rep (TxRowT f) x -&gt; TxRowT f
forall (f :: * -&gt; *) x. TxRowT f -&gt; Rep (TxRowT f) x
$cto :: forall (f :: * -&gt; *) x. Rep (TxRowT f) x -&gt; TxRowT f
$cfrom :: forall (f :: * -&gt; *) x. TxRowT f -&gt; Rep (TxRowT f) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682912"><span id="local-6989586621679682914"><span class="annot"><span class="annottext">TableSkeleton TxRowT
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; TxRowT f -&gt; TxRowT g -&gt; m (TxRowT h))
-&gt; TableSkeleton TxRowT -&gt; Beamable TxRowT
forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; TxRowT f -&gt; TxRowT g -&gt; m (TxRowT h)
forall (table :: (* -&gt; *) -&gt; *).
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; table f -&gt; table g -&gt; m (table h))
-&gt; TableSkeleton table -&gt; Beamable table
tblSkeleton :: TableSkeleton TxRowT
$ctblSkeleton :: TableSkeleton TxRowT
zipBeamFieldsM :: (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; TxRowT f -&gt; TxRowT g -&gt; m (TxRowT h)
$czipBeamFieldsM :: forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; TxRowT f -&gt; TxRowT g -&gt; m (TxRowT h)
</span><a href="#local-6989586621679682912"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Beamable</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="hs-keyword">type</span><span> </span><span id="TxRow"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TxRow"><span class="hs-identifier hs-var">TxRow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TxRowT"><span class="hs-identifier hs-type">TxRowT</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Table</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TxRowT"><span class="hs-identifier hs-type">TxRowT</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-94"></span><span>    </span><span class="hs-keyword">data</span><span> </span><span id="PrimaryKey"><span class="annot"><span class="hs-identifier hs-var">PrimaryKey</span></span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TxRowT"><span class="hs-identifier hs-type">TxRowT</span></a></span><span> </span><span id="local-6989586621679683259"><span class="annot"><a href="#local-6989586621679683259"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TxRowId"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TxRowId"><span class="hs-identifier hs-var">TxRowId</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683259"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. PrimaryKey TxRowT f -&gt; Rep (PrimaryKey TxRowT f) x)
-&gt; (forall x. Rep (PrimaryKey TxRowT f) x -&gt; PrimaryKey TxRowT f)
-&gt; Generic (PrimaryKey TxRowT f)
forall x. Rep (PrimaryKey TxRowT f) x -&gt; PrimaryKey TxRowT f
forall x. PrimaryKey TxRowT f -&gt; Rep (PrimaryKey TxRowT f) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (f :: * -&gt; *) x.
Rep (PrimaryKey TxRowT f) x -&gt; PrimaryKey TxRowT f
forall (f :: * -&gt; *) x.
PrimaryKey TxRowT f -&gt; Rep (PrimaryKey TxRowT f) x
$cto :: forall (f :: * -&gt; *) x.
Rep (PrimaryKey TxRowT f) x -&gt; PrimaryKey TxRowT f
$cfrom :: forall (f :: * -&gt; *) x.
PrimaryKey TxRowT f -&gt; Rep (PrimaryKey TxRowT f) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682898"><span id="local-6989586621679682900"><span class="annot"><span class="annottext">TableSkeleton (PrimaryKey TxRowT)
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; PrimaryKey TxRowT f
 -&gt; PrimaryKey TxRowT g
 -&gt; m (PrimaryKey TxRowT h))
-&gt; TableSkeleton (PrimaryKey TxRowT)
-&gt; Beamable (PrimaryKey TxRowT)
forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey TxRowT f
-&gt; PrimaryKey TxRowT g
-&gt; m (PrimaryKey TxRowT h)
forall (table :: (* -&gt; *) -&gt; *).
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; table f -&gt; table g -&gt; m (table h))
-&gt; TableSkeleton table -&gt; Beamable table
tblSkeleton :: TableSkeleton (PrimaryKey TxRowT)
$ctblSkeleton :: TableSkeleton (PrimaryKey TxRowT)
zipBeamFieldsM :: (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey TxRowT f
-&gt; PrimaryKey TxRowT g
-&gt; m (PrimaryKey TxRowT h)
$czipBeamFieldsM :: forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey TxRowT f
-&gt; PrimaryKey TxRowT g
-&gt; m (PrimaryKey TxRowT h)
</span><a href="#local-6989586621679682898"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Beamable</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span>    </span><span id="local-6989586621679682897"><span class="annot"><span class="annottext">primaryKey :: TxRowT column -&gt; PrimaryKey TxRowT column
</span><a href="#local-6989586621679682897"><span class="hs-identifier hs-var hs-var hs-var hs-var">primaryKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Columnar column ByteString -&gt; PrimaryKey TxRowT column
forall (f :: * -&gt; *). Columnar f ByteString -&gt; PrimaryKey TxRowT f
</span><a href="Plutus.ChainIndex.DbSchema.html#TxRowId"><span class="hs-identifier hs-var">TxRowId</span></a></span><span> </span><span class="annot"><span class="annottext">(Columnar column ByteString -&gt; PrimaryKey TxRowT column)
-&gt; (TxRowT column -&gt; Columnar column ByteString)
-&gt; TxRowT column
-&gt; PrimaryKey TxRowT column
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TxRowT column -&gt; Columnar column ByteString
forall (f :: * -&gt; *). TxRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_txRowTxId"><span class="hs-identifier hs-var hs-var">_txRowTxId</span></a></span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span id="local-6989586621679682895"><span id="local-6989586621679682896"></span></span><span class="hs-keyword">data</span><span> </span><span id="AddressRowT"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AddressRowT"><span class="hs-identifier hs-var">AddressRowT</span></a></span></span><span> </span><span id="local-6989586621679683020"><span class="annot"><a href="#local-6989586621679683020"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="AddressRow"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AddressRow"><span class="hs-identifier hs-var">AddressRow</span></a></span></span><span>
</span><span id="line-98"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="_addressRowCred"><span class="annot"><span class="annottext">AddressRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_addressRowCred"><span class="hs-identifier hs-var hs-var">_addressRowCred</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683020"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-99"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_addressRowOutRef"><span class="annot"><span class="annottext">AddressRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_addressRowOutRef"><span class="hs-identifier hs-var hs-var">_addressRowOutRef</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683020"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-100"></span><span>    </span><span class="hs-comment">-- Keep datumHash in address row which is useful to retrieve all datum associated to a partial</span><span>
</span><span id="line-101"></span><span>    </span><span class="hs-comment">-- address</span><span>
</span><span id="line-102"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_addressRowDatumHash"><span class="annot"><span class="annottext">AddressRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_addressRowDatumHash"><span class="hs-identifier hs-var hs-var">_addressRowDatumHash</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683020"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-103"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. AddressRowT f -&gt; Rep (AddressRowT f) x)
-&gt; (forall x. Rep (AddressRowT f) x -&gt; AddressRowT f)
-&gt; Generic (AddressRowT f)
forall x. Rep (AddressRowT f) x -&gt; AddressRowT f
forall x. AddressRowT f -&gt; Rep (AddressRowT f) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (f :: * -&gt; *) x. Rep (AddressRowT f) x -&gt; AddressRowT f
forall (f :: * -&gt; *) x. AddressRowT f -&gt; Rep (AddressRowT f) x
$cto :: forall (f :: * -&gt; *) x. Rep (AddressRowT f) x -&gt; AddressRowT f
$cfrom :: forall (f :: * -&gt; *) x. AddressRowT f -&gt; Rep (AddressRowT f) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682885"><span id="local-6989586621679682887"><span class="annot"><span class="annottext">TableSkeleton AddressRowT
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; AddressRowT f -&gt; AddressRowT g -&gt; m (AddressRowT h))
-&gt; TableSkeleton AddressRowT -&gt; Beamable AddressRowT
forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; AddressRowT f -&gt; AddressRowT g -&gt; m (AddressRowT h)
forall (table :: (* -&gt; *) -&gt; *).
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; table f -&gt; table g -&gt; m (table h))
-&gt; TableSkeleton table -&gt; Beamable table
tblSkeleton :: TableSkeleton AddressRowT
$ctblSkeleton :: TableSkeleton AddressRowT
zipBeamFieldsM :: (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; AddressRowT f -&gt; AddressRowT g -&gt; m (AddressRowT h)
$czipBeamFieldsM :: forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; AddressRowT f -&gt; AddressRowT g -&gt; m (AddressRowT h)
</span><a href="#local-6989586621679682885"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Beamable</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="hs-keyword">type</span><span> </span><span id="AddressRow"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AddressRow"><span class="hs-identifier hs-var">AddressRow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AddressRowT"><span class="hs-identifier hs-type">AddressRowT</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Table</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AddressRowT"><span class="hs-identifier hs-type">AddressRowT</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-108"></span><span>    </span><span class="hs-comment">-- We also need an index on just the _addressRowCred column, but the primary key index provides this</span><span>
</span><span id="line-109"></span><span>    </span><span class="hs-comment">-- as long as _addressRowCred is the first column in the primary key.</span><span>
</span><span id="line-110"></span><span>    </span><span class="hs-keyword">data</span><span> </span><span id="PrimaryKey"><span class="annot"><span class="hs-identifier hs-var">PrimaryKey</span></span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AddressRowT"><span class="hs-identifier hs-type">AddressRowT</span></a></span><span> </span><span id="local-6989586621679683238"><span class="annot"><a href="#local-6989586621679683238"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="AddressRowId"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AddressRowId"><span class="hs-identifier hs-var">AddressRowId</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683238"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683238"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683238"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x.
 PrimaryKey AddressRowT f -&gt; Rep (PrimaryKey AddressRowT f) x)
-&gt; (forall x.
    Rep (PrimaryKey AddressRowT f) x -&gt; PrimaryKey AddressRowT f)
-&gt; Generic (PrimaryKey AddressRowT f)
forall x.
Rep (PrimaryKey AddressRowT f) x -&gt; PrimaryKey AddressRowT f
forall x.
PrimaryKey AddressRowT f -&gt; Rep (PrimaryKey AddressRowT f) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (f :: * -&gt; *) x.
Rep (PrimaryKey AddressRowT f) x -&gt; PrimaryKey AddressRowT f
forall (f :: * -&gt; *) x.
PrimaryKey AddressRowT f -&gt; Rep (PrimaryKey AddressRowT f) x
$cto :: forall (f :: * -&gt; *) x.
Rep (PrimaryKey AddressRowT f) x -&gt; PrimaryKey AddressRowT f
$cfrom :: forall (f :: * -&gt; *) x.
PrimaryKey AddressRowT f -&gt; Rep (PrimaryKey AddressRowT f) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682871"><span id="local-6989586621679682873"><span class="annot"><span class="annottext">TableSkeleton (PrimaryKey AddressRowT)
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; PrimaryKey AddressRowT f
 -&gt; PrimaryKey AddressRowT g
 -&gt; m (PrimaryKey AddressRowT h))
-&gt; TableSkeleton (PrimaryKey AddressRowT)
-&gt; Beamable (PrimaryKey AddressRowT)
forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey AddressRowT f
-&gt; PrimaryKey AddressRowT g
-&gt; m (PrimaryKey AddressRowT h)
forall (table :: (* -&gt; *) -&gt; *).
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; table f -&gt; table g -&gt; m (table h))
-&gt; TableSkeleton table -&gt; Beamable table
tblSkeleton :: TableSkeleton (PrimaryKey AddressRowT)
$ctblSkeleton :: TableSkeleton (PrimaryKey AddressRowT)
zipBeamFieldsM :: (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey AddressRowT f
-&gt; PrimaryKey AddressRowT g
-&gt; m (PrimaryKey AddressRowT h)
$czipBeamFieldsM :: forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey AddressRowT f
-&gt; PrimaryKey AddressRowT g
-&gt; m (PrimaryKey AddressRowT h)
</span><a href="#local-6989586621679682871"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Beamable</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span>    </span><span id="local-6989586621679682870"><span class="annot"><span class="annottext">primaryKey :: AddressRowT column -&gt; PrimaryKey AddressRowT column
</span><a href="#local-6989586621679682870"><span class="hs-identifier hs-var hs-var hs-var hs-var">primaryKey</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AddressRow"><span class="hs-identifier hs-type">AddressRow</span></a></span><span> </span><span id="local-6989586621679682869"><span class="annot"><span class="annottext">Columnar column ByteString
</span><a href="#local-6989586621679682869"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679682868"><span class="annot"><span class="annottext">Columnar column ByteString
</span><a href="#local-6989586621679682868"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621679682867"><span class="annot"><span class="annottext">Columnar column ByteString
</span><a href="#local-6989586621679682867"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Columnar column ByteString
-&gt; Columnar column ByteString
-&gt; Columnar column ByteString
-&gt; PrimaryKey AddressRowT column
forall (f :: * -&gt; *).
Columnar f ByteString
-&gt; Columnar f ByteString
-&gt; Columnar f ByteString
-&gt; PrimaryKey AddressRowT f
</span><a href="Plutus.ChainIndex.DbSchema.html#AddressRowId"><span class="hs-identifier hs-var">AddressRowId</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar column ByteString
</span><a href="#local-6989586621679682869"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar column ByteString
</span><a href="#local-6989586621679682868"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar column ByteString
</span><a href="#local-6989586621679682867"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span id="local-6989586621679682865"><span id="local-6989586621679682866"></span></span><span class="hs-keyword">data</span><span> </span><span id="AssetClassRowT"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AssetClassRowT"><span class="hs-identifier hs-var">AssetClassRowT</span></a></span></span><span> </span><span id="local-6989586621679683016"><span class="annot"><a href="#local-6989586621679683016"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="AssetClassRow"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AssetClassRow"><span class="hs-identifier hs-var">AssetClassRow</span></a></span></span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="_assetClassRowAssetClass"><span class="annot"><span class="annottext">AssetClassRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_assetClassRowAssetClass"><span class="hs-identifier hs-var hs-var">_assetClassRowAssetClass</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683016"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-115"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_assetClassRowOutRef"><span class="annot"><span class="annottext">AssetClassRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_assetClassRowOutRef"><span class="hs-identifier hs-var hs-var">_assetClassRowOutRef</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683016"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-116"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. AssetClassRowT f -&gt; Rep (AssetClassRowT f) x)
-&gt; (forall x. Rep (AssetClassRowT f) x -&gt; AssetClassRowT f)
-&gt; Generic (AssetClassRowT f)
forall x. Rep (AssetClassRowT f) x -&gt; AssetClassRowT f
forall x. AssetClassRowT f -&gt; Rep (AssetClassRowT f) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (f :: * -&gt; *) x.
Rep (AssetClassRowT f) x -&gt; AssetClassRowT f
forall (f :: * -&gt; *) x.
AssetClassRowT f -&gt; Rep (AssetClassRowT f) x
$cto :: forall (f :: * -&gt; *) x.
Rep (AssetClassRowT f) x -&gt; AssetClassRowT f
$cfrom :: forall (f :: * -&gt; *) x.
AssetClassRowT f -&gt; Rep (AssetClassRowT f) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682856"><span id="local-6989586621679682858"><span class="annot"><span class="annottext">TableSkeleton AssetClassRowT
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; AssetClassRowT f -&gt; AssetClassRowT g -&gt; m (AssetClassRowT h))
-&gt; TableSkeleton AssetClassRowT -&gt; Beamable AssetClassRowT
forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; AssetClassRowT f -&gt; AssetClassRowT g -&gt; m (AssetClassRowT h)
forall (table :: (* -&gt; *) -&gt; *).
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; table f -&gt; table g -&gt; m (table h))
-&gt; TableSkeleton table -&gt; Beamable table
tblSkeleton :: TableSkeleton AssetClassRowT
$ctblSkeleton :: TableSkeleton AssetClassRowT
zipBeamFieldsM :: (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; AssetClassRowT f -&gt; AssetClassRowT g -&gt; m (AssetClassRowT h)
$czipBeamFieldsM :: forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; AssetClassRowT f -&gt; AssetClassRowT g -&gt; m (AssetClassRowT h)
</span><a href="#local-6989586621679682856"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Beamable</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="hs-keyword">type</span><span> </span><span id="AssetClassRow"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AssetClassRow"><span class="hs-identifier hs-var">AssetClassRow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AssetClassRowT"><span class="hs-identifier hs-type">AssetClassRowT</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Table</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AssetClassRowT"><span class="hs-identifier hs-type">AssetClassRowT</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-121"></span><span>    </span><span class="hs-comment">-- We also need an index on just the _assetClassRowAssetClass column, but the primary key index provides this</span><span>
</span><span id="line-122"></span><span>    </span><span class="hs-comment">-- as long as _assetClassRowAssetClass is the first column in the primary key.</span><span>
</span><span id="line-123"></span><span>    </span><span class="hs-keyword">data</span><span> </span><span id="PrimaryKey"><span class="annot"><span class="hs-identifier hs-var">PrimaryKey</span></span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AssetClassRowT"><span class="hs-identifier hs-type">AssetClassRowT</span></a></span><span> </span><span id="local-6989586621679683219"><span class="annot"><a href="#local-6989586621679683219"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="AssetClassRowId"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AssetClassRowId"><span class="hs-identifier hs-var">AssetClassRowId</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683219"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span>                                                       </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683219"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>      </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x.
 PrimaryKey AssetClassRowT f -&gt; Rep (PrimaryKey AssetClassRowT f) x)
-&gt; (forall x.
    Rep (PrimaryKey AssetClassRowT f) x -&gt; PrimaryKey AssetClassRowT f)
-&gt; Generic (PrimaryKey AssetClassRowT f)
forall x.
Rep (PrimaryKey AssetClassRowT f) x -&gt; PrimaryKey AssetClassRowT f
forall x.
PrimaryKey AssetClassRowT f -&gt; Rep (PrimaryKey AssetClassRowT f) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (f :: * -&gt; *) x.
Rep (PrimaryKey AssetClassRowT f) x -&gt; PrimaryKey AssetClassRowT f
forall (f :: * -&gt; *) x.
PrimaryKey AssetClassRowT f -&gt; Rep (PrimaryKey AssetClassRowT f) x
$cto :: forall (f :: * -&gt; *) x.
Rep (PrimaryKey AssetClassRowT f) x -&gt; PrimaryKey AssetClassRowT f
$cfrom :: forall (f :: * -&gt; *) x.
PrimaryKey AssetClassRowT f -&gt; Rep (PrimaryKey AssetClassRowT f) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682842"><span id="local-6989586621679682844"><span class="annot"><span class="annottext">TableSkeleton (PrimaryKey AssetClassRowT)
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; PrimaryKey AssetClassRowT f
 -&gt; PrimaryKey AssetClassRowT g
 -&gt; m (PrimaryKey AssetClassRowT h))
-&gt; TableSkeleton (PrimaryKey AssetClassRowT)
-&gt; Beamable (PrimaryKey AssetClassRowT)
forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey AssetClassRowT f
-&gt; PrimaryKey AssetClassRowT g
-&gt; m (PrimaryKey AssetClassRowT h)
forall (table :: (* -&gt; *) -&gt; *).
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; table f -&gt; table g -&gt; m (table h))
-&gt; TableSkeleton table -&gt; Beamable table
tblSkeleton :: TableSkeleton (PrimaryKey AssetClassRowT)
$ctblSkeleton :: TableSkeleton (PrimaryKey AssetClassRowT)
zipBeamFieldsM :: (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey AssetClassRowT f
-&gt; PrimaryKey AssetClassRowT g
-&gt; m (PrimaryKey AssetClassRowT h)
$czipBeamFieldsM :: forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey AssetClassRowT f
-&gt; PrimaryKey AssetClassRowT g
-&gt; m (PrimaryKey AssetClassRowT h)
</span><a href="#local-6989586621679682842"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Beamable</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span>    </span><span id="local-6989586621679682841"><span class="annot"><span class="annottext">primaryKey :: AssetClassRowT column -&gt; PrimaryKey AssetClassRowT column
</span><a href="#local-6989586621679682841"><span class="hs-identifier hs-var hs-var hs-var hs-var">primaryKey</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AssetClassRow"><span class="hs-identifier hs-type">AssetClassRow</span></a></span><span> </span><span id="local-6989586621679682840"><span class="annot"><span class="annottext">Columnar column ByteString
</span><a href="#local-6989586621679682840"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679682839"><span class="annot"><span class="annottext">Columnar column ByteString
</span><a href="#local-6989586621679682839"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Columnar column ByteString
-&gt; Columnar column ByteString -&gt; PrimaryKey AssetClassRowT column
forall (f :: * -&gt; *).
Columnar f ByteString
-&gt; Columnar f ByteString -&gt; PrimaryKey AssetClassRowT f
</span><a href="Plutus.ChainIndex.DbSchema.html#AssetClassRowId"><span class="hs-identifier hs-var">AssetClassRowId</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar column ByteString
</span><a href="#local-6989586621679682840"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar column ByteString
</span><a href="#local-6989586621679682839"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span id="local-6989586621679682837"><span id="local-6989586621679682838"></span></span><span class="hs-keyword">data</span><span> </span><span id="TipRowT"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TipRowT"><span class="hs-identifier hs-var">TipRowT</span></a></span></span><span> </span><span id="local-6989586621679683197"><span class="annot"><a href="#local-6989586621679683197"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TipRow"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TipRow"><span class="hs-identifier hs-var">TipRow</span></a></span></span><span>
</span><span id="line-129"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="_tipRowSlot"><span class="annot"><span class="annottext">TipRowT f -&gt; Columnar f Word64
</span><a href="Plutus.ChainIndex.DbSchema.html#_tipRowSlot"><span class="hs-identifier hs-var hs-var">_tipRowSlot</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683197"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span>
</span><span id="line-130"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_tipRowBlockId"><span class="annot"><span class="annottext">TipRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_tipRowBlockId"><span class="hs-identifier hs-var hs-var">_tipRowBlockId</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683197"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-131"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_tipRowBlockNumber"><span class="annot"><span class="annottext">TipRowT f -&gt; Columnar f Word64
</span><a href="Plutus.ChainIndex.DbSchema.html#_tipRowBlockNumber"><span class="hs-identifier hs-var hs-var">_tipRowBlockNumber</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683197"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span>
</span><span id="line-132"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. TipRowT f -&gt; Rep (TipRowT f) x)
-&gt; (forall x. Rep (TipRowT f) x -&gt; TipRowT f)
-&gt; Generic (TipRowT f)
forall x. Rep (TipRowT f) x -&gt; TipRowT f
forall x. TipRowT f -&gt; Rep (TipRowT f) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (f :: * -&gt; *) x. Rep (TipRowT f) x -&gt; TipRowT f
forall (f :: * -&gt; *) x. TipRowT f -&gt; Rep (TipRowT f) x
$cto :: forall (f :: * -&gt; *) x. Rep (TipRowT f) x -&gt; TipRowT f
$cfrom :: forall (f :: * -&gt; *) x. TipRowT f -&gt; Rep (TipRowT f) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682827"><span id="local-6989586621679682829"><span class="annot"><span class="annottext">TableSkeleton TipRowT
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; TipRowT f -&gt; TipRowT g -&gt; m (TipRowT h))
-&gt; TableSkeleton TipRowT -&gt; Beamable TipRowT
forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; TipRowT f -&gt; TipRowT g -&gt; m (TipRowT h)
forall (table :: (* -&gt; *) -&gt; *).
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; table f -&gt; table g -&gt; m (table h))
-&gt; TableSkeleton table -&gt; Beamable table
tblSkeleton :: TableSkeleton TipRowT
$ctblSkeleton :: TableSkeleton TipRowT
zipBeamFieldsM :: (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; TipRowT f -&gt; TipRowT g -&gt; m (TipRowT h)
$czipBeamFieldsM :: forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; TipRowT f -&gt; TipRowT g -&gt; m (TipRowT h)
</span><a href="#local-6989586621679682827"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Beamable</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="hs-keyword">type</span><span> </span><span id="TipRow"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TipRow"><span class="hs-identifier hs-var">TipRow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TipRowT"><span class="hs-identifier hs-type">TipRowT</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Table</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TipRowT"><span class="hs-identifier hs-type">TipRowT</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-137"></span><span>    </span><span class="hs-keyword">data</span><span> </span><span id="PrimaryKey"><span class="annot"><span class="hs-identifier hs-var">PrimaryKey</span></span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TipRowT"><span class="hs-identifier hs-type">TipRowT</span></a></span><span> </span><span id="local-6989586621679683198"><span class="annot"><a href="#local-6989586621679683198"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TipRowId"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TipRowId"><span class="hs-identifier hs-var">TipRowId</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unTipRowId"><span class="annot"><span class="annottext">PrimaryKey TipRowT f -&gt; Columnar f Word64
</span><a href="Plutus.ChainIndex.DbSchema.html#unTipRowId"><span class="hs-identifier hs-var hs-var">unTipRowId</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683198"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. PrimaryKey TipRowT f -&gt; Rep (PrimaryKey TipRowT f) x)
-&gt; (forall x. Rep (PrimaryKey TipRowT f) x -&gt; PrimaryKey TipRowT f)
-&gt; Generic (PrimaryKey TipRowT f)
forall x. Rep (PrimaryKey TipRowT f) x -&gt; PrimaryKey TipRowT f
forall x. PrimaryKey TipRowT f -&gt; Rep (PrimaryKey TipRowT f) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (f :: * -&gt; *) x.
Rep (PrimaryKey TipRowT f) x -&gt; PrimaryKey TipRowT f
forall (f :: * -&gt; *) x.
PrimaryKey TipRowT f -&gt; Rep (PrimaryKey TipRowT f) x
$cto :: forall (f :: * -&gt; *) x.
Rep (PrimaryKey TipRowT f) x -&gt; PrimaryKey TipRowT f
$cfrom :: forall (f :: * -&gt; *) x.
PrimaryKey TipRowT f -&gt; Rep (PrimaryKey TipRowT f) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682812"><span id="local-6989586621679682814"><span class="annot"><span class="annottext">TableSkeleton (PrimaryKey TipRowT)
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; PrimaryKey TipRowT f
 -&gt; PrimaryKey TipRowT g
 -&gt; m (PrimaryKey TipRowT h))
-&gt; TableSkeleton (PrimaryKey TipRowT)
-&gt; Beamable (PrimaryKey TipRowT)
forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey TipRowT f
-&gt; PrimaryKey TipRowT g
-&gt; m (PrimaryKey TipRowT h)
forall (table :: (* -&gt; *) -&gt; *).
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; table f -&gt; table g -&gt; m (table h))
-&gt; TableSkeleton table -&gt; Beamable table
tblSkeleton :: TableSkeleton (PrimaryKey TipRowT)
$ctblSkeleton :: TableSkeleton (PrimaryKey TipRowT)
zipBeamFieldsM :: (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey TipRowT f
-&gt; PrimaryKey TipRowT g
-&gt; m (PrimaryKey TipRowT h)
$czipBeamFieldsM :: forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey TipRowT f
-&gt; PrimaryKey TipRowT g
-&gt; m (PrimaryKey TipRowT h)
</span><a href="#local-6989586621679682812"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Beamable</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span>    </span><span id="local-6989586621679682811"><span class="annot"><span class="annottext">primaryKey :: TipRowT column -&gt; PrimaryKey TipRowT column
</span><a href="#local-6989586621679682811"><span class="hs-identifier hs-var hs-var hs-var hs-var">primaryKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Columnar column Word64 -&gt; PrimaryKey TipRowT column
forall (f :: * -&gt; *). Columnar f Word64 -&gt; PrimaryKey TipRowT f
</span><a href="Plutus.ChainIndex.DbSchema.html#TipRowId"><span class="hs-identifier hs-var">TipRowId</span></a></span><span> </span><span class="annot"><span class="annottext">(Columnar column Word64 -&gt; PrimaryKey TipRowT column)
-&gt; (TipRowT column -&gt; Columnar column Word64)
-&gt; TipRowT column
-&gt; PrimaryKey TipRowT column
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TipRowT column -&gt; Columnar column Word64
forall (f :: * -&gt; *). TipRowT f -&gt; Columnar f Word64
</span><a href="Plutus.ChainIndex.DbSchema.html#_tipRowSlot"><span class="hs-identifier hs-var hs-var">_tipRowSlot</span></a></span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="hs-comment">{-
The UnspentOutputRow and UnmatchedInputRow tables represent the TxUtxoBalance part of the UtxoState data on disk.
In particular the tip is the one that produced the utxo, except for the rows
that come from transactions that can no longer be rolled back:
In the UtxoState data that can no longer be rolled back are combined in a single TxUtxoBalance value.
The tip in those cases is the most recent tip that can no longer be rolled back.
(This is an automatic result of the Monoid instance on TxUtxoBalance, and is a bit weird when spelled
out as a database design, but the disk state and in memory state should be kept in sync.)
-}</span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span id="local-6989586621679682809"><span id="local-6989586621679682810"></span></span><span class="hs-keyword">data</span><span> </span><span id="UnspentOutputRowT"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UnspentOutputRowT"><span class="hs-identifier hs-var">UnspentOutputRowT</span></a></span></span><span> </span><span id="local-6989586621679682808"><span class="annot"><a href="#local-6989586621679682808"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UnspentOutputRow"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UnspentOutputRow"><span class="hs-identifier hs-var">UnspentOutputRow</span></a></span></span><span>
</span><span id="line-151"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="_unspentOutputRowTip"><span class="annot"><span class="annottext">UnspentOutputRowT f -&gt; PrimaryKey TipRowT f
</span><a href="Plutus.ChainIndex.DbSchema.html#_unspentOutputRowTip"><span class="hs-identifier hs-var hs-var">_unspentOutputRowTip</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PrimaryKey</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TipRowT"><span class="hs-identifier hs-type">TipRowT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679682808"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-152"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_unspentOutputRowOutRef"><span class="annot"><span class="annottext">UnspentOutputRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_unspentOutputRowOutRef"><span class="hs-identifier hs-var hs-var">_unspentOutputRowOutRef</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679682808"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-153"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. UnspentOutputRowT f -&gt; Rep (UnspentOutputRowT f) x)
-&gt; (forall x. Rep (UnspentOutputRowT f) x -&gt; UnspentOutputRowT f)
-&gt; Generic (UnspentOutputRowT f)
forall x. Rep (UnspentOutputRowT f) x -&gt; UnspentOutputRowT f
forall x. UnspentOutputRowT f -&gt; Rep (UnspentOutputRowT f) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (f :: * -&gt; *) x.
Rep (UnspentOutputRowT f) x -&gt; UnspentOutputRowT f
forall (f :: * -&gt; *) x.
UnspentOutputRowT f -&gt; Rep (UnspentOutputRowT f) x
$cto :: forall (f :: * -&gt; *) x.
Rep (UnspentOutputRowT f) x -&gt; UnspentOutputRowT f
$cfrom :: forall (f :: * -&gt; *) x.
UnspentOutputRowT f -&gt; Rep (UnspentOutputRowT f) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682799"><span id="local-6989586621679682801"><span class="annot"><span class="annottext">TableSkeleton UnspentOutputRowT
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; UnspentOutputRowT f
 -&gt; UnspentOutputRowT g
 -&gt; m (UnspentOutputRowT h))
-&gt; TableSkeleton UnspentOutputRowT -&gt; Beamable UnspentOutputRowT
forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; UnspentOutputRowT f
-&gt; UnspentOutputRowT g
-&gt; m (UnspentOutputRowT h)
forall (table :: (* -&gt; *) -&gt; *).
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; table f -&gt; table g -&gt; m (table h))
-&gt; TableSkeleton table -&gt; Beamable table
tblSkeleton :: TableSkeleton UnspentOutputRowT
$ctblSkeleton :: TableSkeleton UnspentOutputRowT
zipBeamFieldsM :: (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; UnspentOutputRowT f
-&gt; UnspentOutputRowT g
-&gt; m (UnspentOutputRowT h)
$czipBeamFieldsM :: forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; UnspentOutputRowT f
-&gt; UnspentOutputRowT g
-&gt; m (UnspentOutputRowT h)
</span><a href="#local-6989586621679682799"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Beamable</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span>
</span><span id="line-155"></span><span class="hs-keyword">type</span><span> </span><span id="UnspentOutputRow"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UnspentOutputRow"><span class="hs-identifier hs-var">UnspentOutputRow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UnspentOutputRowT"><span class="hs-identifier hs-type">UnspentOutputRowT</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Table</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UnspentOutputRowT"><span class="hs-identifier hs-type">UnspentOutputRowT</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-158"></span><span>    </span><span class="hs-keyword">data</span><span> </span><span id="PrimaryKey"><span class="annot"><span class="hs-identifier hs-var">PrimaryKey</span></span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UnspentOutputRowT"><span class="hs-identifier hs-type">UnspentOutputRowT</span></a></span><span> </span><span id="local-6989586621679683178"><span class="annot"><a href="#local-6989586621679683178"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UnspentOutputRowId"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UnspentOutputRowId"><span class="hs-identifier hs-var">UnspentOutputRowId</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PrimaryKey</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TipRowT"><span class="hs-identifier hs-type">TipRowT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679683178"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683178"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x.
 PrimaryKey UnspentOutputRowT f
 -&gt; Rep (PrimaryKey UnspentOutputRowT f) x)
-&gt; (forall x.
    Rep (PrimaryKey UnspentOutputRowT f) x
    -&gt; PrimaryKey UnspentOutputRowT f)
-&gt; Generic (PrimaryKey UnspentOutputRowT f)
forall x.
Rep (PrimaryKey UnspentOutputRowT f) x
-&gt; PrimaryKey UnspentOutputRowT f
forall x.
PrimaryKey UnspentOutputRowT f
-&gt; Rep (PrimaryKey UnspentOutputRowT f) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (f :: * -&gt; *) x.
Rep (PrimaryKey UnspentOutputRowT f) x
-&gt; PrimaryKey UnspentOutputRowT f
forall (f :: * -&gt; *) x.
PrimaryKey UnspentOutputRowT f
-&gt; Rep (PrimaryKey UnspentOutputRowT f) x
$cto :: forall (f :: * -&gt; *) x.
Rep (PrimaryKey UnspentOutputRowT f) x
-&gt; PrimaryKey UnspentOutputRowT f
$cfrom :: forall (f :: * -&gt; *) x.
PrimaryKey UnspentOutputRowT f
-&gt; Rep (PrimaryKey UnspentOutputRowT f) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682785"><span id="local-6989586621679682787"><span class="annot"><span class="annottext">TableSkeleton (PrimaryKey UnspentOutputRowT)
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; PrimaryKey UnspentOutputRowT f
 -&gt; PrimaryKey UnspentOutputRowT g
 -&gt; m (PrimaryKey UnspentOutputRowT h))
-&gt; TableSkeleton (PrimaryKey UnspentOutputRowT)
-&gt; Beamable (PrimaryKey UnspentOutputRowT)
forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey UnspentOutputRowT f
-&gt; PrimaryKey UnspentOutputRowT g
-&gt; m (PrimaryKey UnspentOutputRowT h)
forall (table :: (* -&gt; *) -&gt; *).
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; table f -&gt; table g -&gt; m (table h))
-&gt; TableSkeleton table -&gt; Beamable table
tblSkeleton :: TableSkeleton (PrimaryKey UnspentOutputRowT)
$ctblSkeleton :: TableSkeleton (PrimaryKey UnspentOutputRowT)
zipBeamFieldsM :: (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey UnspentOutputRowT f
-&gt; PrimaryKey UnspentOutputRowT g
-&gt; m (PrimaryKey UnspentOutputRowT h)
$czipBeamFieldsM :: forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey UnspentOutputRowT f
-&gt; PrimaryKey UnspentOutputRowT g
-&gt; m (PrimaryKey UnspentOutputRowT h)
</span><a href="#local-6989586621679682785"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Beamable</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span>    </span><span id="local-6989586621679682784"><span class="annot"><span class="annottext">primaryKey :: UnspentOutputRowT column -&gt; PrimaryKey UnspentOutputRowT column
</span><a href="#local-6989586621679682784"><span class="hs-identifier hs-var hs-var hs-var hs-var">primaryKey</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UnspentOutputRow"><span class="hs-identifier hs-type">UnspentOutputRow</span></a></span><span> </span><span id="local-6989586621679682783"><span class="annot"><span class="annottext">PrimaryKey TipRowT column
</span><a href="#local-6989586621679682783"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679682782"><span class="annot"><span class="annottext">Columnar column ByteString
</span><a href="#local-6989586621679682782"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimaryKey TipRowT column
-&gt; Columnar column ByteString
-&gt; PrimaryKey UnspentOutputRowT column
forall (f :: * -&gt; *).
PrimaryKey TipRowT f
-&gt; Columnar f ByteString -&gt; PrimaryKey UnspentOutputRowT f
</span><a href="Plutus.ChainIndex.DbSchema.html#UnspentOutputRowId"><span class="hs-identifier hs-var">UnspentOutputRowId</span></a></span><span> </span><span class="annot"><span class="annottext">PrimaryKey TipRowT column
</span><a href="#local-6989586621679682783"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar column ByteString
</span><a href="#local-6989586621679682782"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span id="local-6989586621679682780"><span id="local-6989586621679682781"></span></span><span class="hs-keyword">data</span><span> </span><span id="UnmatchedInputRowT"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UnmatchedInputRowT"><span class="hs-identifier hs-var">UnmatchedInputRowT</span></a></span></span><span> </span><span id="local-6989586621679682779"><span class="annot"><a href="#local-6989586621679682779"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UnmatchedInputRow"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UnmatchedInputRow"><span class="hs-identifier hs-var">UnmatchedInputRow</span></a></span></span><span>
</span><span id="line-162"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="_unmatchedInputRowTip"><span class="annot"><span class="annottext">UnmatchedInputRowT f -&gt; PrimaryKey TipRowT f
</span><a href="Plutus.ChainIndex.DbSchema.html#_unmatchedInputRowTip"><span class="hs-identifier hs-var hs-var">_unmatchedInputRowTip</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PrimaryKey</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TipRowT"><span class="hs-identifier hs-type">TipRowT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679682779"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-163"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_unmatchedInputRowOutRef"><span class="annot"><span class="annottext">UnmatchedInputRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_unmatchedInputRowOutRef"><span class="hs-identifier hs-var hs-var">_unmatchedInputRowOutRef</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679682779"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-164"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. UnmatchedInputRowT f -&gt; Rep (UnmatchedInputRowT f) x)
-&gt; (forall x. Rep (UnmatchedInputRowT f) x -&gt; UnmatchedInputRowT f)
-&gt; Generic (UnmatchedInputRowT f)
forall x. Rep (UnmatchedInputRowT f) x -&gt; UnmatchedInputRowT f
forall x. UnmatchedInputRowT f -&gt; Rep (UnmatchedInputRowT f) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (f :: * -&gt; *) x.
Rep (UnmatchedInputRowT f) x -&gt; UnmatchedInputRowT f
forall (f :: * -&gt; *) x.
UnmatchedInputRowT f -&gt; Rep (UnmatchedInputRowT f) x
$cto :: forall (f :: * -&gt; *) x.
Rep (UnmatchedInputRowT f) x -&gt; UnmatchedInputRowT f
$cfrom :: forall (f :: * -&gt; *) x.
UnmatchedInputRowT f -&gt; Rep (UnmatchedInputRowT f) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682770"><span id="local-6989586621679682772"><span class="annot"><span class="annottext">TableSkeleton UnmatchedInputRowT
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; UnmatchedInputRowT f
 -&gt; UnmatchedInputRowT g
 -&gt; m (UnmatchedInputRowT h))
-&gt; TableSkeleton UnmatchedInputRowT -&gt; Beamable UnmatchedInputRowT
forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; UnmatchedInputRowT f
-&gt; UnmatchedInputRowT g
-&gt; m (UnmatchedInputRowT h)
forall (table :: (* -&gt; *) -&gt; *).
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; table f -&gt; table g -&gt; m (table h))
-&gt; TableSkeleton table -&gt; Beamable table
tblSkeleton :: TableSkeleton UnmatchedInputRowT
$ctblSkeleton :: TableSkeleton UnmatchedInputRowT
zipBeamFieldsM :: (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; UnmatchedInputRowT f
-&gt; UnmatchedInputRowT g
-&gt; m (UnmatchedInputRowT h)
$czipBeamFieldsM :: forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; UnmatchedInputRowT f
-&gt; UnmatchedInputRowT g
-&gt; m (UnmatchedInputRowT h)
</span><a href="#local-6989586621679682770"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Beamable</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span class="hs-keyword">type</span><span> </span><span id="UnmatchedInputRow"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UnmatchedInputRow"><span class="hs-identifier hs-var">UnmatchedInputRow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UnmatchedInputRowT"><span class="hs-identifier hs-type">UnmatchedInputRowT</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Table</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UnmatchedInputRowT"><span class="hs-identifier hs-type">UnmatchedInputRowT</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-169"></span><span>    </span><span class="hs-keyword">data</span><span> </span><span id="PrimaryKey"><span class="annot"><span class="hs-identifier hs-var">PrimaryKey</span></span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UnmatchedInputRowT"><span class="hs-identifier hs-type">UnmatchedInputRowT</span></a></span><span> </span><span id="local-6989586621679683159"><span class="annot"><a href="#local-6989586621679683159"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UnmatchedInputRowId"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UnmatchedInputRowId"><span class="hs-identifier hs-var">UnmatchedInputRowId</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PrimaryKey</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TipRowT"><span class="hs-identifier hs-type">TipRowT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679683159"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683159"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x.
 PrimaryKey UnmatchedInputRowT f
 -&gt; Rep (PrimaryKey UnmatchedInputRowT f) x)
-&gt; (forall x.
    Rep (PrimaryKey UnmatchedInputRowT f) x
    -&gt; PrimaryKey UnmatchedInputRowT f)
-&gt; Generic (PrimaryKey UnmatchedInputRowT f)
forall x.
Rep (PrimaryKey UnmatchedInputRowT f) x
-&gt; PrimaryKey UnmatchedInputRowT f
forall x.
PrimaryKey UnmatchedInputRowT f
-&gt; Rep (PrimaryKey UnmatchedInputRowT f) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (f :: * -&gt; *) x.
Rep (PrimaryKey UnmatchedInputRowT f) x
-&gt; PrimaryKey UnmatchedInputRowT f
forall (f :: * -&gt; *) x.
PrimaryKey UnmatchedInputRowT f
-&gt; Rep (PrimaryKey UnmatchedInputRowT f) x
$cto :: forall (f :: * -&gt; *) x.
Rep (PrimaryKey UnmatchedInputRowT f) x
-&gt; PrimaryKey UnmatchedInputRowT f
$cfrom :: forall (f :: * -&gt; *) x.
PrimaryKey UnmatchedInputRowT f
-&gt; Rep (PrimaryKey UnmatchedInputRowT f) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682756"><span id="local-6989586621679682758"><span class="annot"><span class="annottext">TableSkeleton (PrimaryKey UnmatchedInputRowT)
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; PrimaryKey UnmatchedInputRowT f
 -&gt; PrimaryKey UnmatchedInputRowT g
 -&gt; m (PrimaryKey UnmatchedInputRowT h))
-&gt; TableSkeleton (PrimaryKey UnmatchedInputRowT)
-&gt; Beamable (PrimaryKey UnmatchedInputRowT)
forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey UnmatchedInputRowT f
-&gt; PrimaryKey UnmatchedInputRowT g
-&gt; m (PrimaryKey UnmatchedInputRowT h)
forall (table :: (* -&gt; *) -&gt; *).
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; table f -&gt; table g -&gt; m (table h))
-&gt; TableSkeleton table -&gt; Beamable table
tblSkeleton :: TableSkeleton (PrimaryKey UnmatchedInputRowT)
$ctblSkeleton :: TableSkeleton (PrimaryKey UnmatchedInputRowT)
zipBeamFieldsM :: (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey UnmatchedInputRowT f
-&gt; PrimaryKey UnmatchedInputRowT g
-&gt; m (PrimaryKey UnmatchedInputRowT h)
$czipBeamFieldsM :: forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey UnmatchedInputRowT f
-&gt; PrimaryKey UnmatchedInputRowT g
-&gt; m (PrimaryKey UnmatchedInputRowT h)
</span><a href="#local-6989586621679682756"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Beamable</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span>    </span><span id="local-6989586621679682755"><span class="annot"><span class="annottext">primaryKey :: UnmatchedInputRowT column -&gt; PrimaryKey UnmatchedInputRowT column
</span><a href="#local-6989586621679682755"><span class="hs-identifier hs-var hs-var hs-var hs-var">primaryKey</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UnmatchedInputRow"><span class="hs-identifier hs-type">UnmatchedInputRow</span></a></span><span> </span><span id="local-6989586621679682754"><span class="annot"><span class="annottext">PrimaryKey TipRowT column
</span><a href="#local-6989586621679682754"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679682753"><span class="annot"><span class="annottext">Columnar column ByteString
</span><a href="#local-6989586621679682753"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimaryKey TipRowT column
-&gt; Columnar column ByteString
-&gt; PrimaryKey UnmatchedInputRowT column
forall (f :: * -&gt; *).
PrimaryKey TipRowT f
-&gt; Columnar f ByteString -&gt; PrimaryKey UnmatchedInputRowT f
</span><a href="Plutus.ChainIndex.DbSchema.html#UnmatchedInputRowId"><span class="hs-identifier hs-var">UnmatchedInputRowId</span></a></span><span> </span><span class="annot"><span class="annottext">PrimaryKey TipRowT column
</span><a href="#local-6989586621679682754"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar column ByteString
</span><a href="#local-6989586621679682753"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span id="local-6989586621679682751"><span id="local-6989586621679682752"></span></span><span class="hs-keyword">data</span><span> </span><span id="UtxoRowT"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UtxoRowT"><span class="hs-identifier hs-var">UtxoRowT</span></a></span></span><span> </span><span id="local-6989586621679683139"><span class="annot"><a href="#local-6989586621679683139"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UtxoRow"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UtxoRow"><span class="hs-identifier hs-var">UtxoRow</span></a></span></span><span>
</span><span id="line-173"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="_utxoRowOutRef"><span class="annot"><span class="annottext">UtxoRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_utxoRowOutRef"><span class="hs-identifier hs-var hs-var">_utxoRowOutRef</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683139"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-174"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_utxoRowTxOut"><span class="annot"><span class="annottext">UtxoRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_utxoRowTxOut"><span class="hs-identifier hs-var hs-var">_utxoRowTxOut</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683139"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-175"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. UtxoRowT f -&gt; Rep (UtxoRowT f) x)
-&gt; (forall x. Rep (UtxoRowT f) x -&gt; UtxoRowT f)
-&gt; Generic (UtxoRowT f)
forall x. Rep (UtxoRowT f) x -&gt; UtxoRowT f
forall x. UtxoRowT f -&gt; Rep (UtxoRowT f) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (f :: * -&gt; *) x. Rep (UtxoRowT f) x -&gt; UtxoRowT f
forall (f :: * -&gt; *) x. UtxoRowT f -&gt; Rep (UtxoRowT f) x
$cto :: forall (f :: * -&gt; *) x. Rep (UtxoRowT f) x -&gt; UtxoRowT f
$cfrom :: forall (f :: * -&gt; *) x. UtxoRowT f -&gt; Rep (UtxoRowT f) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682742"><span id="local-6989586621679682744"><span class="annot"><span class="annottext">TableSkeleton UtxoRowT
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; UtxoRowT f -&gt; UtxoRowT g -&gt; m (UtxoRowT h))
-&gt; TableSkeleton UtxoRowT -&gt; Beamable UtxoRowT
forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; UtxoRowT f -&gt; UtxoRowT g -&gt; m (UtxoRowT h)
forall (table :: (* -&gt; *) -&gt; *).
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; table f -&gt; table g -&gt; m (table h))
-&gt; TableSkeleton table -&gt; Beamable table
tblSkeleton :: TableSkeleton UtxoRowT
$ctblSkeleton :: TableSkeleton UtxoRowT
zipBeamFieldsM :: (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; UtxoRowT f -&gt; UtxoRowT g -&gt; m (UtxoRowT h)
$czipBeamFieldsM :: forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; UtxoRowT f -&gt; UtxoRowT g -&gt; m (UtxoRowT h)
</span><a href="#local-6989586621679682742"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Beamable</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span class="hs-keyword">type</span><span> </span><span id="UtxoRow"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UtxoRow"><span class="hs-identifier hs-var">UtxoRow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UtxoRowT"><span class="hs-identifier hs-type">UtxoRowT</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Table</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UtxoRowT"><span class="hs-identifier hs-type">UtxoRowT</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-180"></span><span>    </span><span class="hs-keyword">data</span><span> </span><span id="PrimaryKey"><span class="annot"><span class="hs-identifier hs-var">PrimaryKey</span></span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UtxoRowT"><span class="hs-identifier hs-type">UtxoRowT</span></a></span><span> </span><span id="local-6989586621679683140"><span class="annot"><a href="#local-6989586621679683140"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UtxoRowOutRef"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UtxoRowOutRef"><span class="hs-identifier hs-var">UtxoRowOutRef</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Columnar</span></span><span> </span><span class="annot"><a href="#local-6989586621679683140"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. PrimaryKey UtxoRowT f -&gt; Rep (PrimaryKey UtxoRowT f) x)
-&gt; (forall x.
    Rep (PrimaryKey UtxoRowT f) x -&gt; PrimaryKey UtxoRowT f)
-&gt; Generic (PrimaryKey UtxoRowT f)
forall x. Rep (PrimaryKey UtxoRowT f) x -&gt; PrimaryKey UtxoRowT f
forall x. PrimaryKey UtxoRowT f -&gt; Rep (PrimaryKey UtxoRowT f) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (f :: * -&gt; *) x.
Rep (PrimaryKey UtxoRowT f) x -&gt; PrimaryKey UtxoRowT f
forall (f :: * -&gt; *) x.
PrimaryKey UtxoRowT f -&gt; Rep (PrimaryKey UtxoRowT f) x
$cto :: forall (f :: * -&gt; *) x.
Rep (PrimaryKey UtxoRowT f) x -&gt; PrimaryKey UtxoRowT f
$cfrom :: forall (f :: * -&gt; *) x.
PrimaryKey UtxoRowT f -&gt; Rep (PrimaryKey UtxoRowT f) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682728"><span id="local-6989586621679682730"><span class="annot"><span class="annottext">TableSkeleton (PrimaryKey UtxoRowT)
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; PrimaryKey UtxoRowT f
 -&gt; PrimaryKey UtxoRowT g
 -&gt; m (PrimaryKey UtxoRowT h))
-&gt; TableSkeleton (PrimaryKey UtxoRowT)
-&gt; Beamable (PrimaryKey UtxoRowT)
forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey UtxoRowT f
-&gt; PrimaryKey UtxoRowT g
-&gt; m (PrimaryKey UtxoRowT h)
forall (table :: (* -&gt; *) -&gt; *).
(forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
 Applicative m =&gt;
 (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
 -&gt; table f -&gt; table g -&gt; m (table h))
-&gt; TableSkeleton table -&gt; Beamable table
tblSkeleton :: TableSkeleton (PrimaryKey UtxoRowT)
$ctblSkeleton :: TableSkeleton (PrimaryKey UtxoRowT)
zipBeamFieldsM :: (forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey UtxoRowT f
-&gt; PrimaryKey UtxoRowT g
-&gt; m (PrimaryKey UtxoRowT h)
$czipBeamFieldsM :: forall (m :: * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *).
Applicative m =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; PrimaryKey UtxoRowT f
-&gt; PrimaryKey UtxoRowT g
-&gt; m (PrimaryKey UtxoRowT h)
</span><a href="#local-6989586621679682728"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Beamable</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>    </span><span id="local-6989586621679682727"><span class="annot"><span class="annottext">primaryKey :: UtxoRowT column -&gt; PrimaryKey UtxoRowT column
</span><a href="#local-6989586621679682727"><span class="hs-identifier hs-var hs-var hs-var hs-var">primaryKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Columnar column ByteString -&gt; PrimaryKey UtxoRowT column
forall (f :: * -&gt; *).
Columnar f ByteString -&gt; PrimaryKey UtxoRowT f
</span><a href="Plutus.ChainIndex.DbSchema.html#UtxoRowOutRef"><span class="hs-identifier hs-var">UtxoRowOutRef</span></a></span><span> </span><span class="annot"><span class="annottext">(Columnar column ByteString -&gt; PrimaryKey UtxoRowT column)
-&gt; (UtxoRowT column -&gt; Columnar column ByteString)
-&gt; UtxoRowT column
-&gt; PrimaryKey UtxoRowT column
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UtxoRowT column -&gt; Columnar column ByteString
forall (f :: * -&gt; *). UtxoRowT f -&gt; Columnar f ByteString
</span><a href="Plutus.ChainIndex.DbSchema.html#_utxoRowOutRef"><span class="hs-identifier hs-var hs-var">_utxoRowOutRef</span></a></span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span id="local-6989586621679682726"><span id="local-6989586621679682724"><span id="local-6989586621679682725"></span></span><span class="hs-keyword">data</span><span> </span><span id="Db"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Db"><span class="hs-identifier hs-var">Db</span></a></span></span><span> </span><span id="local-6989586621679682723"><span class="annot"><a href="#local-6989586621679682723"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Db"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Db"><span class="hs-identifier hs-var">Db</span></a></span></span><span>
</span><span id="line-184"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="datumRows"><span class="annot"><span class="annottext">Db f -&gt; f (TableEntity DatumRowT)
</span><a href="Plutus.ChainIndex.DbSchema.html#datumRows"><span class="hs-identifier hs-var hs-var">datumRows</span></a></span></span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679682723"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TableEntity</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DatumRowT"><span class="hs-identifier hs-type">DatumRowT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="scriptRows"><span class="annot"><span class="annottext">Db f -&gt; f (TableEntity ScriptRowT)
</span><a href="Plutus.ChainIndex.DbSchema.html#scriptRows"><span class="hs-identifier hs-var hs-var">scriptRows</span></a></span></span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679682723"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TableEntity</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#ScriptRowT"><span class="hs-identifier hs-type">ScriptRowT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="redeemerRows"><span class="annot"><span class="annottext">Db f -&gt; f (TableEntity RedeemerRowT)
</span><a href="Plutus.ChainIndex.DbSchema.html#redeemerRows"><span class="hs-identifier hs-var hs-var">redeemerRows</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679682723"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TableEntity</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#RedeemerRowT"><span class="hs-identifier hs-type">RedeemerRowT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="txRows"><span class="annot"><span class="annottext">Db f -&gt; f (TableEntity TxRowT)
</span><a href="Plutus.ChainIndex.DbSchema.html#txRows"><span class="hs-identifier hs-var hs-var">txRows</span></a></span></span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679682723"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TableEntity</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TxRowT"><span class="hs-identifier hs-type">TxRowT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="utxoOutRefRows"><span class="annot"><span class="annottext">Db f -&gt; f (TableEntity UtxoRowT)
</span><a href="Plutus.ChainIndex.DbSchema.html#utxoOutRefRows"><span class="hs-identifier hs-var hs-var">utxoOutRefRows</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679682723"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TableEntity</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UtxoRowT"><span class="hs-identifier hs-type">UtxoRowT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="addressRows"><span class="annot"><span class="annottext">Db f -&gt; f (TableEntity AddressRowT)
</span><a href="Plutus.ChainIndex.DbSchema.html#addressRows"><span class="hs-identifier hs-var hs-var">addressRows</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679682723"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TableEntity</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AddressRowT"><span class="hs-identifier hs-type">AddressRowT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="assetClassRows"><span class="annot"><span class="annottext">Db f -&gt; f (TableEntity AssetClassRowT)
</span><a href="Plutus.ChainIndex.DbSchema.html#assetClassRows"><span class="hs-identifier hs-var hs-var">assetClassRows</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679682723"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TableEntity</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AssetClassRowT"><span class="hs-identifier hs-type">AssetClassRowT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="tipRows"><span class="annot"><span class="annottext">Db f -&gt; f (TableEntity TipRowT)
</span><a href="Plutus.ChainIndex.DbSchema.html#tipRows"><span class="hs-identifier hs-var hs-var">tipRows</span></a></span></span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679682723"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TableEntity</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TipRowT"><span class="hs-identifier hs-type">TipRowT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-192"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="unspentOutputRows"><span class="annot"><span class="annottext">Db f -&gt; f (TableEntity UnspentOutputRowT)
</span><a href="Plutus.ChainIndex.DbSchema.html#unspentOutputRows"><span class="hs-identifier hs-var hs-var">unspentOutputRows</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679682723"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TableEntity</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UnspentOutputRowT"><span class="hs-identifier hs-type">UnspentOutputRowT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="unmatchedInputRows"><span class="annot"><span class="annottext">Db f -&gt; f (TableEntity UnmatchedInputRowT)
</span><a href="Plutus.ChainIndex.DbSchema.html#unmatchedInputRows"><span class="hs-identifier hs-var hs-var">unmatchedInputRows</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679682723"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TableEntity</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UnmatchedInputRowT"><span class="hs-identifier hs-type">UnmatchedInputRowT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. Db f -&gt; Rep (Db f) x)
-&gt; (forall x. Rep (Db f) x -&gt; Db f) -&gt; Generic (Db f)
forall x. Rep (Db f) x -&gt; Db f
forall x. Db f -&gt; Rep (Db f) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (f :: * -&gt; *) x. Rep (Db f) x -&gt; Db f
forall (f :: * -&gt; *) x. Db f -&gt; Rep (Db f) x
$cto :: forall (f :: * -&gt; *) x. Rep (Db f) x -&gt; Db f
$cfrom :: forall (f :: * -&gt; *) x. Db f -&gt; Rep (Db f) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682708"><span class="annot"><span class="hs-identifier hs-type">Database</span></span><span> </span><span class="annot"><a href="#local-6989586621679682726"><span class="hs-identifier hs-type">be</span></a></span></span><span class="hs-special">)</span></span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span class="hs-keyword">type</span><span> </span><span id="AllTables"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AllTables"><span class="hs-identifier hs-var">AllTables</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679682706"><span class="annot"><a href="#local-6989586621679682706"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Constraint</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679682705"><span class="annot"><a href="#local-6989586621679682705"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-197"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679682706"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679682705"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TableEntity</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DatumRowT"><span class="hs-identifier hs-type">DatumRowT</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679682706"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679682705"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TableEntity</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#ScriptRowT"><span class="hs-identifier hs-type">ScriptRowT</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679682706"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679682705"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TableEntity</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#RedeemerRowT"><span class="hs-identifier hs-type">RedeemerRowT</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679682706"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679682705"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TableEntity</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TxRowT"><span class="hs-identifier hs-type">TxRowT</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679682706"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679682705"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TableEntity</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UtxoRowT"><span class="hs-identifier hs-type">UtxoRowT</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-202"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679682706"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679682705"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TableEntity</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AddressRowT"><span class="hs-identifier hs-type">AddressRowT</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679682706"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679682705"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TableEntity</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AssetClassRowT"><span class="hs-identifier hs-type">AssetClassRowT</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679682706"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679682705"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TableEntity</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TipRowT"><span class="hs-identifier hs-type">TipRowT</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-205"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679682706"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679682705"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TableEntity</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UnspentOutputRowT"><span class="hs-identifier hs-type">UnspentOutputRowT</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679682706"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679682705"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TableEntity</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#UnmatchedInputRowT"><span class="hs-identifier hs-type">UnmatchedInputRowT</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span id="local-6989586621679682699"><span id="local-6989586621679682701"><span id="local-6989586621679682703"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679682697"><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">GenericSemigroupMonoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Db"><span class="hs-identifier hs-type">Db</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679682697"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AllTables"><span class="hs-identifier hs-type">AllTables</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679682697"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Db"><span class="hs-identifier hs-type">Db</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679682697"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-209"></span><span id="local-6989586621679682690"><span id="local-6989586621679682692"><span id="local-6989586621679682694"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679682688"><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">GenericSemigroupMonoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Db"><span class="hs-identifier hs-type">Db</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679682688"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AllTables"><span class="hs-identifier hs-type">AllTables</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679682688"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Db"><span class="hs-identifier hs-type">Db</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679682688"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#db"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">DatabaseSettings</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sqlite</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Db"><span class="hs-identifier hs-type">Db</span></a></span><span>
</span><span id="line-212"></span><span id="db"><span class="annot"><span class="annottext">db :: DatabaseSettings Sqlite Db
</span><a href="Plutus.ChainIndex.DbSchema.html#db"><span class="hs-identifier hs-var hs-var">db</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CheckedDatabaseSettings Sqlite Db -&gt; DatabaseSettings Sqlite Db
forall be (db :: (* -&gt; *) -&gt; *).
Database be db =&gt;
CheckedDatabaseSettings be db -&gt; DatabaseSettings be db
</span><span class="hs-identifier hs-var">unCheckDatabase</span></span><span> </span><span class="annot"><span class="annottext">CheckedDatabaseSettings Sqlite Db
</span><a href="Plutus.ChainIndex.DbSchema.html#checkedSqliteDb"><span class="hs-identifier hs-var">checkedSqliteDb</span></a></span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#checkedSqliteDb"><span class="hs-identifier hs-type">checkedSqliteDb</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CheckedDatabaseSettings</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sqlite</span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Db"><span class="hs-identifier hs-type">Db</span></a></span><span>
</span><span id="line-215"></span><span id="checkedSqliteDb"><span class="annot"><span class="annottext">checkedSqliteDb :: CheckedDatabaseSettings Sqlite Db
</span><a href="Plutus.ChainIndex.DbSchema.html#checkedSqliteDb"><span class="hs-identifier hs-var hs-var">checkedSqliteDb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CheckedDatabaseSettings Sqlite Db
forall be (db :: (* -&gt; *) -&gt; *).
(Generic (CheckedDatabaseSettings be db),
 GAutoMigratableDb be (Rep (CheckedDatabaseSettings be db))) =&gt;
CheckedDatabaseSettings be db
</span><span class="hs-identifier hs-var">defaultMigratableDbSettings</span></span><span>
</span><span id="line-216"></span><span>    </span><span class="annot"><span class="annottext">CheckedDatabaseSettings Sqlite Db
-&gt; DatabaseModification (CheckedDatabaseEntity Sqlite Db) Sqlite Db
-&gt; CheckedDatabaseSettings Sqlite Db
forall (db :: (* -&gt; *) -&gt; *) be
       (entity :: * -&gt; ((* -&gt; *) -&gt; *) -&gt; * -&gt; *).
Database be db =&gt;
db (entity be db)
-&gt; DatabaseModification (entity be db) be db -&gt; db (entity be db)
</span><span class="hs-operator hs-var">`withDbModification`</span></span><span> </span><span class="annot"><span class="annottext">DatabaseModification Any Any Db
forall (f :: * -&gt; *) be (db :: (* -&gt; *) -&gt; *).
Database be db =&gt;
DatabaseModification f be db
</span><span class="hs-identifier hs-var">dbModification</span></span><span>
</span><span id="line-217"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">datumRows :: EntityModification
  (CheckedDatabaseEntity Sqlite Db) Sqlite (TableEntity DatumRowT)
</span><a href="Plutus.ChainIndex.DbSchema.html#datumRows"><span class="hs-identifier hs-var">datumRows</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text)
-&gt; EntityModification
     (CheckedDatabaseEntity Sqlite Db) Sqlite (TableEntity DatumRowT)
forall be (db :: (* -&gt; *) -&gt; *) ent.
(Text -&gt; Text)
-&gt; EntityModification (CheckedDatabaseEntity be db) be ent
</span><span class="hs-identifier hs-var">renameCheckedEntity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;datums&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">scriptRows :: EntityModification
  (CheckedDatabaseEntity Sqlite Db) Sqlite (TableEntity ScriptRowT)
</span><a href="Plutus.ChainIndex.DbSchema.html#scriptRows"><span class="hs-identifier hs-var">scriptRows</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text)
-&gt; EntityModification
     (CheckedDatabaseEntity Sqlite Db) Sqlite (TableEntity ScriptRowT)
forall be (db :: (* -&gt; *) -&gt; *) ent.
(Text -&gt; Text)
-&gt; EntityModification (CheckedDatabaseEntity be db) be ent
</span><span class="hs-identifier hs-var">renameCheckedEntity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;scripts&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-219"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">redeemerRows :: EntityModification
  (CheckedDatabaseEntity Sqlite Db) Sqlite (TableEntity RedeemerRowT)
</span><a href="Plutus.ChainIndex.DbSchema.html#redeemerRows"><span class="hs-identifier hs-var">redeemerRows</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text)
-&gt; EntityModification
     (CheckedDatabaseEntity Sqlite Db) Sqlite (TableEntity RedeemerRowT)
forall be (db :: (* -&gt; *) -&gt; *) ent.
(Text -&gt; Text)
-&gt; EntityModification (CheckedDatabaseEntity be db) be ent
</span><span class="hs-identifier hs-var">renameCheckedEntity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;redeemers&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-220"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">txRows :: EntityModification
  (CheckedDatabaseEntity Sqlite Db) Sqlite (TableEntity TxRowT)
</span><a href="Plutus.ChainIndex.DbSchema.html#txRows"><span class="hs-identifier hs-var">txRows</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text)
-&gt; EntityModification
     (CheckedDatabaseEntity Sqlite Db) Sqlite (TableEntity TxRowT)
forall be (db :: (* -&gt; *) -&gt; *) ent.
(Text -&gt; Text)
-&gt; EntityModification (CheckedDatabaseEntity be db) be ent
</span><span class="hs-identifier hs-var">renameCheckedEntity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;txs&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-221"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">utxoOutRefRows :: EntityModification
  (CheckedDatabaseEntity Sqlite Db) Sqlite (TableEntity UtxoRowT)
</span><a href="Plutus.ChainIndex.DbSchema.html#utxoOutRefRows"><span class="hs-identifier hs-var">utxoOutRefRows</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text)
-&gt; EntityModification
     (CheckedDatabaseEntity Sqlite Db) Sqlite (TableEntity UtxoRowT)
forall be (db :: (* -&gt; *) -&gt; *) ent.
(Text -&gt; Text)
-&gt; EntityModification (CheckedDatabaseEntity be db) be ent
</span><span class="hs-identifier hs-var">renameCheckedEntity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;utxo_out_refs&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">addressRows :: EntityModification
  (CheckedDatabaseEntity Sqlite Db) Sqlite (TableEntity AddressRowT)
</span><a href="Plutus.ChainIndex.DbSchema.html#addressRows"><span class="hs-identifier hs-var">addressRows</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text)
-&gt; EntityModification
     (CheckedDatabaseEntity Sqlite Db) Sqlite (TableEntity AddressRowT)
forall be (db :: (* -&gt; *) -&gt; *) ent.
(Text -&gt; Text)
-&gt; EntityModification (CheckedDatabaseEntity be db) be ent
</span><span class="hs-identifier hs-var">renameCheckedEntity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;addresses&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">assetClassRows :: EntityModification
  (CheckedDatabaseEntity Sqlite Db)
  Sqlite
  (TableEntity AssetClassRowT)
</span><a href="Plutus.ChainIndex.DbSchema.html#assetClassRows"><span class="hs-identifier hs-var">assetClassRows</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text)
-&gt; EntityModification
     (CheckedDatabaseEntity Sqlite Db)
     Sqlite
     (TableEntity AssetClassRowT)
forall be (db :: (* -&gt; *) -&gt; *) ent.
(Text -&gt; Text)
-&gt; EntityModification (CheckedDatabaseEntity be db) be ent
</span><span class="hs-identifier hs-var">renameCheckedEntity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;asset_classes&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tipRows :: EntityModification
  (CheckedDatabaseEntity Sqlite Db) Sqlite (TableEntity TipRowT)
</span><a href="Plutus.ChainIndex.DbSchema.html#tipRows"><span class="hs-identifier hs-var">tipRows</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text)
-&gt; EntityModification
     (CheckedDatabaseEntity Sqlite Db) Sqlite (TableEntity TipRowT)
forall be (db :: (* -&gt; *) -&gt; *) ent.
(Text -&gt; Text)
-&gt; EntityModification (CheckedDatabaseEntity be db) be ent
</span><span class="hs-identifier hs-var">renameCheckedEntity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;tips&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-225"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">unspentOutputRows :: EntityModification
  (CheckedDatabaseEntity Sqlite Db)
  Sqlite
  (TableEntity UnspentOutputRowT)
</span><a href="Plutus.ChainIndex.DbSchema.html#unspentOutputRows"><span class="hs-identifier hs-var">unspentOutputRows</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text)
-&gt; EntityModification
     (CheckedDatabaseEntity Sqlite Db)
     Sqlite
     (TableEntity UnspentOutputRowT)
forall be (db :: (* -&gt; *) -&gt; *) ent.
(Text -&gt; Text)
-&gt; EntityModification (CheckedDatabaseEntity be db) be ent
</span><span class="hs-identifier hs-var">renameCheckedEntity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;unspent_outputs&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-226"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">unmatchedInputRows :: EntityModification
  (CheckedDatabaseEntity Sqlite Db)
  Sqlite
  (TableEntity UnmatchedInputRowT)
</span><a href="Plutus.ChainIndex.DbSchema.html#unmatchedInputRows"><span class="hs-identifier hs-var">unmatchedInputRows</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text)
-&gt; EntityModification
     (CheckedDatabaseEntity Sqlite Db)
     Sqlite
     (TableEntity UnmatchedInputRowT)
forall be (db :: (* -&gt; *) -&gt; *) ent.
(Text -&gt; Text)
-&gt; EntityModification (CheckedDatabaseEntity be db) be ent
</span><span class="hs-identifier hs-var">renameCheckedEntity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;unmatched_inputs&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span class="hs-comment">-- | Instances of @HasDbType@ can be converted to types that can be stored in the database.</span><span>
</span><span id="line-230"></span><span class="hs-comment">-- `toDbValue` and `fromDbValue` must be inverses of each other.</span><span>
</span><span id="line-231"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FromBackendRow</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sqlite</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DbType"><span class="hs-identifier hs-type">DbType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679683073"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="HasDbType"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-var">HasDbType</span></a></span></span><span> </span><span id="local-6989586621679683073"><span class="annot"><a href="#local-6989586621679683073"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-232"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="DbType"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DbType"><span class="hs-identifier hs-var">DbType</span></a></span></span><span> </span><span id="local-6989586621679683073"><span class="annot"><a href="#local-6989586621679683073"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-233"></span><span>    </span><span id="toDbValue"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#toDbValue"><span class="hs-identifier hs-type">toDbValue</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679683073"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DbType"><span class="hs-identifier hs-type">DbType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679683073"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-234"></span><span>    </span><span id="fromDbValue"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#fromDbValue"><span class="hs-identifier hs-type">fromDbValue</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DbType"><span class="hs-identifier hs-type">DbType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679683073"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679683073"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-237"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="DbType"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DbType"><span class="hs-identifier hs-var">DbType</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-238"></span><span>    </span><span id="local-6989586621679682678"><span class="annot"><span class="annottext">toDbValue :: ByteString -&gt; DbType ByteString
</span><a href="#local-6989586621679682678"><span class="hs-identifier hs-var hs-var hs-var hs-var">toDbValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; DbType ByteString
forall a. a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-239"></span><span>    </span><span id="local-6989586621679682676"><span class="annot"><span class="annottext">fromDbValue :: DbType ByteString -&gt; ByteString
</span><a href="#local-6989586621679682676"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromDbValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DbType ByteString -&gt; ByteString
forall a. a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-240"></span><span>
</span><span id="line-241"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.BuiltinByteString</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-242"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="DbType"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DbType"><span class="hs-identifier hs-var">DbType</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.BuiltinByteString</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-243"></span><span>    </span><span id="local-6989586621679682672"><span class="annot"><span class="annottext">toDbValue :: BuiltinByteString -&gt; DbType BuiltinByteString
</span><a href="#local-6989586621679682672"><span class="hs-identifier hs-var hs-var hs-var hs-var">toDbValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; DbType BuiltinByteString
forall arep a. FromBuiltin arep a =&gt; arep -&gt; a
</span><span class="hs-identifier hs-var">PlutusTx.fromBuiltin</span></span><span>
</span><span id="line-244"></span><span>    </span><span id="local-6989586621679682670"><span class="annot"><span class="annottext">fromDbValue :: DbType BuiltinByteString -&gt; BuiltinByteString
</span><a href="#local-6989586621679682670"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromDbValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DbType BuiltinByteString -&gt; BuiltinByteString
forall a arep. ToBuiltin a arep =&gt; a -&gt; arep
</span><span class="hs-identifier hs-var">PlutusTx.toBuiltin</span></span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span id="local-6989586621679682664"><span id="local-6989586621679682666"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.BuiltinByteString</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">DatumHash</span></span></span></span><span>
</span><span id="line-247"></span><span id="local-6989586621679682659"><span id="local-6989586621679682661"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.BuiltinByteString</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ValidatorHash</span></span></span></span><span>
</span><span id="line-248"></span><span id="local-6989586621679682654"><span id="local-6989586621679682656"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.BuiltinByteString</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">MintingPolicyHash</span></span></span></span><span>
</span><span id="line-249"></span><span id="local-6989586621679682649"><span id="local-6989586621679682651"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.BuiltinByteString</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">RedeemerHash</span></span></span></span><span>
</span><span id="line-250"></span><span id="local-6989586621679682644"><span id="local-6989586621679682646"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.BuiltinByteString</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">StakeValidatorHash</span></span></span></span><span>
</span><span id="line-251"></span><span id="local-6989586621679682639"><span id="local-6989586621679682641"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.BuiltinByteString</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxId</span></span></span></span><span>
</span><span id="line-252"></span><span id="local-6989586621679682634"><span id="local-6989586621679682636"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockId</span></span></span></span><span>
</span><span id="line-253"></span><span id="local-6989586621679682629"><span id="local-6989586621679682631"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.BuiltinByteString</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScriptHash</span></span></span></span><span>
</span><span id="line-254"></span><span>
</span><span id="line-255"></span><span class="hs-keyword">newtype</span><span> </span><span id="Serialisable"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Serialisable"><span class="hs-identifier hs-var">Serialisable</span></a></span></span><span> </span><span id="local-6989586621679683052"><span class="annot"><a href="#local-6989586621679683052"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Serialisable"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Serialisable"><span class="hs-identifier hs-var">Serialisable</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="getSerialisable"><span class="annot"><span class="annottext">Serialisable a -&gt; a
</span><a href="Plutus.ChainIndex.DbSchema.html#getSerialisable"><span class="hs-identifier hs-var hs-var">getSerialisable</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679683052"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-256"></span><span id="local-6989586621679682626"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Serialise</span></span><span> </span><span class="annot"><a href="#local-6989586621679682626"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Serialisable"><span class="hs-identifier hs-type">Serialisable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679682626"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-257"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="DbType"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DbType"><span class="hs-identifier hs-var">DbType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Serialisable"><span class="hs-identifier hs-type">Serialisable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679682626"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-258"></span><span>    </span><span id="local-6989586621679682622"><span class="annot"><span class="annottext">fromDbValue :: DbType (Serialisable a) -&gt; Serialisable a
</span><a href="#local-6989586621679682622"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromDbValue</span></a></span></span><span>
</span><span id="line-259"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Serialisable a
forall a. a -&gt; Serialisable a
</span><a href="Plutus.ChainIndex.DbSchema.html#Serialisable"><span class="hs-identifier hs-var">Serialisable</span></a></span><span>
</span><span id="line-260"></span><span>        </span><span class="annot"><span class="annottext">(a -&gt; Serialisable a)
-&gt; (ByteString -&gt; a) -&gt; ByteString -&gt; Serialisable a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Either DeserialiseFailure a -&gt; a
forall b a. b -&gt; Either a b -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromRight</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; a
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Deserialisation failed. Delete your chain index database and resync.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-261"></span><span>        </span><span class="annot"><span class="annottext">(Either DeserialiseFailure a -&gt; a)
-&gt; (ByteString -&gt; Either DeserialiseFailure a) -&gt; ByteString -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either DeserialiseFailure a
forall a. Serialise a =&gt; ByteString -&gt; Either DeserialiseFailure a
</span><span class="hs-identifier hs-var">deserialiseOrFail</span></span><span>
</span><span id="line-262"></span><span>        </span><span class="annot"><span class="annottext">(ByteString -&gt; Either DeserialiseFailure a)
-&gt; (ByteString -&gt; ByteString)
-&gt; ByteString
-&gt; Either DeserialiseFailure a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">BSL.fromStrict</span></span><span>
</span><span id="line-263"></span><span>    </span><span id="local-6989586621679682619"><span class="annot"><span class="annottext">toDbValue :: Serialisable a -&gt; DbType (Serialisable a)
</span><a href="#local-6989586621679682619"><span class="hs-identifier hs-var hs-var hs-var hs-var">toDbValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">BSL.toStrict</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (Serialisable a -&gt; ByteString) -&gt; Serialisable a -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; ByteString
forall a. Serialise a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">serialise</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; ByteString)
-&gt; (Serialisable a -&gt; a) -&gt; Serialisable a -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Serialisable a -&gt; a
forall a. Serialisable a -&gt; a
</span><a href="Plutus.ChainIndex.DbSchema.html#getSerialisable"><span class="hs-identifier hs-var hs-var">getSerialisable</span></a></span></span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span id="local-6989586621679682613"><span id="local-6989586621679682615"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Serialisable"><span class="hs-identifier hs-type">Serialisable</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Datum</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Datum</span></span></span></span><span>
</span><span id="line-266"></span><span id="local-6989586621679682608"><span id="local-6989586621679682610"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Serialisable"><span class="hs-identifier hs-type">Serialisable</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Redeemer</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Redeemer</span></span></span></span><span>
</span><span id="line-267"></span><span id="local-6989586621679682603"><span id="local-6989586621679682605"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Serialisable"><span class="hs-identifier hs-type">Serialisable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Versioned</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">MintingPolicy</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Versioned</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">MintingPolicy</span></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-268"></span><span id="local-6989586621679682598"><span id="local-6989586621679682600"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Serialisable"><span class="hs-identifier hs-type">Serialisable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Versioned</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">StakeValidator</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Versioned</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">StakeValidator</span></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-269"></span><span id="local-6989586621679682593"><span id="local-6989586621679682595"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Serialisable"><span class="hs-identifier hs-type">Serialisable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Versioned</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Validator</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Versioned</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Validator</span></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-270"></span><span id="local-6989586621679682588"><span id="local-6989586621679682590"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Serialisable"><span class="hs-identifier hs-type">Serialisable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Versioned</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Script</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Versioned</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Script</span></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-271"></span><span id="local-6989586621679682583"><span id="local-6989586621679682585"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Serialisable"><span class="hs-identifier hs-type">Serialisable</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTx"><span class="hs-identifier hs-type">ChainIndexTx</span></a></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTx"><span class="hs-identifier hs-type">ChainIndexTx</span></a></span></span></span><span>
</span><span id="line-272"></span><span id="local-6989586621679682578"><span id="local-6989586621679682580"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Serialisable"><span class="hs-identifier hs-type">Serialisable</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">DecoratedTxOut</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">DecoratedTxOut</span></span></span></span><span>
</span><span id="line-273"></span><span id="local-6989586621679682573"><span id="local-6989586621679682575"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Serialisable"><span class="hs-identifier hs-type">Serialisable</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span></span></span><span>
</span><span id="line-274"></span><span id="local-6989586621679682568"><span id="local-6989586621679682570"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Serialisable"><span class="hs-identifier hs-type">Serialisable</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOut"><span class="hs-identifier hs-type">CI.ChainIndexTxOut</span></a></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTxOut"><span class="hs-identifier hs-type">CI.ChainIndexTxOut</span></a></span></span></span><span>
</span><span id="line-275"></span><span id="local-6989586621679682563"><span id="local-6989586621679682565"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Serialisable"><span class="hs-identifier hs-type">Serialisable</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Credential</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Credential</span></span></span></span><span>
</span><span id="line-276"></span><span id="local-6989586621679682558"><span id="local-6989586621679682560"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#Serialisable"><span class="hs-identifier hs-type">Serialisable</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AssetClass</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AssetClass</span></span></span></span><span>
</span><span id="line-277"></span><span>
</span><span id="line-278"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Slot</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-279"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="DbType"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DbType"><span class="hs-identifier hs-var">DbType</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Slot</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span> </span><span class="hs-comment">-- In Plutus Slot is Integer, but in the Cardano API it is Word64, so this is safe</span><span>
</span><span id="line-280"></span><span>    </span><span id="local-6989586621679682554"><span class="annot"><span class="annottext">toDbValue :: Slot -&gt; DbType Slot
</span><a href="#local-6989586621679682554"><span class="hs-identifier hs-var hs-var hs-var hs-var">toDbValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Slot -&gt; DbType Slot
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span>
</span><span id="line-281"></span><span>    </span><span id="local-6989586621679682553"><span class="annot"><span class="annottext">fromDbValue :: DbType Slot -&gt; Slot
</span><a href="#local-6989586621679682553"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromDbValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DbType Slot -&gt; Slot
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#BlockNumber"><span class="hs-identifier hs-type">BlockNumber</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-284"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="DbType"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DbType"><span class="hs-identifier hs-var">DbType</span></a></span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#BlockNumber"><span class="hs-identifier hs-type">BlockNumber</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span>
</span><span id="line-285"></span><span>    </span><span id="local-6989586621679682549"><span class="annot"><span class="annottext">toDbValue :: BlockNumber -&gt; DbType BlockNumber
</span><a href="#local-6989586621679682549"><span class="hs-identifier hs-var hs-var hs-var hs-var">toDbValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BlockNumber -&gt; DbType BlockNumber
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">coerce</span></a></span><span>
</span><span id="line-286"></span><span>    </span><span id="local-6989586621679682548"><span class="annot"><span class="annottext">fromDbValue :: DbType BlockNumber -&gt; BlockNumber
</span><a href="#local-6989586621679682548"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromDbValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DbType BlockNumber -&gt; BlockNumber
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">coerce</span></a></span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Tip"><span class="hs-identifier hs-type">Tip</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-289"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="DbType"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DbType"><span class="hs-identifier hs-var">DbType</span></a></span></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Tip"><span class="hs-identifier hs-type">Tip</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TipRow"><span class="hs-identifier hs-type">TipRow</span></a></span><span>
</span><span id="line-290"></span><span>    </span><span id="local-6989586621679682544"><span class="annot"><span class="annottext">toDbValue :: Tip -&gt; DbType Tip
</span><a href="#local-6989586621679682544"><span class="hs-identifier hs-var hs-var hs-var hs-var">toDbValue</span></a></span></span><span> </span><span class="annot"><span class="annottext">Tip
</span><a href="Plutus.ChainIndex.Types.html#TipAtGenesis"><span class="hs-identifier hs-var">TipAtGenesis</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DbType Tip
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-291"></span><span>    </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#toDbValue"><span class="hs-identifier hs-var">toDbValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Types.html#Tip"><span class="hs-identifier hs-type">Tip</span></a></span><span> </span><span id="local-6989586621679682541"><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679682541"><span class="hs-identifier hs-var">sl</span></a></span></span><span> </span><span id="local-6989586621679682540"><span class="annot"><span class="annottext">BlockId
</span><a href="#local-6989586621679682540"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span id="local-6989586621679682539"><span class="annot"><span class="annottext">BlockNumber
</span><a href="#local-6989586621679682539"><span class="hs-identifier hs-var">bn</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TipRowT Identity -&gt; Maybe (TipRowT Identity)
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Columnar Identity Word64
-&gt; Columnar Identity ByteString
-&gt; Columnar Identity Word64
-&gt; TipRowT Identity
forall (f :: * -&gt; *).
Columnar f Word64
-&gt; Columnar f ByteString -&gt; Columnar f Word64 -&gt; TipRowT f
</span><a href="Plutus.ChainIndex.DbSchema.html#TipRow"><span class="hs-identifier hs-var">TipRow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Slot -&gt; DbType Slot
forall a. HasDbType a =&gt; a -&gt; DbType a
</span><a href="Plutus.ChainIndex.DbSchema.html#toDbValue"><span class="hs-identifier hs-var">toDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679682541"><span class="hs-identifier hs-var">sl</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BlockId -&gt; DbType BlockId
forall a. HasDbType a =&gt; a -&gt; DbType a
</span><a href="Plutus.ChainIndex.DbSchema.html#toDbValue"><span class="hs-identifier hs-var">toDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">BlockId
</span><a href="#local-6989586621679682540"><span class="hs-identifier hs-var">bi</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BlockNumber -&gt; DbType BlockNumber
forall a. HasDbType a =&gt; a -&gt; DbType a
</span><a href="Plutus.ChainIndex.DbSchema.html#toDbValue"><span class="hs-identifier hs-var">toDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">BlockNumber
</span><a href="#local-6989586621679682539"><span class="hs-identifier hs-var">bn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>    </span><span id="local-6989586621679682538"><span class="annot"><span class="annottext">fromDbValue :: DbType Tip -&gt; Tip
</span><a href="#local-6989586621679682538"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromDbValue</span></a></span></span><span> </span><span class="annot"><span class="annottext">DbType Tip
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tip
</span><a href="Plutus.ChainIndex.Types.html#TipAtGenesis"><span class="hs-identifier hs-var">TipAtGenesis</span></a></span><span>
</span><span id="line-293"></span><span>    </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#fromDbValue"><span class="hs-identifier hs-var">fromDbValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TipRow"><span class="hs-identifier hs-type">TipRow</span></a></span><span> </span><span id="local-6989586621679682537"><span class="annot"><a href="#local-6989586621679682537"><span class="hs-identifier hs-var">sl</span></a></span></span><span> </span><span id="local-6989586621679682536"><span class="annot"><a href="#local-6989586621679682536"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span id="local-6989586621679682535"><span class="annot"><a href="#local-6989586621679682535"><span class="hs-identifier hs-var">bn</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Slot -&gt; BlockId -&gt; BlockNumber -&gt; Tip
</span><a href="Plutus.ChainIndex.Types.html#Tip"><span class="hs-identifier hs-var">Tip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DbType Slot -&gt; Slot
forall a. HasDbType a =&gt; DbType a -&gt; a
</span><a href="Plutus.ChainIndex.DbSchema.html#fromDbValue"><span class="hs-identifier hs-var">fromDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar Identity Word64
DbType Slot
</span><a href="#local-6989586621679682537"><span class="hs-identifier hs-var">sl</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DbType BlockId -&gt; BlockId
forall a. HasDbType a =&gt; DbType a -&gt; a
</span><a href="Plutus.ChainIndex.DbSchema.html#fromDbValue"><span class="hs-identifier hs-var">fromDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
DbType BlockId
</span><a href="#local-6989586621679682536"><span class="hs-identifier hs-var">bi</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DbType BlockNumber -&gt; BlockNumber
forall a. HasDbType a =&gt; DbType a -&gt; a
</span><a href="Plutus.ChainIndex.DbSchema.html#fromDbValue"><span class="hs-identifier hs-var">fromDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar Identity Word64
DbType BlockNumber
</span><a href="#local-6989586621679682535"><span class="hs-identifier hs-var">bn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>
</span><span id="line-295"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DatumHash</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Datum</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-296"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="DbType"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DbType"><span class="hs-identifier hs-var">DbType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DatumHash</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Datum</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DatumRow"><span class="hs-identifier hs-type">DatumRow</span></a></span><span>
</span><span id="line-297"></span><span>    </span><span id="local-6989586621679682531"><span class="annot"><span class="annottext">toDbValue :: (DatumHash, Datum) -&gt; DbType (DatumHash, Datum)
</span><a href="#local-6989586621679682531"><span class="hs-identifier hs-var hs-var hs-var hs-var">toDbValue</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679682530"><span class="annot"><span class="annottext">DatumHash
</span><a href="#local-6989586621679682530"><span class="hs-identifier hs-var">hash</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682529"><span class="annot"><span class="annottext">Datum
</span><a href="#local-6989586621679682529"><span class="hs-identifier hs-var">datum</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
-&gt; Columnar Identity ByteString -&gt; DatumRowT Identity
forall (f :: * -&gt; *).
Columnar f ByteString -&gt; Columnar f ByteString -&gt; DatumRowT f
</span><a href="Plutus.ChainIndex.DbSchema.html#DatumRow"><span class="hs-identifier hs-var">DatumRow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatumHash -&gt; DbType DatumHash
forall a. HasDbType a =&gt; a -&gt; DbType a
</span><a href="Plutus.ChainIndex.DbSchema.html#toDbValue"><span class="hs-identifier hs-var">toDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">DatumHash
</span><a href="#local-6989586621679682530"><span class="hs-identifier hs-var">hash</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Datum -&gt; DbType Datum
forall a. HasDbType a =&gt; a -&gt; DbType a
</span><a href="Plutus.ChainIndex.DbSchema.html#toDbValue"><span class="hs-identifier hs-var">toDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Datum
</span><a href="#local-6989586621679682529"><span class="hs-identifier hs-var">datum</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-298"></span><span>    </span><span id="local-6989586621679682528"><span class="annot"><span class="annottext">fromDbValue :: DbType (DatumHash, Datum) -&gt; (DatumHash, Datum)
</span><a href="#local-6989586621679682528"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromDbValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DatumRow"><span class="hs-identifier hs-type">DatumRow</span></a></span><span> </span><span id="local-6989586621679682527"><span class="annot"><a href="#local-6989586621679682527"><span class="hs-identifier hs-var">hash</span></a></span></span><span> </span><span id="local-6989586621679682526"><span class="annot"><a href="#local-6989586621679682526"><span class="hs-identifier hs-var">datum</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DbType DatumHash -&gt; DatumHash
forall a. HasDbType a =&gt; DbType a -&gt; a
</span><a href="Plutus.ChainIndex.DbSchema.html#fromDbValue"><span class="hs-identifier hs-var">fromDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
DbType DatumHash
</span><a href="#local-6989586621679682527"><span class="hs-identifier hs-var">hash</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DbType Datum -&gt; Datum
forall a. HasDbType a =&gt; DbType a -&gt; a
</span><a href="Plutus.ChainIndex.DbSchema.html#fromDbValue"><span class="hs-identifier hs-var">fromDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
DbType Datum
</span><a href="#local-6989586621679682526"><span class="hs-identifier hs-var">datum</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-299"></span><span>
</span><span id="line-300"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ScriptHash</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Versioned</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Script</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-301"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="DbType"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DbType"><span class="hs-identifier hs-var">DbType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ScriptHash</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Versioned</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Script</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#ScriptRow"><span class="hs-identifier hs-type">ScriptRow</span></a></span><span>
</span><span id="line-302"></span><span>    </span><span id="local-6989586621679682522"><span class="annot"><span class="annottext">toDbValue :: (ScriptHash, Versioned Script)
-&gt; DbType (ScriptHash, Versioned Script)
</span><a href="#local-6989586621679682522"><span class="hs-identifier hs-var hs-var hs-var hs-var">toDbValue</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679682521"><span class="annot"><span class="annottext">ScriptHash
</span><a href="#local-6989586621679682521"><span class="hs-identifier hs-var">hash</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682520"><span class="annot"><span class="annottext">Versioned Script
</span><a href="#local-6989586621679682520"><span class="hs-identifier hs-var">script</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
-&gt; Columnar Identity ByteString -&gt; ScriptRowT Identity
forall (f :: * -&gt; *).
Columnar f ByteString -&gt; Columnar f ByteString -&gt; ScriptRowT f
</span><a href="Plutus.ChainIndex.DbSchema.html#ScriptRow"><span class="hs-identifier hs-var">ScriptRow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptHash -&gt; DbType ScriptHash
forall a. HasDbType a =&gt; a -&gt; DbType a
</span><a href="Plutus.ChainIndex.DbSchema.html#toDbValue"><span class="hs-identifier hs-var">toDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptHash
</span><a href="#local-6989586621679682521"><span class="hs-identifier hs-var">hash</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Versioned Script -&gt; DbType (Versioned Script)
forall a. HasDbType a =&gt; a -&gt; DbType a
</span><a href="Plutus.ChainIndex.DbSchema.html#toDbValue"><span class="hs-identifier hs-var">toDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Versioned Script
</span><a href="#local-6989586621679682520"><span class="hs-identifier hs-var">script</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-303"></span><span>    </span><span id="local-6989586621679682519"><span class="annot"><span class="annottext">fromDbValue :: DbType (ScriptHash, Versioned Script)
-&gt; (ScriptHash, Versioned Script)
</span><a href="#local-6989586621679682519"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromDbValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#ScriptRow"><span class="hs-identifier hs-type">ScriptRow</span></a></span><span> </span><span id="local-6989586621679682518"><span class="annot"><a href="#local-6989586621679682518"><span class="hs-identifier hs-var">hash</span></a></span></span><span> </span><span id="local-6989586621679682517"><span class="annot"><a href="#local-6989586621679682517"><span class="hs-identifier hs-var">script</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DbType ScriptHash -&gt; ScriptHash
forall a. HasDbType a =&gt; DbType a -&gt; a
</span><a href="Plutus.ChainIndex.DbSchema.html#fromDbValue"><span class="hs-identifier hs-var">fromDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
DbType ScriptHash
</span><a href="#local-6989586621679682518"><span class="hs-identifier hs-var">hash</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DbType (Versioned Script) -&gt; Versioned Script
forall a. HasDbType a =&gt; DbType a -&gt; a
</span><a href="Plutus.ChainIndex.DbSchema.html#fromDbValue"><span class="hs-identifier hs-var">fromDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
DbType (Versioned Script)
</span><a href="#local-6989586621679682517"><span class="hs-identifier hs-var">script</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span>
</span><span id="line-305"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RedeemerHash</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Redeemer</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-306"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="DbType"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DbType"><span class="hs-identifier hs-var">DbType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RedeemerHash</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Redeemer</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#RedeemerRow"><span class="hs-identifier hs-type">RedeemerRow</span></a></span><span>
</span><span id="line-307"></span><span>    </span><span id="local-6989586621679682513"><span class="annot"><span class="annottext">toDbValue :: (RedeemerHash, Redeemer) -&gt; DbType (RedeemerHash, Redeemer)
</span><a href="#local-6989586621679682513"><span class="hs-identifier hs-var hs-var hs-var hs-var">toDbValue</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679682512"><span class="annot"><span class="annottext">RedeemerHash
</span><a href="#local-6989586621679682512"><span class="hs-identifier hs-var">hash</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682511"><span class="annot"><span class="annottext">Redeemer
</span><a href="#local-6989586621679682511"><span class="hs-identifier hs-var">redeemer</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
-&gt; Columnar Identity ByteString -&gt; RedeemerRowT Identity
forall (f :: * -&gt; *).
Columnar f ByteString -&gt; Columnar f ByteString -&gt; RedeemerRowT f
</span><a href="Plutus.ChainIndex.DbSchema.html#RedeemerRow"><span class="hs-identifier hs-var">RedeemerRow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RedeemerHash -&gt; DbType RedeemerHash
forall a. HasDbType a =&gt; a -&gt; DbType a
</span><a href="Plutus.ChainIndex.DbSchema.html#toDbValue"><span class="hs-identifier hs-var">toDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">RedeemerHash
</span><a href="#local-6989586621679682512"><span class="hs-identifier hs-var">hash</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Redeemer -&gt; DbType Redeemer
forall a. HasDbType a =&gt; a -&gt; DbType a
</span><a href="Plutus.ChainIndex.DbSchema.html#toDbValue"><span class="hs-identifier hs-var">toDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Redeemer
</span><a href="#local-6989586621679682511"><span class="hs-identifier hs-var">redeemer</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span>    </span><span id="local-6989586621679682510"><span class="annot"><span class="annottext">fromDbValue :: DbType (RedeemerHash, Redeemer) -&gt; (RedeemerHash, Redeemer)
</span><a href="#local-6989586621679682510"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromDbValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#RedeemerRow"><span class="hs-identifier hs-type">RedeemerRow</span></a></span><span> </span><span id="local-6989586621679682509"><span class="annot"><a href="#local-6989586621679682509"><span class="hs-identifier hs-var">hash</span></a></span></span><span> </span><span id="local-6989586621679682508"><span class="annot"><a href="#local-6989586621679682508"><span class="hs-identifier hs-var">redeemer</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DbType RedeemerHash -&gt; RedeemerHash
forall a. HasDbType a =&gt; DbType a -&gt; a
</span><a href="Plutus.ChainIndex.DbSchema.html#fromDbValue"><span class="hs-identifier hs-var">fromDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
DbType RedeemerHash
</span><a href="#local-6989586621679682509"><span class="hs-identifier hs-var">hash</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DbType Redeemer -&gt; Redeemer
forall a. HasDbType a =&gt; DbType a -&gt; a
</span><a href="Plutus.ChainIndex.DbSchema.html#fromDbValue"><span class="hs-identifier hs-var">fromDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
DbType Redeemer
</span><a href="#local-6989586621679682508"><span class="hs-identifier hs-var">redeemer</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-309"></span><span>
</span><span id="line-310"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TxId</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTx"><span class="hs-identifier hs-type">ChainIndexTx</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-311"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="DbType"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DbType"><span class="hs-identifier hs-var">DbType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TxId</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Types.html#ChainIndexTx"><span class="hs-identifier hs-type">ChainIndexTx</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TxRow"><span class="hs-identifier hs-type">TxRow</span></a></span><span>
</span><span id="line-312"></span><span>    </span><span id="local-6989586621679682504"><span class="annot"><span class="annottext">toDbValue :: (TxId, ChainIndexTx) -&gt; DbType (TxId, ChainIndexTx)
</span><a href="#local-6989586621679682504"><span class="hs-identifier hs-var hs-var hs-var hs-var">toDbValue</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679682503"><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621679682503"><span class="hs-identifier hs-var">txId</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682502"><span class="annot"><span class="annottext">ChainIndexTx
</span><a href="#local-6989586621679682502"><span class="hs-identifier hs-var">tx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
-&gt; Columnar Identity ByteString -&gt; TxRowT Identity
forall (f :: * -&gt; *).
Columnar f ByteString -&gt; Columnar f ByteString -&gt; TxRowT f
</span><a href="Plutus.ChainIndex.DbSchema.html#TxRow"><span class="hs-identifier hs-var">TxRow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxId -&gt; DbType TxId
forall a. HasDbType a =&gt; a -&gt; DbType a
</span><a href="Plutus.ChainIndex.DbSchema.html#toDbValue"><span class="hs-identifier hs-var">toDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621679682503"><span class="hs-identifier hs-var">txId</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ChainIndexTx -&gt; DbType ChainIndexTx
forall a. HasDbType a =&gt; a -&gt; DbType a
</span><a href="Plutus.ChainIndex.DbSchema.html#toDbValue"><span class="hs-identifier hs-var">toDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">ChainIndexTx
</span><a href="#local-6989586621679682502"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span>    </span><span id="local-6989586621679682501"><span class="annot"><span class="annottext">fromDbValue :: DbType (TxId, ChainIndexTx) -&gt; (TxId, ChainIndexTx)
</span><a href="#local-6989586621679682501"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromDbValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#TxRow"><span class="hs-identifier hs-type">TxRow</span></a></span><span> </span><span id="local-6989586621679682500"><span class="annot"><a href="#local-6989586621679682500"><span class="hs-identifier hs-var">txId</span></a></span></span><span> </span><span id="local-6989586621679682499"><span class="annot"><a href="#local-6989586621679682499"><span class="hs-identifier hs-var">tx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DbType TxId -&gt; TxId
forall a. HasDbType a =&gt; DbType a -&gt; a
</span><a href="Plutus.ChainIndex.DbSchema.html#fromDbValue"><span class="hs-identifier hs-var">fromDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
DbType TxId
</span><a href="#local-6989586621679682500"><span class="hs-identifier hs-var">txId</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DbType ChainIndexTx -&gt; ChainIndexTx
forall a. HasDbType a =&gt; DbType a -&gt; a
</span><a href="Plutus.ChainIndex.DbSchema.html#fromDbValue"><span class="hs-identifier hs-var">fromDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
DbType ChainIndexTx
</span><a href="#local-6989586621679682499"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Credential</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">DatumHash</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-316"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="DbType"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DbType"><span class="hs-identifier hs-var">DbType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Credential</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">DatumHash</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AddressRow"><span class="hs-identifier hs-type">AddressRow</span></a></span><span>
</span><span id="line-317"></span><span>  </span><span id="local-6989586621679682495"><span class="annot"><span class="annottext">toDbValue :: (Credential, TxOutRef, Maybe DatumHash)
-&gt; DbType (Credential, TxOutRef, Maybe DatumHash)
</span><a href="#local-6989586621679682495"><span class="hs-identifier hs-var hs-var hs-var hs-var">toDbValue</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679682494"><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621679682494"><span class="hs-identifier hs-var">cred</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682493"><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679682493"><span class="hs-identifier hs-var">outRef</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe DatumHash
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
-&gt; Columnar Identity ByteString
-&gt; Columnar Identity ByteString
-&gt; AddressRowT Identity
forall (f :: * -&gt; *).
Columnar f ByteString
-&gt; Columnar f ByteString -&gt; Columnar f ByteString -&gt; AddressRowT f
</span><a href="Plutus.ChainIndex.DbSchema.html#AddressRow"><span class="hs-identifier hs-var">AddressRow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Credential -&gt; DbType Credential
forall a. HasDbType a =&gt; a -&gt; DbType a
</span><a href="Plutus.ChainIndex.DbSchema.html#toDbValue"><span class="hs-identifier hs-var">toDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621679682494"><span class="hs-identifier hs-var">cred</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxOutRef -&gt; DbType TxOutRef
forall a. HasDbType a =&gt; a -&gt; DbType a
</span><a href="Plutus.ChainIndex.DbSchema.html#toDbValue"><span class="hs-identifier hs-var">toDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679682493"><span class="hs-identifier hs-var">outRef</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatumHash -&gt; DbType DatumHash
forall a. HasDbType a =&gt; a -&gt; DbType a
</span><a href="Plutus.ChainIndex.DbSchema.html#toDbValue"><span class="hs-identifier hs-var">toDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">(DatumHash -&gt; DbType DatumHash) -&gt; DatumHash -&gt; DbType DatumHash
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; DatumHash
</span><span class="hs-identifier hs-var">DatumHash</span></span><span> </span><span class="annot"><span class="annottext">BuiltinByteString
</span><span class="hs-identifier hs-var">emptyByteString</span></span><span class="hs-special">)</span><span>
</span><span id="line-318"></span><span>  </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#toDbValue"><span class="hs-identifier hs-var">toDbValue</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679682491"><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621679682491"><span class="hs-identifier hs-var">cred</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682490"><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679682490"><span class="hs-identifier hs-var">outRef</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679682489"><span class="annot"><span class="annottext">DatumHash
</span><a href="#local-6989586621679682489"><span class="hs-identifier hs-var">dh</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
-&gt; Columnar Identity ByteString
-&gt; Columnar Identity ByteString
-&gt; AddressRowT Identity
forall (f :: * -&gt; *).
Columnar f ByteString
-&gt; Columnar f ByteString -&gt; Columnar f ByteString -&gt; AddressRowT f
</span><a href="Plutus.ChainIndex.DbSchema.html#AddressRow"><span class="hs-identifier hs-var">AddressRow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Credential -&gt; DbType Credential
forall a. HasDbType a =&gt; a -&gt; DbType a
</span><a href="Plutus.ChainIndex.DbSchema.html#toDbValue"><span class="hs-identifier hs-var">toDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621679682491"><span class="hs-identifier hs-var">cred</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxOutRef -&gt; DbType TxOutRef
forall a. HasDbType a =&gt; a -&gt; DbType a
</span><a href="Plutus.ChainIndex.DbSchema.html#toDbValue"><span class="hs-identifier hs-var">toDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679682490"><span class="hs-identifier hs-var">outRef</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatumHash -&gt; DbType DatumHash
forall a. HasDbType a =&gt; a -&gt; DbType a
</span><a href="Plutus.ChainIndex.DbSchema.html#toDbValue"><span class="hs-identifier hs-var">toDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">DatumHash
</span><a href="#local-6989586621679682489"><span class="hs-identifier hs-var">dh</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-319"></span><span>  </span><span id="local-6989586621679682488"><span class="annot"><span class="annottext">fromDbValue :: DbType (Credential, TxOutRef, Maybe DatumHash)
-&gt; (Credential, TxOutRef, Maybe DatumHash)
</span><a href="#local-6989586621679682488"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromDbValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AddressRow"><span class="hs-identifier hs-type">AddressRow</span></a></span><span> </span><span id="local-6989586621679682487"><span class="annot"><a href="#local-6989586621679682487"><span class="hs-identifier hs-var">cred</span></a></span></span><span> </span><span id="local-6989586621679682486"><span class="annot"><a href="#local-6989586621679682486"><span class="hs-identifier hs-var">outRef</span></a></span></span><span> </span><span id="local-6989586621679682485"><span class="annot"><a href="#local-6989586621679682485"><span class="hs-identifier hs-var">dh</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-320"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679682484"><span class="annot"><span class="annottext">dh' :: DatumHash
</span><a href="#local-6989586621679682484"><span class="hs-identifier hs-var">dh'</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DatumHash</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BuiltinByteString</span></span><span> </span><span id="local-6989586621679682482"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679682482"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DbType DatumHash -&gt; DatumHash
forall a. HasDbType a =&gt; DbType a -&gt; a
</span><a href="Plutus.ChainIndex.DbSchema.html#fromDbValue"><span class="hs-identifier hs-var">fromDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
DbType DatumHash
</span><a href="#local-6989586621679682485"><span class="hs-identifier hs-var">dh</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-321"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Bool
</span><span class="hs-identifier hs-var">BS.null</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679682482"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">then</span><span>
</span><span id="line-322"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DbType Credential -&gt; Credential
forall a. HasDbType a =&gt; DbType a -&gt; a
</span><a href="Plutus.ChainIndex.DbSchema.html#fromDbValue"><span class="hs-identifier hs-var">fromDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
DbType Credential
</span><a href="#local-6989586621679682487"><span class="hs-identifier hs-var">cred</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DbType TxOutRef -&gt; TxOutRef
forall a. HasDbType a =&gt; DbType a -&gt; a
</span><a href="Plutus.ChainIndex.DbSchema.html#fromDbValue"><span class="hs-identifier hs-var">fromDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
DbType TxOutRef
</span><a href="#local-6989586621679682486"><span class="hs-identifier hs-var">outRef</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe DatumHash
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-323"></span><span>      </span><span class="hs-keyword">else</span><span>
</span><span id="line-324"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DbType Credential -&gt; Credential
forall a. HasDbType a =&gt; DbType a -&gt; a
</span><a href="Plutus.ChainIndex.DbSchema.html#fromDbValue"><span class="hs-identifier hs-var">fromDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
DbType Credential
</span><a href="#local-6989586621679682487"><span class="hs-identifier hs-var">cred</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DbType TxOutRef -&gt; TxOutRef
forall a. HasDbType a =&gt; DbType a -&gt; a
</span><a href="Plutus.ChainIndex.DbSchema.html#fromDbValue"><span class="hs-identifier hs-var">fromDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
DbType TxOutRef
</span><a href="#local-6989586621679682486"><span class="hs-identifier hs-var">outRef</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DatumHash -&gt; Maybe DatumHash
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">DatumHash
</span><a href="#local-6989586621679682484"><span class="hs-identifier hs-var">dh'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span>
</span><span id="line-327"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#HasDbType"><span class="hs-identifier hs-type">HasDbType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AssetClass</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-328"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="DbType"><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#DbType"><span class="hs-identifier hs-var">DbType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AssetClass</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AssetClassRow"><span class="hs-identifier hs-type">AssetClassRow</span></a></span><span>
</span><span id="line-329"></span><span>    </span><span id="local-6989586621679682477"><span class="annot"><span class="annottext">toDbValue :: (AssetClass, TxOutRef) -&gt; DbType (AssetClass, TxOutRef)
</span><a href="#local-6989586621679682477"><span class="hs-identifier hs-var hs-var hs-var hs-var">toDbValue</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679682476"><span class="annot"><span class="annottext">AssetClass
</span><a href="#local-6989586621679682476"><span class="hs-identifier hs-var">ac</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679682475"><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679682475"><span class="hs-identifier hs-var">outRef</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
-&gt; Columnar Identity ByteString -&gt; AssetClassRowT Identity
forall (f :: * -&gt; *).
Columnar f ByteString -&gt; Columnar f ByteString -&gt; AssetClassRowT f
</span><a href="Plutus.ChainIndex.DbSchema.html#AssetClassRow"><span class="hs-identifier hs-var">AssetClassRow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AssetClass -&gt; DbType AssetClass
forall a. HasDbType a =&gt; a -&gt; DbType a
</span><a href="Plutus.ChainIndex.DbSchema.html#toDbValue"><span class="hs-identifier hs-var">toDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">AssetClass
</span><a href="#local-6989586621679682476"><span class="hs-identifier hs-var">ac</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxOutRef -&gt; DbType TxOutRef
forall a. HasDbType a =&gt; a -&gt; DbType a
</span><a href="Plutus.ChainIndex.DbSchema.html#toDbValue"><span class="hs-identifier hs-var">toDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679682475"><span class="hs-identifier hs-var">outRef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-330"></span><span>    </span><span id="local-6989586621679682474"><span class="annot"><span class="annottext">fromDbValue :: DbType (AssetClass, TxOutRef) -&gt; (AssetClass, TxOutRef)
</span><a href="#local-6989586621679682474"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromDbValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.DbSchema.html#AssetClassRow"><span class="hs-identifier hs-type">AssetClassRow</span></a></span><span> </span><span id="local-6989586621679682473"><span class="annot"><a href="#local-6989586621679682473"><span class="hs-identifier hs-var">ac</span></a></span></span><span> </span><span id="local-6989586621679682472"><span class="annot"><a href="#local-6989586621679682472"><span class="hs-identifier hs-var">outRef</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DbType AssetClass -&gt; AssetClass
forall a. HasDbType a =&gt; DbType a -&gt; a
</span><a href="Plutus.ChainIndex.DbSchema.html#fromDbValue"><span class="hs-identifier hs-var">fromDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
DbType AssetClass
</span><a href="#local-6989586621679682473"><span class="hs-identifier hs-var">ac</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DbType TxOutRef -&gt; TxOutRef
forall a. HasDbType a =&gt; DbType a -&gt; a
</span><a href="Plutus.ChainIndex.DbSchema.html#fromDbValue"><span class="hs-identifier hs-var">fromDbValue</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar Identity ByteString
DbType TxOutRef
</span><a href="#local-6989586621679682472"><span class="hs-identifier hs-var">outRef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-331"></span></pre></body></html>