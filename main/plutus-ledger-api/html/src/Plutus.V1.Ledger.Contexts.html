<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DataKinds            #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveAnyClass       #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveFunctor        #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric        #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE DerivingVia          #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances    #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns       #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE NoImplicitPrelude    #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings    #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables  #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE TemplateHaskell      #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications     #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE ViewPatterns         #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-simplifiable-class-constraints #-}</span><span>
</span><span id="line-16"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-specialise #-}</span><span>
</span><span id="line-17"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-omit-interface-pragmas #-}</span><span>
</span><span id="line-18"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Plutus.V1.Ledger.Contexts</span><span>
</span><span id="line-19"></span><span>    </span><span class="hs-special">(</span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Pending transactions and related types</span></span><span>
</span><span id="line-21"></span><span>      </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier">TxInfo</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ScriptContext"><span class="hs-identifier">ScriptContext</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ScriptPurpose"><span class="hs-identifier">ScriptPurpose</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxId"><span class="hs-identifier">TxId</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxOut"><span class="hs-identifier">TxOut</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxOutRef"><span class="hs-identifier">TxOutRef</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInInfo"><span class="hs-identifier">TxInInfo</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#findOwnInput"><span class="hs-identifier">findOwnInput</span></a></span><span>
</span><span id="line-29"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#findDatum"><span class="hs-identifier">findDatum</span></a></span><span>
</span><span id="line-30"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#findDatumHash"><span class="hs-identifier">findDatumHash</span></a></span><span>
</span><span id="line-31"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#findTxInByTxOutRef"><span class="hs-identifier">findTxInByTxOutRef</span></a></span><span>
</span><span id="line-32"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#findContinuingOutputs"><span class="hs-identifier">findContinuingOutputs</span></a></span><span>
</span><span id="line-33"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#getContinuingOutputs"><span class="hs-identifier">getContinuingOutputs</span></a></span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Validator functions</span></span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#pubKeyOutput"><span class="hs-identifier">pubKeyOutput</span></a></span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#scriptOutputsAt"><span class="hs-identifier">scriptOutputsAt</span></a></span><span>
</span><span id="line-37"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#pubKeyOutputsAt"><span class="hs-identifier">pubKeyOutputsAt</span></a></span><span>
</span><span id="line-38"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#valueLockedBy"><span class="hs-identifier">valueLockedBy</span></a></span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#valuePaidTo"><span class="hs-identifier">valuePaidTo</span></a></span><span>
</span><span id="line-40"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#spendsOutput"><span class="hs-identifier">spendsOutput</span></a></span><span>
</span><span id="line-41"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#txSignedBy"><span class="hs-identifier">txSignedBy</span></a></span><span>
</span><span id="line-42"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#valueSpent"><span class="hs-identifier">valueSpent</span></a></span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#valueProduced"><span class="hs-identifier">valueProduced</span></a></span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ownCurrencySymbol"><span class="hs-identifier">ownCurrencySymbol</span></a></span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ownHashes"><span class="hs-identifier">ownHashes</span></a></span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ownHash"><span class="hs-identifier">ownHash</span></a></span><span>
</span><span id="line-47"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#fromSymbol"><span class="hs-identifier">fromSymbol</span></a></span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">GHC.Generics</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx</span></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.Prelude</span></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prettyprinter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Pretty</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">nest</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">viaShow</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">vsep</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(&lt;+&gt;)</span></span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Address.html"><span class="hs-identifier">Plutus.V1.Ledger.Address</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.V1.Ledger.Address.html#Address"><span class="hs-identifier">Address</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Address.html#toPubKeyHash"><span class="hs-identifier">toPubKeyHash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Credential.html"><span class="hs-identifier">Plutus.V1.Ledger.Credential</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.V1.Ledger.Credential.html#Credential"><span class="hs-identifier">Credential</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Credential.html#StakingCredential"><span class="hs-identifier">StakingCredential</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Crypto.html"><span class="hs-identifier">Plutus.V1.Ledger.Crypto</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.V1.Ledger.Crypto.html#PubKeyHash"><span class="hs-identifier">PubKeyHash</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.DCert.html"><span class="hs-identifier">Plutus.V1.Ledger.DCert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.V1.Ledger.DCert.html#DCert"><span class="hs-identifier">DCert</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Scripts.html"><span class="hs-identifier">Plutus.V1.Ledger.Scripts</span></a></span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Time.html"><span class="hs-identifier">Plutus.V1.Ledger.Time</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.V1.Ledger.Time.html#POSIXTimeRange"><span class="hs-identifier">POSIXTimeRange</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html"><span class="hs-identifier">Plutus.V1.Ledger.Tx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxId"><span class="hs-identifier">TxId</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxOut"><span class="hs-identifier">TxOut</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxOutRef"><span class="hs-identifier">TxOutRef</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Value.html"><span class="hs-identifier">Plutus.V1.Ledger.Value</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.V1.Ledger.Value.html#CurrencySymbol"><span class="hs-identifier">CurrencySymbol</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Value.html#Value"><span class="hs-identifier">Value</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Haskell</span></span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-comment">{- Note [Script types in pending transactions]
To validate a transaction, we have to evaluate the validation script of each of
the transaction's inputs. The validation script sees the data of the
transaction output it validates, and the redeemer of the transaction input of
the transaction that consumes it.
In addition, the validation script also needs information on the transaction as
a whole (not just the output-input pair it is concerned with). This information
is provided by the `TxInfo` type. A `TxInfo` contains the hashes of
redeemer and data scripts of all of its inputs and outputs.
-}</span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span class="hs-comment">-- | An input of a pending transaction.</span><span>
</span><span id="line-77"></span><span id="local-6989586621679731521"><span id="local-6989586621679731522"></span></span><span class="hs-keyword">data</span><span> </span><span id="TxInInfo"><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInInfo"><span class="hs-identifier hs-var">TxInInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TxInInfo"><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInInfo"><span class="hs-identifier hs-var">TxInInfo</span></a></span></span><span>
</span><span id="line-78"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="txInInfoOutRef"><span class="annot"><span class="annottext">TxInInfo -&gt; TxOutRef
</span><a href="Plutus.V1.Ledger.Contexts.html#txInInfoOutRef"><span class="hs-identifier hs-var hs-var">txInInfoOutRef</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxOutRef"><span class="hs-identifier hs-type">TxOutRef</span></a></span><span>
</span><span id="line-79"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="txInInfoResolved"><span class="annot"><span class="annottext">TxInInfo -&gt; TxOut
</span><a href="Plutus.V1.Ledger.Contexts.html#txInInfoResolved"><span class="hs-identifier hs-var hs-var">txInInfoResolved</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span>
</span><span id="line-80"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. TxInInfo -&gt; Rep TxInInfo x)
-&gt; (forall x. Rep TxInInfo x -&gt; TxInInfo) -&gt; Generic TxInInfo
forall x. Rep TxInInfo x -&gt; TxInInfo
forall x. TxInInfo -&gt; Rep TxInInfo x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep TxInInfo x -&gt; TxInInfo
$cfrom :: forall x. TxInInfo -&gt; Rep TxInInfo x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679731509"><span id="local-6989586621679731511"><span id="local-6989586621679731513"><span class="annot"><span class="annottext">Int -&gt; TxInInfo -&gt; ShowS
[TxInInfo] -&gt; ShowS
TxInInfo -&gt; String
(Int -&gt; TxInInfo -&gt; ShowS)
-&gt; (TxInInfo -&gt; String) -&gt; ([TxInInfo] -&gt; ShowS) -&gt; Show TxInInfo
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TxInInfo] -&gt; ShowS
$cshowList :: [TxInInfo] -&gt; ShowS
show :: TxInInfo -&gt; String
$cshow :: TxInInfo -&gt; String
showsPrec :: Int -&gt; TxInInfo -&gt; ShowS
$cshowsPrec :: Int -&gt; TxInInfo -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Haskell.Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679731504"><span id="local-6989586621679731506"><span class="annot"><span class="annottext">TxInInfo -&gt; TxInInfo -&gt; Bool
(TxInInfo -&gt; TxInInfo -&gt; Bool)
-&gt; (TxInInfo -&gt; TxInInfo -&gt; Bool) -&gt; Eq TxInInfo
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TxInInfo -&gt; TxInInfo -&gt; Bool
$c/= :: TxInInfo -&gt; TxInInfo -&gt; Bool
== :: TxInInfo -&gt; TxInInfo -&gt; Bool
$c== :: TxInInfo -&gt; TxInInfo -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Haskell.Eq</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-83"></span><span>    </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span><span> </span><span id="local-6989586621679731500"><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679731500"><span class="hs-identifier hs-var">ref</span></a></span></span><span> </span><span id="local-6989586621679731499"><span class="annot"><span class="annottext">TxOut
</span><a href="#local-6989586621679731499"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span id="local-6989586621679731498"><span class="annot"><span class="annottext">== :: TxInInfo -&gt; TxInInfo -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span><span> </span><span id="local-6989586621679731496"><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679731496"><span class="hs-identifier hs-var">ref'</span></a></span></span><span> </span><span id="local-6989586621679731495"><span class="annot"><span class="annottext">TxOut
</span><a href="#local-6989586621679731495"><span class="hs-identifier hs-var">res'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679731500"><span class="hs-identifier hs-var">ref</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef -&gt; TxOutRef -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679731496"><span class="hs-identifier hs-var">ref'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">TxOut
</span><a href="#local-6989586621679731499"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">TxOut -&gt; TxOut -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TxOut
</span><a href="#local-6989586621679731495"><span class="hs-identifier hs-var">res'</span></a></span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679731491"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-86"></span><span>    </span><span id="local-6989586621679731489"><span class="annot"><span class="annottext">pretty :: TxInInfo -&gt; Doc ann
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span><span class="hs-special">{</span><span id="local-6989586621679731487"><span class="annot"><span class="annottext">TxOutRef
txInInfoOutRef :: TxOutRef
txInInfoOutRef :: TxInInfo -&gt; TxOutRef
</span><a href="#local-6989586621679731487"><span class="hs-identifier hs-var hs-var">txInInfoOutRef</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679731486"><span class="annot"><span class="annottext">TxOut
txInInfoResolved :: TxOut
txInInfoResolved :: TxInInfo -&gt; TxOut
</span><a href="#local-6989586621679731486"><span class="hs-identifier hs-var hs-var">txInInfoResolved</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-87"></span><span>        </span><span class="annot"><span class="annottext">TxOutRef -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679731487"><span class="hs-identifier hs-var">txInInfoOutRef</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;-&gt;&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">TxOut -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">TxOut
</span><a href="#local-6989586621679731486"><span class="hs-identifier hs-var">txInInfoResolved</span></a></span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span class="hs-comment">-- | Purpose of the script that is currently running</span><span>
</span><span id="line-90"></span><span id="local-6989586621679731484"><span id="local-6989586621679731485"></span></span><span class="hs-keyword">data</span><span> </span><span id="ScriptPurpose"><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ScriptPurpose"><span class="hs-identifier hs-var">ScriptPurpose</span></a></span></span><span>
</span><span id="line-91"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="Minting"><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#Minting"><span class="hs-identifier hs-var">Minting</span></a></span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Value.html#CurrencySymbol"><span class="hs-identifier hs-type">CurrencySymbol</span></a></span><span>
</span><span id="line-92"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Spending"><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#Spending"><span class="hs-identifier hs-var">Spending</span></a></span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxOutRef"><span class="hs-identifier hs-type">TxOutRef</span></a></span><span>
</span><span id="line-93"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Rewarding"><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#Rewarding"><span class="hs-identifier hs-var">Rewarding</span></a></span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Credential.html#StakingCredential"><span class="hs-identifier hs-type">StakingCredential</span></a></span><span>
</span><span id="line-94"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Certifying"><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#Certifying"><span class="hs-identifier hs-var">Certifying</span></a></span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.DCert.html#DCert"><span class="hs-identifier hs-type">DCert</span></a></span><span>
</span><span id="line-95"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. ScriptPurpose -&gt; Rep ScriptPurpose x)
-&gt; (forall x. Rep ScriptPurpose x -&gt; ScriptPurpose)
-&gt; Generic ScriptPurpose
forall x. Rep ScriptPurpose x -&gt; ScriptPurpose
forall x. ScriptPurpose -&gt; Rep ScriptPurpose x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep ScriptPurpose x -&gt; ScriptPurpose
$cfrom :: forall x. ScriptPurpose -&gt; Rep ScriptPurpose x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679731472"><span id="local-6989586621679731474"><span id="local-6989586621679731476"><span class="annot"><span class="annottext">Int -&gt; ScriptPurpose -&gt; ShowS
[ScriptPurpose] -&gt; ShowS
ScriptPurpose -&gt; String
(Int -&gt; ScriptPurpose -&gt; ShowS)
-&gt; (ScriptPurpose -&gt; String)
-&gt; ([ScriptPurpose] -&gt; ShowS)
-&gt; Show ScriptPurpose
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ScriptPurpose] -&gt; ShowS
$cshowList :: [ScriptPurpose] -&gt; ShowS
show :: ScriptPurpose -&gt; String
$cshow :: ScriptPurpose -&gt; String
showsPrec :: Int -&gt; ScriptPurpose -&gt; ShowS
$cshowsPrec :: Int -&gt; ScriptPurpose -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Haskell.Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679731468"><span id="local-6989586621679731470"><span class="annot"><span class="annottext">ScriptPurpose -&gt; ScriptPurpose -&gt; Bool
(ScriptPurpose -&gt; ScriptPurpose -&gt; Bool)
-&gt; (ScriptPurpose -&gt; ScriptPurpose -&gt; Bool) -&gt; Eq ScriptPurpose
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ScriptPurpose -&gt; ScriptPurpose -&gt; Bool
$c/= :: ScriptPurpose -&gt; ScriptPurpose -&gt; Bool
== :: ScriptPurpose -&gt; ScriptPurpose -&gt; Bool
$c== :: ScriptPurpose -&gt; ScriptPurpose -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Haskell.Eq</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ScriptPurpose"><span class="hs-identifier hs-type">ScriptPurpose</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-98"></span><span>    </span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">==</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-99"></span><span>    </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#Minting"><span class="hs-identifier hs-type">Minting</span></a></span><span> </span><span id="local-6989586621679731466"><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621679731466"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span id="local-6989586621679731465"><span class="annot"><span class="annottext">== :: ScriptPurpose -&gt; ScriptPurpose -&gt; Bool
</span><a href="#local-6989586621679731465"><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></a></span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#Minting"><span class="hs-identifier hs-type">Minting</span></a></span><span> </span><span id="local-6989586621679731464"><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621679731464"><span class="hs-identifier hs-var">cs'</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621679731466"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">CurrencySymbol -&gt; CurrencySymbol -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621679731464"><span class="hs-identifier hs-var">cs'</span></a></span><span>
</span><span id="line-100"></span><span>    </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#Spending"><span class="hs-identifier hs-type">Spending</span></a></span><span> </span><span id="local-6989586621679731463"><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679731463"><span class="hs-identifier hs-var">ref</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#Spending"><span class="hs-identifier hs-type">Spending</span></a></span><span> </span><span id="local-6989586621679731462"><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679731462"><span class="hs-identifier hs-var">ref'</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679731463"><span class="hs-identifier hs-var">ref</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef -&gt; TxOutRef -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679731462"><span class="hs-identifier hs-var">ref'</span></a></span><span>
</span><span id="line-101"></span><span>    </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#Rewarding"><span class="hs-identifier hs-type">Rewarding</span></a></span><span> </span><span id="local-6989586621679731461"><span class="annot"><span class="annottext">StakingCredential
</span><a href="#local-6989586621679731461"><span class="hs-identifier hs-var">sc</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#Rewarding"><span class="hs-identifier hs-type">Rewarding</span></a></span><span> </span><span id="local-6989586621679731460"><span class="annot"><span class="annottext">StakingCredential
</span><a href="#local-6989586621679731460"><span class="hs-identifier hs-var">sc'</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StakingCredential
</span><a href="#local-6989586621679731461"><span class="hs-identifier hs-var">sc</span></a></span><span> </span><span class="annot"><span class="annottext">StakingCredential -&gt; StakingCredential -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">StakingCredential
</span><a href="#local-6989586621679731460"><span class="hs-identifier hs-var">sc'</span></a></span><span>
</span><span id="line-102"></span><span>    </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#Certifying"><span class="hs-identifier hs-type">Certifying</span></a></span><span> </span><span id="local-6989586621679731459"><span class="annot"><span class="annottext">DCert
</span><a href="#local-6989586621679731459"><span class="hs-identifier hs-var">cert</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#Certifying"><span class="hs-identifier hs-type">Certifying</span></a></span><span> </span><span id="local-6989586621679731458"><span class="annot"><span class="annottext">DCert
</span><a href="#local-6989586621679731458"><span class="hs-identifier hs-var">cert'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DCert
</span><a href="#local-6989586621679731459"><span class="hs-identifier hs-var">cert</span></a></span><span> </span><span class="annot"><span class="annottext">DCert -&gt; DCert -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">DCert
</span><a href="#local-6989586621679731458"><span class="hs-identifier hs-var">cert'</span></a></span><span>
</span><span id="line-103"></span><span>    </span><span class="annot"><span class="annottext">ScriptPurpose
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">ScriptPurpose
</span><span class="hs-identifier">_</span></span><span>                              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679731455"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ScriptPurpose"><span class="hs-identifier hs-type">ScriptPurpose</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-106"></span><span>    </span><span id="local-6989586621679731454"><span class="annot"><span class="annottext">pretty :: ScriptPurpose -&gt; Doc ann
</span><a href="#local-6989586621679731454"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ScriptPurpose -&gt; Doc ann
forall a ann. Show a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">viaShow</span></span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="hs-comment">-- | A pending transaction. This is the view as seen by validator scripts, so some details are stripped out.</span><span>
</span><span id="line-109"></span><span id="local-6989586621679731452"><span id="local-6989586621679731453"></span></span><span class="hs-keyword">data</span><span> </span><span id="TxInfo"><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-var">TxInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TxInfo"><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-var">TxInfo</span></a></span></span><span>
</span><span id="line-110"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="txInfoInputs"><span class="annot"><span class="annottext">TxInfo -&gt; [TxInInfo]
</span><a href="Plutus.V1.Ledger.Contexts.html#txInfoInputs"><span class="hs-identifier hs-var hs-var">txInfoInputs</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- ^ Transaction inputs</span><span>
</span><span id="line-111"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="txInfoOutputs"><span class="annot"><span class="annottext">TxInfo -&gt; [TxOut]
</span><a href="Plutus.V1.Ledger.Contexts.html#txInfoOutputs"><span class="hs-identifier hs-var hs-var">txInfoOutputs</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- ^ Transaction outputs</span><span>
</span><span id="line-112"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="txInfoFee"><span class="annot"><span class="annottext">TxInfo -&gt; Value
</span><a href="Plutus.V1.Ledger.Contexts.html#txInfoFee"><span class="hs-identifier hs-var hs-var">txInfoFee</span></a></span></span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Value.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="hs-comment">-- ^ The fee paid by this transaction.</span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="txInfoMint"><span class="annot"><span class="annottext">TxInfo -&gt; Value
</span><a href="Plutus.V1.Ledger.Contexts.html#txInfoMint"><span class="hs-identifier hs-var hs-var">txInfoMint</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Value.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="hs-comment">-- ^ The 'Value' minted by this transaction.</span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="txInfoDCert"><span class="annot"><span class="annottext">TxInfo -&gt; [DCert]
</span><a href="Plutus.V1.Ledger.Contexts.html#txInfoDCert"><span class="hs-identifier hs-var hs-var">txInfoDCert</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutus.V1.Ledger.DCert.html#DCert"><span class="hs-identifier hs-type">DCert</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- ^ Digests of certificates included in this transaction</span><span>
</span><span id="line-115"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="txInfoWdrl"><span class="annot"><span class="annottext">TxInfo -&gt; [(StakingCredential, Integer)]
</span><a href="Plutus.V1.Ledger.Contexts.html#txInfoWdrl"><span class="hs-identifier hs-var hs-var">txInfoWdrl</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.V1.Ledger.Credential.html#StakingCredential"><span class="hs-identifier hs-type">StakingCredential</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- ^ Withdrawals</span><span>
</span><span id="line-116"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="txInfoValidRange"><span class="annot"><span class="annottext">TxInfo -&gt; POSIXTimeRange
</span><a href="Plutus.V1.Ledger.Contexts.html#txInfoValidRange"><span class="hs-identifier hs-var hs-var">txInfoValidRange</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Time.html#POSIXTimeRange"><span class="hs-identifier hs-type">POSIXTimeRange</span></a></span><span> </span><span class="hs-comment">-- ^ The valid range for the transaction.</span><span>
</span><span id="line-117"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="txInfoSignatories"><span class="annot"><span class="annottext">TxInfo -&gt; [PubKeyHash]
</span><a href="Plutus.V1.Ledger.Contexts.html#txInfoSignatories"><span class="hs-identifier hs-var hs-var">txInfoSignatories</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutus.V1.Ledger.Crypto.html#PubKeyHash"><span class="hs-identifier hs-type">PubKeyHash</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- ^ Signatures provided with the transaction, attested that they all signed the tx</span><span>
</span><span id="line-118"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="txInfoData"><span class="annot"><span class="annottext">TxInfo -&gt; [(DatumHash, Datum)]
</span><a href="Plutus.V1.Ledger.Contexts.html#txInfoData"><span class="hs-identifier hs-var hs-var">txInfoData</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.V1.Ledger.Scripts.html#DatumHash"><span class="hs-identifier hs-type">DatumHash</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Scripts.html#Datum"><span class="hs-identifier hs-type">Datum</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-119"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="txInfoId"><span class="annot"><span class="annottext">TxInfo -&gt; TxId
</span><a href="Plutus.V1.Ledger.Contexts.html#txInfoId"><span class="hs-identifier hs-var hs-var">txInfoId</span></a></span></span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxId"><span class="hs-identifier hs-type">TxId</span></a></span><span>
</span><span id="line-120"></span><span>    </span><span class="hs-comment">-- ^ Hash of the pending transaction (excluding witnesses)</span><span>
</span><span id="line-121"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. TxInfo -&gt; Rep TxInfo x)
-&gt; (forall x. Rep TxInfo x -&gt; TxInfo) -&gt; Generic TxInfo
forall x. Rep TxInfo x -&gt; TxInfo
forall x. TxInfo -&gt; Rep TxInfo x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep TxInfo x -&gt; TxInfo
$cfrom :: forall x. TxInfo -&gt; Rep TxInfo x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679731433"><span id="local-6989586621679731435"><span id="local-6989586621679731437"><span class="annot"><span class="annottext">Int -&gt; TxInfo -&gt; ShowS
[TxInfo] -&gt; ShowS
TxInfo -&gt; String
(Int -&gt; TxInfo -&gt; ShowS)
-&gt; (TxInfo -&gt; String) -&gt; ([TxInfo] -&gt; ShowS) -&gt; Show TxInfo
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TxInfo] -&gt; ShowS
$cshowList :: [TxInfo] -&gt; ShowS
show :: TxInfo -&gt; String
$cshow :: TxInfo -&gt; String
showsPrec :: Int -&gt; TxInfo -&gt; ShowS
$cshowsPrec :: Int -&gt; TxInfo -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Haskell.Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679731429"><span id="local-6989586621679731431"><span class="annot"><span class="annottext">TxInfo -&gt; TxInfo -&gt; Bool
(TxInfo -&gt; TxInfo -&gt; Bool)
-&gt; (TxInfo -&gt; TxInfo -&gt; Bool) -&gt; Eq TxInfo
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TxInfo -&gt; TxInfo -&gt; Bool
$c/= :: TxInfo -&gt; TxInfo -&gt; Bool
== :: TxInfo -&gt; TxInfo -&gt; Bool
$c== :: TxInfo -&gt; TxInfo -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Haskell.Eq</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-124"></span><span>    </span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">==</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-125"></span><span>    </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span id="local-6989586621679731427"><span class="annot"><span class="annottext">[TxInInfo]
</span><a href="#local-6989586621679731427"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679731426"><span class="annot"><span class="annottext">[TxOut]
</span><a href="#local-6989586621679731426"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621679731425"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679731425"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679731424"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679731424"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679731423"><span class="annot"><span class="annottext">[DCert]
</span><a href="#local-6989586621679731423"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679731422"><span class="annot"><span class="annottext">[(StakingCredential, Integer)]
</span><a href="#local-6989586621679731422"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679731421"><span class="annot"><span class="annottext">POSIXTimeRange
</span><a href="#local-6989586621679731421"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621679731420"><span class="annot"><span class="annottext">[PubKeyHash]
</span><a href="#local-6989586621679731420"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679731419"><span class="annot"><span class="annottext">[(DatumHash, Datum)]
</span><a href="#local-6989586621679731419"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621679731418"><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621679731418"><span class="hs-identifier hs-var">tid</span></a></span></span><span> </span><span id="local-6989586621679731417"><span class="annot"><span class="annottext">== :: TxInfo -&gt; TxInfo -&gt; Bool
</span><a href="#local-6989586621679731417"><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></a></span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span id="local-6989586621679731416"><span class="annot"><span class="annottext">[TxInInfo]
</span><a href="#local-6989586621679731416"><span class="hs-identifier hs-var">i'</span></a></span></span><span> </span><span id="local-6989586621679731415"><span class="annot"><span class="annottext">[TxOut]
</span><a href="#local-6989586621679731415"><span class="hs-identifier hs-var">o'</span></a></span></span><span> </span><span id="local-6989586621679731414"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679731414"><span class="hs-identifier hs-var">f'</span></a></span></span><span> </span><span id="local-6989586621679731413"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679731413"><span class="hs-identifier hs-var">m'</span></a></span></span><span> </span><span id="local-6989586621679731412"><span class="annot"><span class="annottext">[DCert]
</span><a href="#local-6989586621679731412"><span class="hs-identifier hs-var">c'</span></a></span></span><span> </span><span id="local-6989586621679731411"><span class="annot"><span class="annottext">[(StakingCredential, Integer)]
</span><a href="#local-6989586621679731411"><span class="hs-identifier hs-var">w'</span></a></span></span><span> </span><span id="local-6989586621679731410"><span class="annot"><span class="annottext">POSIXTimeRange
</span><a href="#local-6989586621679731410"><span class="hs-identifier hs-var">r'</span></a></span></span><span> </span><span id="local-6989586621679731409"><span class="annot"><span class="annottext">[PubKeyHash]
</span><a href="#local-6989586621679731409"><span class="hs-identifier hs-var">s'</span></a></span></span><span> </span><span id="local-6989586621679731408"><span class="annot"><span class="annottext">[(DatumHash, Datum)]
</span><a href="#local-6989586621679731408"><span class="hs-identifier hs-var">d'</span></a></span></span><span> </span><span id="local-6989586621679731407"><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621679731407"><span class="hs-identifier hs-var">tid'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-126"></span><span>        </span><span class="annot"><span class="annottext">[TxInInfo]
</span><a href="#local-6989586621679731427"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">[TxInInfo] -&gt; [TxInInfo] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[TxInInfo]
</span><a href="#local-6989586621679731416"><span class="hs-identifier hs-var">i'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">[TxOut]
</span><a href="#local-6989586621679731426"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">[TxOut] -&gt; [TxOut] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[TxOut]
</span><a href="#local-6989586621679731415"><span class="hs-identifier hs-var">o'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679731425"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Value -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679731414"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679731424"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Value -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679731413"><span class="hs-identifier hs-var">m'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">[DCert]
</span><a href="#local-6989586621679731423"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">[DCert] -&gt; [DCert] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[DCert]
</span><a href="#local-6989586621679731412"><span class="hs-identifier hs-var">c'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">[(StakingCredential, Integer)]
</span><a href="#local-6989586621679731422"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">[(StakingCredential, Integer)]
-&gt; [(StakingCredential, Integer)] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[(StakingCredential, Integer)]
</span><a href="#local-6989586621679731411"><span class="hs-identifier hs-var">w'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">POSIXTimeRange
</span><a href="#local-6989586621679731421"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">POSIXTimeRange -&gt; POSIXTimeRange -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">POSIXTimeRange
</span><a href="#local-6989586621679731410"><span class="hs-identifier hs-var">r'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">[PubKeyHash]
</span><a href="#local-6989586621679731420"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">[PubKeyHash] -&gt; [PubKeyHash] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[PubKeyHash]
</span><a href="#local-6989586621679731409"><span class="hs-identifier hs-var">s'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">[(DatumHash, Datum)]
</span><a href="#local-6989586621679731419"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">[(DatumHash, Datum)] -&gt; [(DatumHash, Datum)] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[(DatumHash, Datum)]
</span><a href="#local-6989586621679731408"><span class="hs-identifier hs-var">d'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621679731418"><span class="hs-identifier hs-var">tid</span></a></span><span> </span><span class="annot"><span class="annottext">TxId -&gt; TxId -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621679731407"><span class="hs-identifier hs-var">tid'</span></a></span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679731404"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-129"></span><span>    </span><span id="local-6989586621679731403"><span class="annot"><span class="annottext">pretty :: TxInfo -&gt; Doc ann
</span><a href="#local-6989586621679731403"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span class="hs-special">{</span><span id="local-6989586621679731402"><span class="annot"><span class="annottext">[TxInInfo]
txInfoInputs :: [TxInInfo]
txInfoInputs :: TxInfo -&gt; [TxInInfo]
</span><a href="#local-6989586621679731402"><span class="hs-identifier hs-var hs-var">txInfoInputs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679731401"><span class="annot"><span class="annottext">[TxOut]
txInfoOutputs :: [TxOut]
txInfoOutputs :: TxInfo -&gt; [TxOut]
</span><a href="#local-6989586621679731401"><span class="hs-identifier hs-var hs-var">txInfoOutputs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679731400"><span class="annot"><span class="annottext">Value
txInfoFee :: Value
txInfoFee :: TxInfo -&gt; Value
</span><a href="#local-6989586621679731400"><span class="hs-identifier hs-var hs-var">txInfoFee</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679731399"><span class="annot"><span class="annottext">Value
txInfoMint :: Value
txInfoMint :: TxInfo -&gt; Value
</span><a href="#local-6989586621679731399"><span class="hs-identifier hs-var hs-var">txInfoMint</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679731398"><span class="annot"><span class="annottext">[DCert]
txInfoDCert :: [DCert]
txInfoDCert :: TxInfo -&gt; [DCert]
</span><a href="#local-6989586621679731398"><span class="hs-identifier hs-var hs-var">txInfoDCert</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679731397"><span class="annot"><span class="annottext">[(StakingCredential, Integer)]
txInfoWdrl :: [(StakingCredential, Integer)]
txInfoWdrl :: TxInfo -&gt; [(StakingCredential, Integer)]
</span><a href="#local-6989586621679731397"><span class="hs-identifier hs-var hs-var">txInfoWdrl</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679731396"><span class="annot"><span class="annottext">POSIXTimeRange
txInfoValidRange :: POSIXTimeRange
txInfoValidRange :: TxInfo -&gt; POSIXTimeRange
</span><a href="#local-6989586621679731396"><span class="hs-identifier hs-var hs-var">txInfoValidRange</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679731395"><span class="annot"><span class="annottext">[PubKeyHash]
txInfoSignatories :: [PubKeyHash]
txInfoSignatories :: TxInfo -&gt; [PubKeyHash]
</span><a href="#local-6989586621679731395"><span class="hs-identifier hs-var hs-var">txInfoSignatories</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679731394"><span class="annot"><span class="annottext">[(DatumHash, Datum)]
txInfoData :: [(DatumHash, Datum)]
txInfoData :: TxInfo -&gt; [(DatumHash, Datum)]
</span><a href="#local-6989586621679731394"><span class="hs-identifier hs-var hs-var">txInfoData</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679731393"><span class="annot"><span class="annottext">TxId
txInfoId :: TxId
txInfoId :: TxInfo -&gt; TxId
</span><a href="#local-6989586621679731393"><span class="hs-identifier hs-var hs-var">txInfoId</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-130"></span><span>        </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span>
</span><span id="line-131"></span><span>            </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;TxId:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">TxId -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621679731393"><span class="hs-identifier hs-var">txInfoId</span></a></span><span>
</span><span id="line-132"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Inputs:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">[TxInInfo] -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">[TxInInfo]
</span><a href="#local-6989586621679731402"><span class="hs-identifier hs-var">txInfoInputs</span></a></span><span>
</span><span id="line-133"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Outputs:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">[TxOut] -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">[TxOut]
</span><a href="#local-6989586621679731401"><span class="hs-identifier hs-var">txInfoOutputs</span></a></span><span>
</span><span id="line-134"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Fee:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679731400"><span class="hs-identifier hs-var">txInfoFee</span></a></span><span>
</span><span id="line-135"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Value minted:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679731399"><span class="hs-identifier hs-var">txInfoMint</span></a></span><span>
</span><span id="line-136"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;DCerts:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">[DCert] -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">[DCert]
</span><a href="#local-6989586621679731398"><span class="hs-identifier hs-var">txInfoDCert</span></a></span><span>
</span><span id="line-137"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Wdrl:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">[(StakingCredential, Integer)] -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">[(StakingCredential, Integer)]
</span><a href="#local-6989586621679731397"><span class="hs-identifier hs-var">txInfoWdrl</span></a></span><span>
</span><span id="line-138"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Valid range:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">POSIXTimeRange -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">POSIXTimeRange
</span><a href="#local-6989586621679731396"><span class="hs-identifier hs-var">txInfoValidRange</span></a></span><span>
</span><span id="line-139"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Signatories:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">[PubKeyHash] -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">[PubKeyHash]
</span><a href="#local-6989586621679731395"><span class="hs-identifier hs-var">txInfoSignatories</span></a></span><span>
</span><span id="line-140"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Datums:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">[(DatumHash, Datum)] -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">[(DatumHash, Datum)]
</span><a href="#local-6989586621679731394"><span class="hs-identifier hs-var">txInfoData</span></a></span><span>
</span><span id="line-141"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span id="local-6989586621679731391"><span id="local-6989586621679731392"></span></span><span class="hs-keyword">data</span><span> </span><span id="ScriptContext"><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ScriptContext"><span class="hs-identifier hs-var">ScriptContext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ScriptContext"><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ScriptContext"><span class="hs-identifier hs-var">ScriptContext</span></a></span></span><span class="hs-special">{</span><span id="scriptContextTxInfo"><span class="annot"><span class="annottext">ScriptContext -&gt; TxInfo
</span><a href="Plutus.V1.Ledger.Contexts.html#scriptContextTxInfo"><span class="hs-identifier hs-var hs-var">scriptContextTxInfo</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span class="hs-special">,</span><span> </span><span id="scriptContextPurpose"><span class="annot"><span class="annottext">ScriptContext -&gt; ScriptPurpose
</span><a href="Plutus.V1.Ledger.Contexts.html#scriptContextPurpose"><span class="hs-identifier hs-var hs-var">scriptContextPurpose</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ScriptPurpose"><span class="hs-identifier hs-type">ScriptPurpose</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-144"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. ScriptContext -&gt; Rep ScriptContext x)
-&gt; (forall x. Rep ScriptContext x -&gt; ScriptContext)
-&gt; Generic ScriptContext
forall x. Rep ScriptContext x -&gt; ScriptContext
forall x. ScriptContext -&gt; Rep ScriptContext x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep ScriptContext x -&gt; ScriptContext
$cfrom :: forall x. ScriptContext -&gt; Rep ScriptContext x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679731382"><span id="local-6989586621679731384"><span class="annot"><span class="annottext">ScriptContext -&gt; ScriptContext -&gt; Bool
(ScriptContext -&gt; ScriptContext -&gt; Bool)
-&gt; (ScriptContext -&gt; ScriptContext -&gt; Bool) -&gt; Eq ScriptContext
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ScriptContext -&gt; ScriptContext -&gt; Bool
$c/= :: ScriptContext -&gt; ScriptContext -&gt; Bool
== :: ScriptContext -&gt; ScriptContext -&gt; Bool
$c== :: ScriptContext -&gt; ScriptContext -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Haskell.Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679731376"><span id="local-6989586621679731378"><span id="local-6989586621679731380"><span class="annot"><span class="annottext">Int -&gt; ScriptContext -&gt; ShowS
[ScriptContext] -&gt; ShowS
ScriptContext -&gt; String
(Int -&gt; ScriptContext -&gt; ShowS)
-&gt; (ScriptContext -&gt; String)
-&gt; ([ScriptContext] -&gt; ShowS)
-&gt; Show ScriptContext
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ScriptContext] -&gt; ShowS
$cshowList :: [ScriptContext] -&gt; ShowS
show :: ScriptContext -&gt; String
$cshow :: ScriptContext -&gt; String
showsPrec :: Int -&gt; ScriptContext -&gt; ShowS
$cshowsPrec :: Int -&gt; ScriptContext -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Haskell.Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-147"></span><span>    </span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">==</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-148"></span><span>    </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span><span> </span><span id="local-6989586621679731374"><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621679731374"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621679731373"><span class="annot"><span class="annottext">ScriptPurpose
</span><a href="#local-6989586621679731373"><span class="hs-identifier hs-var">purpose</span></a></span></span><span> </span><span id="local-6989586621679731372"><span class="annot"><span class="annottext">== :: ScriptContext -&gt; ScriptContext -&gt; Bool
</span><a href="#local-6989586621679731372"><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></a></span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span><span> </span><span id="local-6989586621679731371"><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621679731371"><span class="hs-identifier hs-var">info'</span></a></span></span><span> </span><span id="local-6989586621679731370"><span class="annot"><span class="annottext">ScriptPurpose
</span><a href="#local-6989586621679731370"><span class="hs-identifier hs-var">purpose'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621679731374"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="annot"><span class="annottext">TxInfo -&gt; TxInfo -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621679731371"><span class="hs-identifier hs-var">info'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">ScriptPurpose
</span><a href="#local-6989586621679731373"><span class="hs-identifier hs-var">purpose</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptPurpose -&gt; ScriptPurpose -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">ScriptPurpose
</span><a href="#local-6989586621679731370"><span class="hs-identifier hs-var">purpose'</span></a></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679731367"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-151"></span><span>    </span><span id="local-6989586621679731366"><span class="annot"><span class="annottext">pretty :: ScriptContext -&gt; Doc ann
</span><a href="#local-6989586621679731366"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span><span class="hs-special">{</span><span id="local-6989586621679731365"><span class="annot"><span class="annottext">TxInfo
scriptContextTxInfo :: TxInfo
scriptContextTxInfo :: ScriptContext -&gt; TxInfo
</span><a href="#local-6989586621679731365"><span class="hs-identifier hs-var hs-var">scriptContextTxInfo</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679731364"><span class="annot"><span class="annottext">ScriptPurpose
scriptContextPurpose :: ScriptPurpose
scriptContextPurpose :: ScriptContext -&gt; ScriptPurpose
</span><a href="#local-6989586621679731364"><span class="hs-identifier hs-var hs-var">scriptContextPurpose</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-152"></span><span>        </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span>
</span><span id="line-153"></span><span>            </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Purpose:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">ScriptPurpose -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">ScriptPurpose
</span><a href="#local-6989586621679731364"><span class="hs-identifier hs-var">scriptContextPurpose</span></a></span><span>
</span><span id="line-154"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc ann -&gt; Doc ann
forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">nest</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;TxInfo:&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TxInfo -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621679731365"><span class="hs-identifier hs-var">scriptContextTxInfo</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-155"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#findOwnInput"><span class="hs-pragma hs-type">findOwnInput</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-158"></span><span class="hs-comment">-- | Find the input currently being validated.</span><span>
</span><span id="line-159"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#findOwnInput"><span class="hs-identifier hs-type">findOwnInput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span><span>
</span><span id="line-160"></span><span id="findOwnInput"><span class="annot"><span class="annottext">findOwnInput :: ScriptContext -&gt; Maybe TxInInfo
</span><a href="Plutus.V1.Ledger.Contexts.html#findOwnInput"><span class="hs-identifier hs-var hs-var">findOwnInput</span></a></span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">scriptContextTxInfo :: ScriptContext -&gt; TxInfo
</span><a href="Plutus.V1.Ledger.Contexts.html#scriptContextTxInfo"><span class="hs-identifier hs-var">scriptContextTxInfo</span></a></span><span class="hs-glyph">=</span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span class="hs-special">{</span><span id="local-6989586621679731362"><span class="annot"><span class="annottext">[TxInInfo]
txInfoInputs :: [TxInInfo]
txInfoInputs :: TxInfo -&gt; [TxInInfo]
</span><a href="#local-6989586621679731362"><span class="hs-identifier hs-var hs-var">txInfoInputs</span></a></span></span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">scriptContextPurpose :: ScriptContext -&gt; ScriptPurpose
</span><a href="Plutus.V1.Ledger.Contexts.html#scriptContextPurpose"><span class="hs-identifier hs-var">scriptContextPurpose</span></a></span><span class="hs-glyph">=</span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#Spending"><span class="hs-identifier hs-type">Spending</span></a></span><span> </span><span id="local-6989586621679731361"><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679731361"><span class="hs-identifier hs-var">txOutRef</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-161"></span><span>    </span><span class="annot"><span class="annottext">(TxInInfo -&gt; Bool) -&gt; [TxInInfo] -&gt; Maybe TxInInfo
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Maybe a
</span><span class="hs-identifier hs-var">find</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span><span class="hs-special">{</span><span id="local-6989586621679731359"><span class="annot"><span class="annottext">TxOutRef
txInInfoOutRef :: TxOutRef
txInInfoOutRef :: TxInInfo -&gt; TxOutRef
</span><a href="#local-6989586621679731359"><span class="hs-identifier hs-var hs-var">txInInfoOutRef</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679731359"><span class="hs-identifier hs-var">txInInfoOutRef</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef -&gt; TxOutRef -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679731361"><span class="hs-identifier hs-var">txOutRef</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TxInInfo]
</span><a href="#local-6989586621679731362"><span class="hs-identifier hs-var">txInfoInputs</span></a></span><span>
</span><span id="line-162"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#findOwnInput"><span class="hs-identifier hs-var">findOwnInput</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptContext
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe TxInInfo
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#findDatum"><span class="hs-pragma hs-type">findDatum</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-165"></span><span class="hs-comment">-- | Find the data corresponding to a data hash, if there is one</span><span>
</span><span id="line-166"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#findDatum"><span class="hs-identifier hs-type">findDatum</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Scripts.html#DatumHash"><span class="hs-identifier hs-type">DatumHash</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Scripts.html#Datum"><span class="hs-identifier hs-type">Datum</span></a></span><span>
</span><span id="line-167"></span><span id="findDatum"><span class="annot"><span class="annottext">findDatum :: DatumHash -&gt; TxInfo -&gt; Maybe Datum
</span><a href="Plutus.V1.Ledger.Contexts.html#findDatum"><span class="hs-identifier hs-var hs-var">findDatum</span></a></span></span><span> </span><span id="local-6989586621679731358"><span class="annot"><span class="annottext">DatumHash
</span><a href="#local-6989586621679731358"><span class="hs-identifier hs-var">dsh</span></a></span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span class="hs-special">{</span><span id="local-6989586621679731357"><span class="annot"><span class="annottext">[(DatumHash, Datum)]
txInfoData :: [(DatumHash, Datum)]
txInfoData :: TxInfo -&gt; [(DatumHash, Datum)]
</span><a href="#local-6989586621679731357"><span class="hs-identifier hs-var hs-var">txInfoData</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DatumHash, Datum) -&gt; Datum
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((DatumHash, Datum) -&gt; Datum)
-&gt; Maybe (DatumHash, Datum) -&gt; Maybe Datum
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">((DatumHash, Datum) -&gt; Bool)
-&gt; [(DatumHash, Datum)] -&gt; Maybe (DatumHash, Datum)
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Maybe a
</span><span class="hs-identifier hs-var">find</span></span><span> </span><span class="annot"><span class="annottext">(DatumHash, Datum) -&gt; Bool
forall b. (DatumHash, b) -&gt; Bool
</span><a href="#local-6989586621679731354"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[(DatumHash, Datum)]
</span><a href="#local-6989586621679731357"><span class="hs-identifier hs-var">txInfoData</span></a></span><span>
</span><span id="line-168"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-169"></span><span>        </span><span id="local-6989586621679731354"><span class="annot"><span class="annottext">f :: (DatumHash, b) -&gt; Bool
</span><a href="#local-6989586621679731354"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679731353"><span class="annot"><span class="annottext">DatumHash
</span><a href="#local-6989586621679731353"><span class="hs-identifier hs-var">dsh'</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DatumHash
</span><a href="#local-6989586621679731353"><span class="hs-identifier hs-var">dsh'</span></a></span><span> </span><span class="annot"><span class="annottext">DatumHash -&gt; DatumHash -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">DatumHash
</span><a href="#local-6989586621679731358"><span class="hs-identifier hs-var">dsh</span></a></span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#findDatumHash"><span class="hs-pragma hs-type">findDatumHash</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-172"></span><span class="hs-comment">-- | Find the hash of a datum, if it is part of the pending transaction's</span><span>
</span><span id="line-173"></span><span class="hs-comment">--   hashes</span><span>
</span><span id="line-174"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#findDatumHash"><span class="hs-identifier hs-type">findDatumHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Scripts.html#Datum"><span class="hs-identifier hs-type">Datum</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Scripts.html#DatumHash"><span class="hs-identifier hs-type">DatumHash</span></a></span><span>
</span><span id="line-175"></span><span id="findDatumHash"><span class="annot"><span class="annottext">findDatumHash :: Datum -&gt; TxInfo -&gt; Maybe DatumHash
</span><a href="Plutus.V1.Ledger.Contexts.html#findDatumHash"><span class="hs-identifier hs-var hs-var">findDatumHash</span></a></span></span><span> </span><span id="local-6989586621679731352"><span class="annot"><span class="annottext">Datum
</span><a href="#local-6989586621679731352"><span class="hs-identifier hs-var">ds</span></a></span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span class="hs-special">{</span><span id="local-6989586621679731351"><span class="annot"><span class="annottext">[(DatumHash, Datum)]
txInfoData :: [(DatumHash, Datum)]
txInfoData :: TxInfo -&gt; [(DatumHash, Datum)]
</span><a href="#local-6989586621679731351"><span class="hs-identifier hs-var hs-var">txInfoData</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DatumHash, Datum) -&gt; DatumHash
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">((DatumHash, Datum) -&gt; DatumHash)
-&gt; Maybe (DatumHash, Datum) -&gt; Maybe DatumHash
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">((DatumHash, Datum) -&gt; Bool)
-&gt; [(DatumHash, Datum)] -&gt; Maybe (DatumHash, Datum)
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Maybe a
</span><span class="hs-identifier hs-var">find</span></span><span> </span><span class="annot"><span class="annottext">(DatumHash, Datum) -&gt; Bool
forall a. (a, Datum) -&gt; Bool
</span><a href="#local-6989586621679731349"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[(DatumHash, Datum)]
</span><a href="#local-6989586621679731351"><span class="hs-identifier hs-var">txInfoData</span></a></span><span>
</span><span id="line-176"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-177"></span><span>        </span><span id="local-6989586621679731349"><span class="annot"><span class="annottext">f :: (a, Datum) -&gt; Bool
</span><a href="#local-6989586621679731349"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679731348"><span class="annot"><span class="annottext">Datum
</span><a href="#local-6989586621679731348"><span class="hs-identifier hs-var">ds'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Datum
</span><a href="#local-6989586621679731348"><span class="hs-identifier hs-var">ds'</span></a></span><span> </span><span class="annot"><span class="annottext">Datum -&gt; Datum -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Datum
</span><a href="#local-6989586621679731352"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#findTxInByTxOutRef"><span class="hs-pragma hs-type">findTxInByTxOutRef</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-180"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#findTxInByTxOutRef"><span class="hs-identifier hs-type">findTxInByTxOutRef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxOutRef"><span class="hs-identifier hs-type">TxOutRef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span><span>
</span><span id="line-181"></span><span id="findTxInByTxOutRef"><span class="annot"><span class="annottext">findTxInByTxOutRef :: TxOutRef -&gt; TxInfo -&gt; Maybe TxInInfo
</span><a href="Plutus.V1.Ledger.Contexts.html#findTxInByTxOutRef"><span class="hs-identifier hs-var hs-var">findTxInByTxOutRef</span></a></span></span><span> </span><span id="local-6989586621679731347"><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679731347"><span class="hs-identifier hs-var">outRef</span></a></span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span class="hs-special">{</span><span id="local-6989586621679731346"><span class="annot"><span class="annottext">[TxInInfo]
txInfoInputs :: [TxInInfo]
txInfoInputs :: TxInfo -&gt; [TxInInfo]
</span><a href="#local-6989586621679731346"><span class="hs-identifier hs-var hs-var">txInfoInputs</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-182"></span><span>    </span><span class="annot"><span class="annottext">(TxInInfo -&gt; Bool) -&gt; [TxInInfo] -&gt; Maybe TxInInfo
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Maybe a
</span><span class="hs-identifier hs-var">find</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span><span class="hs-special">{</span><span id="local-6989586621679731345"><span class="annot"><span class="annottext">TxOutRef
txInInfoOutRef :: TxOutRef
txInInfoOutRef :: TxInInfo -&gt; TxOutRef
</span><a href="#local-6989586621679731345"><span class="hs-identifier hs-var hs-var">txInInfoOutRef</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679731345"><span class="hs-identifier hs-var">txInInfoOutRef</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef -&gt; TxOutRef -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679731347"><span class="hs-identifier hs-var">outRef</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TxInInfo]
</span><a href="#local-6989586621679731346"><span class="hs-identifier hs-var">txInfoInputs</span></a></span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#findContinuingOutputs"><span class="hs-pragma hs-type">findContinuingOutputs</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-185"></span><span class="hs-comment">-- | Finds all the outputs that pay to the same script address that we are currently spending from, if any.</span><span>
</span><span id="line-186"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#findContinuingOutputs"><span class="hs-identifier hs-type">findContinuingOutputs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-187"></span><span id="findContinuingOutputs"><span class="annot"><span class="annottext">findContinuingOutputs :: ScriptContext -&gt; [Integer]
</span><a href="Plutus.V1.Ledger.Contexts.html#findContinuingOutputs"><span class="hs-identifier hs-var hs-var">findContinuingOutputs</span></a></span></span><span> </span><span id="local-6989586621679731344"><span class="annot"><span class="annottext">ScriptContext
</span><a href="#local-6989586621679731344"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">txInInfoResolved :: TxInInfo -&gt; TxOut
</span><a href="Plutus.V1.Ledger.Contexts.html#txInInfoResolved"><span class="hs-identifier hs-var">txInInfoResolved</span></a></span><span class="hs-glyph">=</span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">{</span><span id="local-6989586621679731342"><span class="annot"><span class="annottext">Address
txOutAddress :: TxOut -&gt; Address
txOutAddress :: Address
</span><a href="Plutus.V1.Ledger.Tx.html#txOutAddress"><span class="hs-identifier hs-var hs-var">txOutAddress</span></a></span></span><span class="hs-special">}</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ScriptContext -&gt; Maybe TxInInfo
</span><a href="Plutus.V1.Ledger.Contexts.html#findOwnInput"><span class="hs-identifier hs-var">findOwnInput</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptContext
</span><a href="#local-6989586621679731344"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxOut -&gt; Bool) -&gt; [TxOut] -&gt; [Integer]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [Integer]
</span><span class="hs-identifier hs-var">findIndices</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Address -&gt; TxOut -&gt; Bool
</span><a href="#local-6989586621679731339"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679731342"><span class="hs-identifier hs-var">txOutAddress</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxInfo -&gt; [TxOut]
</span><a href="Plutus.V1.Ledger.Contexts.html#txInfoOutputs"><span class="hs-identifier hs-var hs-var">txInfoOutputs</span></a></span><span> </span><span class="annot"><span class="annottext">(TxInfo -&gt; [TxOut]) -&gt; TxInfo -&gt; [TxOut]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ScriptContext -&gt; TxInfo
</span><a href="Plutus.V1.Ledger.Contexts.html#scriptContextTxInfo"><span class="hs-identifier hs-var hs-var">scriptContextTxInfo</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptContext
</span><a href="#local-6989586621679731344"><span class="hs-identifier hs-var">ctx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-189"></span><span>        </span><span id="local-6989586621679731339"><span class="annot"><span class="annottext">f :: Address -&gt; TxOut -&gt; Bool
</span><a href="#local-6989586621679731339"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679731338"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679731338"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">txOutAddress :: TxOut -&gt; Address
</span><a href="Plutus.V1.Ledger.Tx.html#txOutAddress"><span class="hs-identifier hs-var">txOutAddress</span></a></span><span class="hs-glyph">=</span><span id="local-6989586621679731337"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679731337"><span class="hs-identifier hs-var">otherAddress</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679731338"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="annot"><span class="annottext">Address -&gt; Address -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679731337"><span class="hs-identifier hs-var">otherAddress</span></a></span><span>
</span><span id="line-190"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#findContinuingOutputs"><span class="hs-identifier hs-var">findContinuingOutputs</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptContext
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuiltinString -&gt; [Integer]
forall a. BuiltinString -&gt; a
</span><span class="hs-identifier hs-var">traceError</span></span><span> </span><span class="annot"><span class="annottext">BuiltinString
</span><span class="hs-string">&quot;Le&quot;</span></span><span> </span><span class="hs-comment">-- &quot;Can't find any continuing outputs&quot;</span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#getContinuingOutputs"><span class="hs-pragma hs-type">getContinuingOutputs</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-193"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#getContinuingOutputs"><span class="hs-identifier hs-type">getContinuingOutputs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-194"></span><span id="getContinuingOutputs"><span class="annot"><span class="annottext">getContinuingOutputs :: ScriptContext -&gt; [TxOut]
</span><a href="Plutus.V1.Ledger.Contexts.html#getContinuingOutputs"><span class="hs-identifier hs-var hs-var">getContinuingOutputs</span></a></span></span><span> </span><span id="local-6989586621679731335"><span class="annot"><span class="annottext">ScriptContext
</span><a href="#local-6989586621679731335"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">txInInfoResolved :: TxInInfo -&gt; TxOut
</span><a href="Plutus.V1.Ledger.Contexts.html#txInInfoResolved"><span class="hs-identifier hs-var">txInInfoResolved</span></a></span><span class="hs-glyph">=</span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">{</span><span id="local-6989586621679731334"><span class="annot"><span class="annottext">Address
txOutAddress :: Address
txOutAddress :: TxOut -&gt; Address
</span><a href="#local-6989586621679731334"><span class="hs-identifier hs-var hs-var">txOutAddress</span></a></span></span><span class="hs-special">}</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ScriptContext -&gt; Maybe TxInInfo
</span><a href="Plutus.V1.Ledger.Contexts.html#findOwnInput"><span class="hs-identifier hs-var">findOwnInput</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptContext
</span><a href="#local-6989586621679731335"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxOut -&gt; Bool) -&gt; [TxOut] -&gt; [TxOut]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Address -&gt; TxOut -&gt; Bool
</span><a href="#local-6989586621679731332"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679731334"><span class="hs-identifier hs-var">txOutAddress</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxInfo -&gt; [TxOut]
</span><a href="Plutus.V1.Ledger.Contexts.html#txInfoOutputs"><span class="hs-identifier hs-var hs-var">txInfoOutputs</span></a></span><span> </span><span class="annot"><span class="annottext">(TxInfo -&gt; [TxOut]) -&gt; TxInfo -&gt; [TxOut]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ScriptContext -&gt; TxInfo
</span><a href="Plutus.V1.Ledger.Contexts.html#scriptContextTxInfo"><span class="hs-identifier hs-var hs-var">scriptContextTxInfo</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptContext
</span><a href="#local-6989586621679731335"><span class="hs-identifier hs-var">ctx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-196"></span><span>        </span><span id="local-6989586621679731332"><span class="annot"><span class="annottext">f :: Address -&gt; TxOut -&gt; Bool
</span><a href="#local-6989586621679731332"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679731331"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679731331"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">txOutAddress :: TxOut -&gt; Address
</span><a href="Plutus.V1.Ledger.Tx.html#txOutAddress"><span class="hs-identifier hs-var">txOutAddress</span></a></span><span class="hs-glyph">=</span><span id="local-6989586621679731330"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679731330"><span class="hs-identifier hs-var">otherAddress</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679731331"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="annot"><span class="annottext">Address -&gt; Address -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679731330"><span class="hs-identifier hs-var">otherAddress</span></a></span><span>
</span><span id="line-197"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#getContinuingOutputs"><span class="hs-identifier hs-var">getContinuingOutputs</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptContext
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuiltinString -&gt; [TxOut]
forall a. BuiltinString -&gt; a
</span><span class="hs-identifier hs-var">traceError</span></span><span> </span><span class="annot"><span class="annottext">BuiltinString
</span><span class="hs-string">&quot;Lf&quot;</span></span><span> </span><span class="hs-comment">-- &quot;Can't get any continuing outputs&quot;</span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span class="hs-comment">{- Note [Hashes in validator scripts]

We need to deal with hashes of four different things in a validator script:

1. Transactions
2. Validator scripts
3. Data scripts
4. Redeemer scripts

The mockchain code in 'Ledger.Tx' only deals with the hashes of(1)
and (2), and uses the 'Ledger.Tx.TxId' and `Digest SHA256` types for
them.

In PLC validator scripts the situation is different: First, they need to work
with hashes of (1-4). Second, the `Digest SHA256` type is not available in PLC
- we have to represent all hashes as `ByteStrings`.

To ensure that we only compare hashes of the correct type inside a validator
script, we define a newtype for each of them, as well as functions for creating
them from the correct types in Haskell, and for comparing them (in
`Language.Plutus.Runtime.TH`).

-}</span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#txSignedBy"><span class="hs-pragma hs-type">txSignedBy</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-224"></span><span class="hs-comment">-- | Check if a transaction was signed by the given public key.</span><span>
</span><span id="line-225"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#txSignedBy"><span class="hs-identifier hs-type">txSignedBy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Crypto.html#PubKeyHash"><span class="hs-identifier hs-type">PubKeyHash</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-226"></span><span id="txSignedBy"><span class="annot"><span class="annottext">txSignedBy :: TxInfo -&gt; PubKeyHash -&gt; Bool
</span><a href="Plutus.V1.Ledger.Contexts.html#txSignedBy"><span class="hs-identifier hs-var hs-var">txSignedBy</span></a></span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span class="hs-special">{</span><span id="local-6989586621679731329"><span class="annot"><span class="annottext">[PubKeyHash]
txInfoSignatories :: [PubKeyHash]
txInfoSignatories :: TxInfo -&gt; [PubKeyHash]
</span><a href="#local-6989586621679731329"><span class="hs-identifier hs-var hs-var">txInfoSignatories</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621679731328"><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621679731328"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(PubKeyHash -&gt; Bool) -&gt; [PubKeyHash] -&gt; Maybe PubKeyHash
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Maybe a
</span><span class="hs-identifier hs-var">find</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PubKeyHash -&gt; PubKeyHash -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span> </span><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621679731328"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[PubKeyHash]
</span><a href="#local-6989586621679731329"><span class="hs-identifier hs-var">txInfoSignatories</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-227"></span><span>    </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><span class="annottext">PubKeyHash
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-228"></span><span>    </span><span class="annot"><span class="annottext">Maybe PubKeyHash
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#pubKeyOutput"><span class="hs-pragma hs-type">pubKeyOutput</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-231"></span><span class="hs-comment">-- | Get the public key hash that locks the transaction output, if any.</span><span>
</span><span id="line-232"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#pubKeyOutput"><span class="hs-identifier hs-type">pubKeyOutput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Crypto.html#PubKeyHash"><span class="hs-identifier hs-type">PubKeyHash</span></a></span><span>
</span><span id="line-233"></span><span id="pubKeyOutput"><span class="annot"><span class="annottext">pubKeyOutput :: TxOut -&gt; Maybe PubKeyHash
</span><a href="Plutus.V1.Ledger.Contexts.html#pubKeyOutput"><span class="hs-identifier hs-var hs-var">pubKeyOutput</span></a></span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">{</span><span id="local-6989586621679731327"><span class="annot"><span class="annottext">Address
txOutAddress :: Address
txOutAddress :: TxOut -&gt; Address
</span><a href="#local-6989586621679731327"><span class="hs-identifier hs-var hs-var">txOutAddress</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Address -&gt; Maybe PubKeyHash
</span><a href="Plutus.V1.Ledger.Address.html#toPubKeyHash"><span class="hs-identifier hs-var">toPubKeyHash</span></a></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679731327"><span class="hs-identifier hs-var">txOutAddress</span></a></span><span>
</span><span id="line-234"></span><span>
</span><span id="line-235"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ownHashes"><span class="hs-pragma hs-type">ownHashes</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-236"></span><span class="hs-comment">-- | Get the validator and datum hashes of the output that is curently being validated</span><span>
</span><span id="line-237"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ownHashes"><span class="hs-identifier hs-type">ownHashes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.V1.Ledger.Scripts.html#ValidatorHash"><span class="hs-identifier hs-type">ValidatorHash</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Scripts.html#DatumHash"><span class="hs-identifier hs-type">DatumHash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-238"></span><span id="ownHashes"><span class="annot"><span class="annottext">ownHashes :: ScriptContext -&gt; (ValidatorHash, DatumHash)
</span><a href="Plutus.V1.Ledger.Contexts.html#ownHashes"><span class="hs-identifier hs-var hs-var">ownHashes</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptContext -&gt; Maybe TxInInfo
</span><a href="Plutus.V1.Ledger.Contexts.html#findOwnInput"><span class="hs-identifier hs-var">findOwnInput</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">txInInfoResolved :: TxInInfo -&gt; TxOut
</span><a href="Plutus.V1.Ledger.Contexts.html#txInInfoResolved"><span class="hs-identifier hs-var">txInInfoResolved</span></a></span><span class="hs-glyph">=</span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">txOutAddress :: TxOut -&gt; Address
</span><a href="Plutus.V1.Ledger.Tx.html#txOutAddress"><span class="hs-identifier hs-var">txOutAddress</span></a></span><span class="hs-glyph">=</span><span class="annot"><a href="Plutus.V1.Ledger.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.V1.Ledger.Credential.html#ScriptCredential"><span class="hs-identifier hs-type">ScriptCredential</span></a></span><span> </span><span id="local-6989586621679731324"><span class="annot"><span class="annottext">ValidatorHash
</span><a href="#local-6989586621679731324"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe StakingCredential
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">txOutDatumHash :: TxOut -&gt; Maybe DatumHash
</span><a href="Plutus.V1.Ledger.Tx.html#txOutDatumHash"><span class="hs-identifier hs-var">txOutDatumHash</span></a></span><span class="hs-glyph">=</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679731322"><span class="annot"><span class="annottext">DatumHash
</span><a href="#local-6989586621679731322"><span class="hs-identifier hs-var">dh</span></a></span></span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ValidatorHash
</span><a href="#local-6989586621679731324"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">DatumHash
</span><a href="#local-6989586621679731322"><span class="hs-identifier hs-var">dh</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ownHashes"><span class="hs-identifier hs-var">ownHashes</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptContext
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuiltinString -&gt; (ValidatorHash, DatumHash)
forall a. BuiltinString -&gt; a
</span><span class="hs-identifier hs-var">traceError</span></span><span> </span><span class="annot"><span class="annottext">BuiltinString
</span><span class="hs-string">&quot;Lg&quot;</span></span><span> </span><span class="hs-comment">-- &quot;Can't get validator and datum hashes&quot;</span><span>
</span><span id="line-240"></span><span>
</span><span id="line-241"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ownHash"><span class="hs-pragma hs-type">ownHash</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-242"></span><span class="hs-comment">-- | Get the hash of the validator script that is currently being validated.</span><span>
</span><span id="line-243"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ownHash"><span class="hs-identifier hs-type">ownHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Scripts.html#ValidatorHash"><span class="hs-identifier hs-type">ValidatorHash</span></a></span><span>
</span><span id="line-244"></span><span id="ownHash"><span class="annot"><span class="annottext">ownHash :: ScriptContext -&gt; ValidatorHash
</span><a href="Plutus.V1.Ledger.Contexts.html#ownHash"><span class="hs-identifier hs-var hs-var">ownHash</span></a></span></span><span> </span><span id="local-6989586621679731321"><span class="annot"><span class="annottext">ScriptContext
</span><a href="#local-6989586621679731321"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ValidatorHash, DatumHash) -&gt; ValidatorHash
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptContext -&gt; (ValidatorHash, DatumHash)
</span><a href="Plutus.V1.Ledger.Contexts.html#ownHashes"><span class="hs-identifier hs-var">ownHashes</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptContext
</span><a href="#local-6989586621679731321"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#fromSymbol"><span class="hs-pragma hs-type">fromSymbol</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-247"></span><span class="hs-comment">-- | Convert a 'CurrencySymbol' to a 'ValidatorHash'</span><span>
</span><span id="line-248"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#fromSymbol"><span class="hs-identifier hs-type">fromSymbol</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Value.html#CurrencySymbol"><span class="hs-identifier hs-type">CurrencySymbol</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Scripts.html#ValidatorHash"><span class="hs-identifier hs-type">ValidatorHash</span></a></span><span>
</span><span id="line-249"></span><span id="fromSymbol"><span class="annot"><span class="annottext">fromSymbol :: CurrencySymbol -&gt; ValidatorHash
</span><a href="Plutus.V1.Ledger.Contexts.html#fromSymbol"><span class="hs-identifier hs-var hs-var">fromSymbol</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.V1.Ledger.Value.html#CurrencySymbol"><span class="hs-identifier hs-type">CurrencySymbol</span></a></span><span> </span><span id="local-6989586621679731319"><span class="annot"><span class="annottext">BuiltinByteString
</span><a href="#local-6989586621679731319"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; ValidatorHash
</span><a href="Plutus.V1.Ledger.Scripts.html#ValidatorHash"><span class="hs-identifier hs-var">ValidatorHash</span></a></span><span> </span><span class="annot"><span class="annottext">BuiltinByteString
</span><a href="#local-6989586621679731319"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-250"></span><span>
</span><span id="line-251"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#scriptOutputsAt"><span class="hs-pragma hs-type">scriptOutputsAt</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-252"></span><span class="hs-comment">-- | Get the list of 'TxOut' outputs of the pending transaction at</span><span>
</span><span id="line-253"></span><span class="hs-comment">--   a given script address.</span><span>
</span><span id="line-254"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#scriptOutputsAt"><span class="hs-identifier hs-type">scriptOutputsAt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Scripts.html#ValidatorHash"><span class="hs-identifier hs-type">ValidatorHash</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.V1.Ledger.Scripts.html#DatumHash"><span class="hs-identifier hs-type">DatumHash</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Value.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-255"></span><span id="scriptOutputsAt"><span class="annot"><span class="annottext">scriptOutputsAt :: ValidatorHash -&gt; TxInfo -&gt; [(DatumHash, Value)]
</span><a href="Plutus.V1.Ledger.Contexts.html#scriptOutputsAt"><span class="hs-identifier hs-var hs-var">scriptOutputsAt</span></a></span></span><span> </span><span id="local-6989586621679731317"><span class="annot"><span class="annottext">ValidatorHash
</span><a href="#local-6989586621679731317"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679731316"><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621679731316"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-256"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679731315"><span class="annot"><span class="annottext">flt :: TxOut -&gt; Maybe (DatumHash, Value)
</span><a href="#local-6989586621679731315"><span class="hs-identifier hs-var hs-var">flt</span></a></span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">txOutDatumHash :: TxOut -&gt; Maybe DatumHash
</span><a href="Plutus.V1.Ledger.Tx.html#txOutDatumHash"><span class="hs-identifier hs-var">txOutDatumHash</span></a></span><span class="hs-glyph">=</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679731314"><span class="annot"><span class="annottext">DatumHash
</span><a href="#local-6989586621679731314"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">txOutAddress :: TxOut -&gt; Address
</span><a href="Plutus.V1.Ledger.Tx.html#txOutAddress"><span class="hs-identifier hs-var">txOutAddress</span></a></span><span class="hs-glyph">=</span><span class="annot"><a href="Plutus.V1.Ledger.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.V1.Ledger.Credential.html#ScriptCredential"><span class="hs-identifier hs-type">ScriptCredential</span></a></span><span> </span><span id="local-6989586621679731313"><span class="annot"><span class="annottext">ValidatorHash
</span><a href="#local-6989586621679731313"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe StakingCredential
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679731312"><span class="annot"><span class="annottext">Value
txOutValue :: TxOut -&gt; Value
txOutValue :: Value
</span><a href="Plutus.V1.Ledger.Tx.html#txOutValue"><span class="hs-identifier hs-var hs-var">txOutValue</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">ValidatorHash
</span><a href="#local-6989586621679731313"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">ValidatorHash -&gt; ValidatorHash -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">ValidatorHash
</span><a href="#local-6989586621679731317"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DatumHash, Value) -&gt; Maybe (DatumHash, Value)
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatumHash
</span><a href="#local-6989586621679731314"><span class="hs-identifier hs-var">ds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679731312"><span class="hs-identifier hs-var">txOutValue</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-257"></span><span>        </span><span class="annot"><a href="#local-6989586621679731315"><span class="hs-identifier hs-var">flt</span></a></span><span> </span><span class="annot"><span class="annottext">TxOut
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (DatumHash, Value)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-258"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(TxOut -&gt; Maybe (DatumHash, Value))
-&gt; [TxOut] -&gt; [(DatumHash, Value)]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">TxOut -&gt; Maybe (DatumHash, Value)
</span><a href="#local-6989586621679731315"><span class="hs-identifier hs-var">flt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxInfo -&gt; [TxOut]
</span><a href="Plutus.V1.Ledger.Contexts.html#txInfoOutputs"><span class="hs-identifier hs-var hs-var">txInfoOutputs</span></a></span><span> </span><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621679731316"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#valueLockedBy"><span class="hs-pragma hs-type">valueLockedBy</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-261"></span><span class="hs-comment">-- | Get the total value locked by the given validator in this transaction.</span><span>
</span><span id="line-262"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#valueLockedBy"><span class="hs-identifier hs-type">valueLockedBy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Scripts.html#ValidatorHash"><span class="hs-identifier hs-type">ValidatorHash</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Value.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span>
</span><span id="line-263"></span><span id="valueLockedBy"><span class="annot"><span class="annottext">valueLockedBy :: TxInfo -&gt; ValidatorHash -&gt; Value
</span><a href="Plutus.V1.Ledger.Contexts.html#valueLockedBy"><span class="hs-identifier hs-var hs-var">valueLockedBy</span></a></span></span><span> </span><span id="local-6989586621679731309"><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621679731309"><span class="hs-identifier hs-var">ptx</span></a></span></span><span> </span><span id="local-6989586621679731308"><span class="annot"><span class="annottext">ValidatorHash
</span><a href="#local-6989586621679731308"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-264"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679731307"><span class="annot"><span class="annottext">outputs :: [Value]
</span><a href="#local-6989586621679731307"><span class="hs-identifier hs-var hs-var">outputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((DatumHash, Value) -&gt; Value) -&gt; [(DatumHash, Value)] -&gt; [Value]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(DatumHash, Value) -&gt; Value
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ValidatorHash -&gt; TxInfo -&gt; [(DatumHash, Value)]
</span><a href="Plutus.V1.Ledger.Contexts.html#scriptOutputsAt"><span class="hs-identifier hs-var">scriptOutputsAt</span></a></span><span> </span><span class="annot"><span class="annottext">ValidatorHash
</span><a href="#local-6989586621679731308"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621679731309"><span class="hs-identifier hs-var">ptx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-265"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">[Value] -&gt; Value
forall a. Monoid a =&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">mconcat</span></span><span> </span><span class="annot"><span class="annottext">[Value]
</span><a href="#local-6989586621679731307"><span class="hs-identifier hs-var">outputs</span></a></span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#pubKeyOutputsAt"><span class="hs-pragma hs-type">pubKeyOutputsAt</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-268"></span><span class="hs-comment">-- | Get the values paid to a public key address by a pending transaction.</span><span>
</span><span id="line-269"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#pubKeyOutputsAt"><span class="hs-identifier hs-type">pubKeyOutputsAt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Crypto.html#PubKeyHash"><span class="hs-identifier hs-type">PubKeyHash</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutus.V1.Ledger.Value.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-270"></span><span id="pubKeyOutputsAt"><span class="annot"><span class="annottext">pubKeyOutputsAt :: PubKeyHash -&gt; TxInfo -&gt; [Value]
</span><a href="Plutus.V1.Ledger.Contexts.html#pubKeyOutputsAt"><span class="hs-identifier hs-var hs-var">pubKeyOutputsAt</span></a></span></span><span> </span><span id="local-6989586621679731304"><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621679731304"><span class="hs-identifier hs-var">pk</span></a></span></span><span> </span><span id="local-6989586621679731303"><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621679731303"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-271"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679731302"><span class="annot"><span class="annottext">flt :: TxOut -&gt; Maybe Value
</span><a href="#local-6989586621679731302"><span class="hs-identifier hs-var hs-var">flt</span></a></span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">txOutAddress :: TxOut -&gt; Address
</span><a href="Plutus.V1.Ledger.Tx.html#txOutAddress"><span class="hs-identifier hs-var">txOutAddress</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.V1.Ledger.Credential.html#PubKeyCredential"><span class="hs-identifier hs-type">PubKeyCredential</span></a></span><span> </span><span id="local-6989586621679731300"><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621679731300"><span class="hs-identifier hs-var">pk'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe StakingCredential
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679731299"><span class="annot"><span class="annottext">Value
txOutValue :: Value
txOutValue :: TxOut -&gt; Value
</span><a href="#local-6989586621679731299"><span class="hs-identifier hs-var hs-var">txOutValue</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621679731304"><span class="hs-identifier hs-var">pk</span></a></span><span> </span><span class="annot"><span class="annottext">PubKeyHash -&gt; PubKeyHash -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621679731300"><span class="hs-identifier hs-var">pk'</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value -&gt; Maybe Value
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679731299"><span class="hs-identifier hs-var">txOutValue</span></a></span><span>
</span><span id="line-272"></span><span>        </span><span class="annot"><a href="#local-6989586621679731302"><span class="hs-identifier hs-var">flt</span></a></span><span> </span><span class="annot"><span class="annottext">TxOut
</span><span class="hs-identifier">_</span></span><span>                             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Value
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-273"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(TxOut -&gt; Maybe Value) -&gt; [TxOut] -&gt; [Value]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">TxOut -&gt; Maybe Value
</span><a href="#local-6989586621679731302"><span class="hs-identifier hs-var">flt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxInfo -&gt; [TxOut]
</span><a href="Plutus.V1.Ledger.Contexts.html#txInfoOutputs"><span class="hs-identifier hs-var hs-var">txInfoOutputs</span></a></span><span> </span><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621679731303"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#valuePaidTo"><span class="hs-pragma hs-type">valuePaidTo</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-276"></span><span class="hs-comment">-- | Get the total value paid to a public key address by a pending transaction.</span><span>
</span><span id="line-277"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#valuePaidTo"><span class="hs-identifier hs-type">valuePaidTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Crypto.html#PubKeyHash"><span class="hs-identifier hs-type">PubKeyHash</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Value.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span>
</span><span id="line-278"></span><span id="valuePaidTo"><span class="annot"><span class="annottext">valuePaidTo :: TxInfo -&gt; PubKeyHash -&gt; Value
</span><a href="Plutus.V1.Ledger.Contexts.html#valuePaidTo"><span class="hs-identifier hs-var hs-var">valuePaidTo</span></a></span></span><span> </span><span id="local-6989586621679731298"><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621679731298"><span class="hs-identifier hs-var">ptx</span></a></span></span><span> </span><span id="local-6989586621679731297"><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621679731297"><span class="hs-identifier hs-var">pkh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Value] -&gt; Value
forall a. Monoid a =&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">mconcat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PubKeyHash -&gt; TxInfo -&gt; [Value]
</span><a href="Plutus.V1.Ledger.Contexts.html#pubKeyOutputsAt"><span class="hs-identifier hs-var">pubKeyOutputsAt</span></a></span><span> </span><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621679731297"><span class="hs-identifier hs-var">pkh</span></a></span><span> </span><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621679731298"><span class="hs-identifier hs-var">ptx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span>
</span><span id="line-280"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#valueSpent"><span class="hs-pragma hs-type">valueSpent</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-281"></span><span class="hs-comment">-- | Get the total value of inputs spent by this transaction.</span><span>
</span><span id="line-282"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#valueSpent"><span class="hs-identifier hs-type">valueSpent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Value.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span>
</span><span id="line-283"></span><span id="valueSpent"><span class="annot"><span class="annottext">valueSpent :: TxInfo -&gt; Value
</span><a href="Plutus.V1.Ledger.Contexts.html#valueSpent"><span class="hs-identifier hs-var hs-var">valueSpent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxInInfo -&gt; Value) -&gt; [TxInInfo] -&gt; Value
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxOut -&gt; Value
</span><a href="Plutus.V1.Ledger.Tx.html#txOutValue"><span class="hs-identifier hs-var hs-var">txOutValue</span></a></span><span> </span><span class="annot"><span class="annottext">(TxOut -&gt; Value) -&gt; (TxInInfo -&gt; TxOut) -&gt; TxInInfo -&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TxInInfo -&gt; TxOut
</span><a href="Plutus.V1.Ledger.Contexts.html#txInInfoResolved"><span class="hs-identifier hs-var hs-var">txInInfoResolved</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([TxInInfo] -&gt; Value) -&gt; (TxInfo -&gt; [TxInInfo]) -&gt; TxInfo -&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TxInfo -&gt; [TxInInfo]
</span><a href="Plutus.V1.Ledger.Contexts.html#txInfoInputs"><span class="hs-identifier hs-var hs-var">txInfoInputs</span></a></span><span>
</span><span id="line-284"></span><span>
</span><span id="line-285"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#valueProduced"><span class="hs-pragma hs-type">valueProduced</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-286"></span><span class="hs-comment">-- | Get the total value of outputs produced by this transaction.</span><span>
</span><span id="line-287"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#valueProduced"><span class="hs-identifier hs-type">valueProduced</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Value.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span>
</span><span id="line-288"></span><span id="valueProduced"><span class="annot"><span class="annottext">valueProduced :: TxInfo -&gt; Value
</span><a href="Plutus.V1.Ledger.Contexts.html#valueProduced"><span class="hs-identifier hs-var hs-var">valueProduced</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxOut -&gt; Value) -&gt; [TxOut] -&gt; Value
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap</span></span><span> </span><span class="annot"><span class="annottext">TxOut -&gt; Value
</span><a href="Plutus.V1.Ledger.Tx.html#txOutValue"><span class="hs-identifier hs-var hs-var">txOutValue</span></a></span><span> </span><span class="annot"><span class="annottext">([TxOut] -&gt; Value) -&gt; (TxInfo -&gt; [TxOut]) -&gt; TxInfo -&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TxInfo -&gt; [TxOut]
</span><a href="Plutus.V1.Ledger.Contexts.html#txInfoOutputs"><span class="hs-identifier hs-var hs-var">txInfoOutputs</span></a></span><span>
</span><span id="line-289"></span><span>
</span><span id="line-290"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ownCurrencySymbol"><span class="hs-pragma hs-type">ownCurrencySymbol</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-291"></span><span class="hs-comment">-- | The 'CurrencySymbol' of the current validator script.</span><span>
</span><span id="line-292"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ownCurrencySymbol"><span class="hs-identifier hs-type">ownCurrencySymbol</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Value.html#CurrencySymbol"><span class="hs-identifier hs-type">CurrencySymbol</span></a></span><span>
</span><span id="line-293"></span><span id="ownCurrencySymbol"><span class="annot"><span class="annottext">ownCurrencySymbol :: ScriptContext -&gt; CurrencySymbol
</span><a href="Plutus.V1.Ledger.Contexts.html#ownCurrencySymbol"><span class="hs-identifier hs-var hs-var">ownCurrencySymbol</span></a></span></span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">scriptContextPurpose :: ScriptContext -&gt; ScriptPurpose
</span><a href="Plutus.V1.Ledger.Contexts.html#scriptContextPurpose"><span class="hs-identifier hs-var">scriptContextPurpose</span></a></span><span class="hs-glyph">=</span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#Minting"><span class="hs-identifier hs-type">Minting</span></a></span><span> </span><span id="local-6989586621679731294"><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621679731294"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621679731294"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-294"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#ownCurrencySymbol"><span class="hs-identifier hs-var">ownCurrencySymbol</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptContext
</span><span class="hs-identifier">_</span></span><span>                                              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuiltinString -&gt; CurrencySymbol
forall a. BuiltinString -&gt; a
</span><span class="hs-identifier hs-var">traceError</span></span><span> </span><span class="annot"><span class="annottext">BuiltinString
</span><span class="hs-string">&quot;Lh&quot;</span></span><span> </span><span class="hs-comment">-- &quot;Can't get currency symbol of the current validator script&quot;</span><span>
</span><span id="line-295"></span><span>
</span><span id="line-296"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#spendsOutput"><span class="hs-pragma hs-type">spendsOutput</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-297"></span><span class="hs-comment">-- | Check if the pending transaction spends a specific transaction output</span><span>
</span><span id="line-298"></span><span class="hs-comment">--   (identified by the hash of a transaction and an index into that</span><span>
</span><span id="line-299"></span><span class="hs-comment">--   transactions' outputs)</span><span>
</span><span id="line-300"></span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#spendsOutput"><span class="hs-identifier hs-type">spendsOutput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.V1.Ledger.Tx.html#TxId"><span class="hs-identifier hs-type">TxId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-301"></span><span id="spendsOutput"><span class="annot"><span class="annottext">spendsOutput :: TxInfo -&gt; TxId -&gt; Integer -&gt; Bool
</span><a href="Plutus.V1.Ledger.Contexts.html#spendsOutput"><span class="hs-identifier hs-var hs-var">spendsOutput</span></a></span></span><span> </span><span id="local-6989586621679731293"><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621679731293"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679731292"><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621679731292"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679731291"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679731291"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-302"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679731290"><span class="annot"><span class="annottext">spendsOutRef :: TxInInfo -&gt; Bool
</span><a href="#local-6989586621679731290"><span class="hs-identifier hs-var hs-var">spendsOutRef</span></a></span></span><span> </span><span id="local-6989586621679731289"><span class="annot"><span class="annottext">TxInInfo
</span><a href="#local-6989586621679731289"><span class="hs-identifier hs-var">inp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-303"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679731288"><span class="annot"><span class="annottext">outRef :: TxOutRef
</span><a href="#local-6989586621679731288"><span class="hs-identifier hs-var hs-var">outRef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxInInfo -&gt; TxOutRef
</span><a href="Plutus.V1.Ledger.Contexts.html#txInInfoOutRef"><span class="hs-identifier hs-var hs-var">txInInfoOutRef</span></a></span><span> </span><span class="annot"><span class="annottext">TxInInfo
</span><a href="#local-6989586621679731289"><span class="hs-identifier hs-var">inp</span></a></span><span>
</span><span id="line-304"></span><span>            </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621679731292"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">TxId -&gt; TxId -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TxOutRef -&gt; TxId
</span><a href="Plutus.V1.Ledger.Tx.html#txOutRefId"><span class="hs-identifier hs-var hs-var">txOutRefId</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679731288"><span class="hs-identifier hs-var">outRef</span></a></span><span>
</span><span id="line-305"></span><span>                </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679731291"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TxOutRef -&gt; Integer
</span><a href="Plutus.V1.Ledger.Tx.html#txOutRefIdx"><span class="hs-identifier hs-var hs-var">txOutRefIdx</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679731288"><span class="hs-identifier hs-var">outRef</span></a></span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(TxInInfo -&gt; Bool) -&gt; [TxInInfo] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="annot"><span class="annottext">TxInInfo -&gt; Bool
</span><a href="#local-6989586621679731290"><span class="hs-identifier hs-var">spendsOutRef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxInfo -&gt; [TxInInfo]
</span><a href="Plutus.V1.Ledger.Contexts.html#txInfoInputs"><span class="hs-identifier hs-var hs-var">txInfoInputs</span></a></span><span> </span><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621679731293"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span id="local-6989586621679731281"><span id="local-6989586621679731283"><span class="hs-identifier">makeLift</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">TxInInfo</span></span></span><span>
</span><span id="line-310"></span><span id="local-6989586621679731271"><span id="local-6989586621679731273"><span id="local-6989586621679731275"><span class="hs-identifier">makeIsDataIndexed</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">TxInInfo</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">'</span><span class="hs-identifier">TxInInfo</span><span class="hs-special">,</span><span class="hs-number">0</span><span class="hs-special">)</span><span class="hs-special">]</span></span></span></span><span>
</span><span id="line-311"></span><span>
</span><span id="line-312"></span><span id="local-6989586621679731261"><span id="local-6989586621679731263"><span class="hs-identifier">makeLift</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">TxInfo</span></span></span><span>
</span><span id="line-313"></span><span id="local-6989586621679731255"><span id="local-6989586621679731257"><span id="local-6989586621679731259"><span class="hs-identifier">makeIsDataIndexed</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">TxInfo</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">'</span><span class="hs-identifier">TxInfo</span><span class="hs-special">,</span><span class="hs-number">0</span><span class="hs-special">)</span><span class="hs-special">]</span></span></span></span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span>
</span><span id="line-316"></span><span id="local-6989586621679731251"><span id="local-6989586621679731253"><span class="hs-identifier">makeLift</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">ScriptPurpose</span></span></span><span>
</span><span id="line-317"></span><span id="local-6989586621679731245"><span id="local-6989586621679731247"><span id="local-6989586621679731249"><span class="hs-identifier">makeIsDataIndexed</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">ScriptPurpose</span><span>
</span><span id="line-318"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="hs-identifier">Minting</span><span class="hs-special">,</span><span class="hs-number">0</span><span class="hs-special">)</span><span>
</span><span id="line-319"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="hs-identifier">Spending</span><span class="hs-special">,</span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="hs-identifier">Rewarding</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">)</span><span>
</span><span id="line-321"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="hs-identifier">Certifying</span><span class="hs-special">,</span><span class="hs-number">3</span><span class="hs-special">)</span><span>
</span><span id="line-322"></span><span>    </span><span class="hs-special">]</span></span></span></span><span>
</span><span id="line-323"></span><span>
</span><span id="line-324"></span><span id="local-6989586621679731241"><span id="local-6989586621679731243"><span class="hs-identifier">makeLift</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">ScriptContext</span></span></span><span>
</span><span id="line-325"></span><span id="local-6989586621679731235"><span id="local-6989586621679731237"><span id="local-6989586621679731239"><span class="hs-identifier">makeIsDataIndexed</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">ScriptContext</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">'</span><span class="hs-identifier">ScriptContext</span><span class="hs-special">,</span><span class="hs-number">0</span><span class="hs-special">)</span><span class="hs-special">]</span></span></span></span><span>
</span><span id="line-326"></span></pre></body></html>