<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE GADTs             #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE QuasiQuotes       #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards   #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications  #-}</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Plutus.Blockfrost.Responses</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-8"></span><span>    </span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processTip"><span class="hs-identifier">processTip</span></a></span><span>
</span><span id="line-9"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processGetDatum"><span class="hs-identifier">processGetDatum</span></a></span><span>
</span><span id="line-10"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processGetValidator"><span class="hs-identifier">processGetValidator</span></a></span><span>
</span><span id="line-11"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processUnspentTxOut"><span class="hs-identifier">processUnspentTxOut</span></a></span><span>
</span><span id="line-12"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processIsUtxo"><span class="hs-identifier">processIsUtxo</span></a></span><span>
</span><span id="line-13"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processGetUtxos"><span class="hs-identifier">processGetUtxos</span></a></span><span>
</span><span id="line-14"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processGetTxos"><span class="hs-identifier">processGetTxos</span></a></span><span>
</span><span id="line-15"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processUnspentTxOutSetAtAddress"><span class="hs-identifier">processUnspentTxOutSetAtAddress</span></a></span><span>
</span><span id="line-16"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processDatumsAtAddress"><span class="hs-identifier">processDatumsAtAddress</span></a></span><span>
</span><span id="line-17"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processGetTxFromTxId"><span class="hs-identifier">processGetTxFromTxId</span></a></span><span>
</span><span id="line-18"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processGetTxsFromTxIds"><span class="hs-identifier">processGetTxsFromTxIds</span></a></span><span>
</span><span id="line-19"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Extra</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">mapMaybeM</span></span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Freer.Extras.Pagination</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Page</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">PageQuery</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">JSON</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson.QQ</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Map</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">elems</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">fromList</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">keys</span></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">catMaybes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">fromJust</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">drop</span></span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Text.Hex</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">decodeHex</span></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Blockfrost.Client</span></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Api</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Block</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Script</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ScriptDatum</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ScriptHash</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">TxIn</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">TxOut</span></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Api.Shelley</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Shelley</span></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Ledger.Address</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Ledger</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">CardanoAddress</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">cardanoAddressCredential</span></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Ledger.Slot</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Ledger</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Slot</span></span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Ledger.Tx</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">DatumFromQuery</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">DatumUnknown</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">DecoratedTxOut</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Language</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PlutusV1</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">RedeemerPtr</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>                  </span><span class="annot"><span class="hs-identifier">TxOutRef</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Versioned</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Versioned</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">mkPubkeyDecoratedTxOut</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">mkScriptDecoratedTxOut</span></span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutus.ChainIndex.Api</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">IsUtxoResponse</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">QueryResponse</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">TxosResponse</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">UtxosResponse</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutus.ChainIndex.Types</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">BlockId</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">BlockNumber</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ChainIndexTx</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ChainIndexTxOutputs</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Tip</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutus.V1.Ledger.Api</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PubKeyHash</span></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutus.V1.Ledger.Credential</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Credential</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PubKeyCredential</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ScriptCredential</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutus.V1.Ledger.Scripts</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Datum</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">MintingPolicy</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">StakeValidator</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Validator</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ValidatorHash</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutus.V1.Ledger.Scripts</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Ledger</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">DatumHash</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Script</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ScriptHash</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutus.V1.Ledger.Tx</span></span><span> </span><span class="hs-keyword">qualified</span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx</span></span><span> </span><span class="hs-keyword">qualified</span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator">(&lt;=&lt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Blockfrost.Types.html"><span class="hs-identifier">Plutus.Blockfrost.Types</span></a></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Blockfrost.Utils.html"><span class="hs-identifier">Plutus.Blockfrost.Utils</span></a></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutus.ChainIndex.Types</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">CI</span></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutus.V2.Ledger.Api</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PV2</span></span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="annot"><a href="#local-6989586621679345375"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="PlutusValidator"><span class="annot"><a href="Plutus.Blockfrost.Responses.html#PlutusValidator"><span class="hs-identifier hs-var">PlutusValidator</span></a></span></span><span> </span><span id="local-6989586621679345375"><span class="annot"><a href="#local-6989586621679345375"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-57"></span><span>  </span><span id="fromCBOR"><span class="annot"><a href="Plutus.Blockfrost.Responses.html#fromCBOR"><span class="hs-identifier hs-type">fromCBOR</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">JSON.Result</span></span><span> </span><span class="annot"><a href="#local-6989586621679345375"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#PlutusValidator"><span class="hs-identifier hs-type">PlutusValidator</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Validator</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-60"></span><span>  </span><span id="local-6989586621679345184"><span class="annot"><span class="annottext">fromCBOR :: Text -&gt; Result Validator
</span><a href="#local-6989586621679345184"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromCBOR</span></a></span></span><span> </span><span id="local-6989586621679345183"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679345183"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value -&gt; Result Validator
forall a. FromJSON a =&gt; Value -&gt; Result a
</span><span class="hs-identifier hs-var">JSON.fromJSON</span></span><span> </span><span class="annot"><span class="">[aesonQQ|{&quot;getValidator&quot;: #{t}}|]</span></span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#PlutusValidator"><span class="hs-identifier hs-type">PlutusValidator</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">MintingPolicy</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-63"></span><span>  </span><span id="local-6989586621679345177"><span class="annot"><span class="annottext">fromCBOR :: Text -&gt; Result MintingPolicy
</span><a href="#local-6989586621679345177"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromCBOR</span></a></span></span><span> </span><span id="local-6989586621679345176"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679345176"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value -&gt; Result MintingPolicy
forall a. FromJSON a =&gt; Value -&gt; Result a
</span><span class="hs-identifier hs-var">JSON.fromJSON</span></span><span> </span><span class="annot"><span class="">[aesonQQ|{&quot;getMintingPolicy&quot;: #{t}}|]</span></span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#PlutusValidator"><span class="hs-identifier hs-type">PlutusValidator</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">StakeValidator</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-66"></span><span>  </span><span id="local-6989586621679345173"><span class="annot"><span class="annottext">fromCBOR :: Text -&gt; Result StakeValidator
</span><a href="#local-6989586621679345173"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromCBOR</span></a></span></span><span> </span><span id="local-6989586621679345172"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679345172"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value -&gt; Result StakeValidator
forall a. FromJSON a =&gt; Value -&gt; Result a
</span><span class="hs-identifier hs-var">JSON.fromJSON</span></span><span> </span><span class="annot"><span class="">[aesonQQ|{&quot;getStakeValidator&quot;: #{t}}|]</span></span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#PlutusValidator"><span class="hs-identifier hs-type">PlutusValidator</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ledger.Script</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-69"></span><span>  </span><span id="local-6989586621679345169"><span class="annot"><span class="annottext">fromCBOR :: Text -&gt; Result Script
</span><a href="#local-6989586621679345169"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromCBOR</span></a></span></span><span> </span><span id="local-6989586621679345168"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679345168"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value -&gt; Result Script
forall a. FromJSON a =&gt; Value -&gt; Result a
</span><span class="hs-identifier hs-var">JSON.fromJSON</span></span><span> </span><span class="annot"><span class="">[aesonQQ|#{t}|]</span></span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span id="local-6989586621679345277"><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processGetDatum"><span class="hs-identifier hs-type">processGetDatum</span></a></span><span> </span><span class="hs-glyph">::</span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.FromData</span></span><span> </span><span class="annot"><a href="#local-6989586621679345277"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">JSON.Value</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679345277"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-72"></span><span id="processGetDatum"><span class="annot"><span class="annottext">processGetDatum :: Maybe Value -&gt; IO (Maybe a)
</span><a href="Plutus.Blockfrost.Responses.html#processGetDatum"><span class="hs-identifier hs-var hs-var">processGetDatum</span></a></span></span><span> </span><span id="local-6989586621679345167"><span class="annot"><span class="annottext">Maybe Value
</span><a href="#local-6989586621679345167"><span class="hs-identifier hs-var">sdt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Value
</span><a href="#local-6989586621679345167"><span class="hs-identifier hs-var">sdt</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-73"></span><span>    </span><span class="annot"><span class="annottext">Maybe Value
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; IO (Maybe a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-74"></span><span>    </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679345166"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679345166"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-75"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ScriptDataJsonSchema
-&gt; Value -&gt; Either ScriptDataJsonError ScriptData
</span><span class="hs-identifier hs-var">Shelley.scriptDataFromJson</span></span><span> </span><span class="annot"><span class="annottext">ScriptDataJsonSchema
</span><span class="hs-identifier hs-var">Shelley.ScriptDataJsonDetailedSchema</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679345166"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-76"></span><span>            </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679345163"><span class="annot"><span class="annottext">ScriptData
</span><a href="#local-6989586621679345163"><span class="hs-identifier hs-var">dec</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-77"></span><span>                </span><span class="hs-keyword">case</span><span>  </span><span class="annot"><span class="annottext">ScriptData -&gt; Maybe a
forall a. FromData a =&gt; ScriptData -&gt; Maybe a
</span><a href="#local-6989586621679345162"><span class="hs-identifier hs-var">decodeData</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptData
</span><a href="#local-6989586621679345163"><span class="hs-identifier hs-var">dec</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-78"></span><span>                    </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679345161"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679345161"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; IO (Maybe a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679345161"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>                    </span><span class="annot"><span class="annottext">Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IOError -&gt; IO (Maybe a)
forall a. IOError -&gt; IO a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">ioError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; IOError
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">userError</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Error in parser&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>            </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679345158"><span class="annot"><span class="annottext">ScriptDataJsonError
</span><a href="#local-6989586621679345158"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IOError -&gt; IO (Maybe a)
forall a. IOError -&gt; IO a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">ioError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; IOError
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">userError</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IOError) -&gt; String -&gt; IOError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptDataJsonError -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptDataJsonError
</span><a href="#local-6989586621679345158"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-82"></span><span>    </span><span id="local-6989586621679345356"><span class="annot"><a href="#local-6989586621679345162"><span class="hs-identifier hs-type">decodeData</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.FromData</span></span><span> </span><span class="annot"><a href="#local-6989586621679345356"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScriptData</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679345356"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-83"></span><span>    </span><span id="local-6989586621679345162"><span class="annot"><span class="annottext">decodeData :: ScriptData -&gt; Maybe a
</span><a href="#local-6989586621679345162"><span class="hs-identifier hs-var hs-var">decodeData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuiltinData -&gt; Maybe a
forall a. FromData a =&gt; BuiltinData -&gt; Maybe a
</span><span class="hs-identifier hs-var">PlutusTx.fromBuiltinData</span></span><span> </span><span class="annot"><span class="annottext">(BuiltinData -&gt; Maybe a)
-&gt; (ScriptData -&gt; BuiltinData) -&gt; ScriptData -&gt; Maybe a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Data -&gt; BuiltinData
</span><span class="hs-identifier hs-var">PlutusTx.dataToBuiltinData</span></span><span> </span><span class="annot"><span class="annottext">(Data -&gt; BuiltinData)
-&gt; (ScriptData -&gt; Data) -&gt; ScriptData -&gt; BuiltinData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptData -&gt; Data
</span><span class="hs-identifier hs-var">Shelley.toPlutusData</span></span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processTip"><span class="hs-identifier hs-type">processTip</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Block</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Tip</span></span><span>
</span><span id="line-86"></span><span id="processTip"><span class="annot"><span class="annottext">processTip :: Block -&gt; IO Tip
</span><a href="Plutus.Blockfrost.Responses.html#processTip"><span class="hs-identifier hs-var hs-var">processTip</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Block</span></span><span class="hs-special">{</span><span id="local-6989586621679345137"><span id="local-6989586621679345138"><span id="local-6989586621679345139"><span id="local-6989586621679345140"><span id="local-6989586621679345141"><span id="local-6989586621679345142"><span id="local-6989586621679345143"><span id="local-6989586621679345144"><span id="local-6989586621679345145"><span id="local-6989586621679345146"><span id="local-6989586621679345147"><span id="local-6989586621679345148"><span id="local-6989586621679345149"><span id="local-6989586621679345150"><span id="local-6989586621679345151"><span class="annot"><span class="annottext">Integer
Maybe Integer
Maybe Text
Maybe BlockHash
Maybe Epoch
Maybe Slot
Maybe Lovelaces
Text
BlockHash
POSIXTime
_blockTxCount :: Block -&gt; Integer
_blockTime :: Block -&gt; POSIXTime
_blockSlotLeader :: Block -&gt; Text
_blockSlot :: Block -&gt; Maybe Slot
_blockSize :: Block -&gt; Integer
_blockPreviousBlock :: Block -&gt; Maybe BlockHash
_blockOutput :: Block -&gt; Maybe Lovelaces
_blockNextBlock :: Block -&gt; Maybe BlockHash
_blockHeight :: Block -&gt; Maybe Integer
_blockHash :: Block -&gt; BlockHash
_blockFees :: Block -&gt; Maybe Lovelaces
_blockEpochSlot :: Block -&gt; Maybe Integer
_blockEpoch :: Block -&gt; Maybe Epoch
_blockConfirmations :: Block -&gt; Integer
_blockBlockVrf :: Block -&gt; Maybe Text
_blockConfirmations :: Integer
_blockNextBlock :: Maybe BlockHash
_blockPreviousBlock :: Maybe BlockHash
_blockBlockVrf :: Maybe Text
_blockFees :: Maybe Lovelaces
_blockOutput :: Maybe Lovelaces
_blockTxCount :: Integer
_blockSize :: Integer
_blockSlotLeader :: Text
_blockEpochSlot :: Maybe Integer
_blockEpoch :: Maybe Epoch
_blockSlot :: Maybe Slot
_blockHash :: BlockHash
_blockHeight :: Maybe Integer
_blockTime :: POSIXTime
</span><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tip -&gt; IO Tip
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Tip -&gt; IO Tip) -&gt; Tip -&gt; IO Tip
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Tip :: Slot -&gt; BlockId -&gt; BlockNumber -&gt; Tip
</span><span class="hs-identifier hs-type">Tip</span></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tipSlot :: Slot
</span><span class="hs-identifier hs-var">tipSlot</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679345119"><span class="hs-identifier hs-var">slotNumber</span></a></span><span>
</span><span id="line-87"></span><span>                                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tipBlockId :: BlockId
</span><span class="hs-identifier hs-var">tipBlockId</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BlockId
</span><a href="#local-6989586621679345117"><span class="hs-identifier hs-var">blockId</span></a></span><span>
</span><span id="line-88"></span><span>                                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tipBlockNo :: BlockNumber
</span><span class="hs-identifier hs-var">tipBlockNo</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BlockNumber
</span><a href="#local-6989586621679345115"><span class="hs-identifier hs-var">blockNo</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-90"></span><span>    </span><span class="annot"><a href="#local-6989586621679345119"><span class="hs-identifier hs-type">slotNumber</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ledger.Slot</span></span><span>
</span><span id="line-91"></span><span>    </span><span id="local-6989586621679345119"><span class="annot"><span class="annottext">slotNumber :: Slot
</span><a href="#local-6989586621679345119"><span class="hs-identifier hs-var hs-var">slotNumber</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Slot
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Slot) -&gt; Integer -&gt; Slot
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Slot -&gt; Integer
</span><span class="hs-identifier hs-var">unSlot</span></span><span> </span><span class="annot"><span class="annottext">(Slot -&gt; Integer) -&gt; Slot -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Slot -&gt; Slot
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromJust</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Slot
</span><a href="#local-6989586621679345148"><span class="hs-identifier hs-var">_blockSlot</span></a></span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span>    </span><span class="annot"><a href="#local-6989586621679345115"><span class="hs-identifier hs-type">blockNo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockNumber</span></span><span>
</span><span id="line-94"></span><span>    </span><span id="local-6989586621679345115"><span class="annot"><span class="annottext">blockNo :: BlockNumber
</span><a href="#local-6989586621679345115"><span class="hs-identifier hs-var hs-var">blockNo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; BlockNumber
</span><span class="hs-identifier hs-var">BlockNumber</span></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; BlockNumber) -&gt; Word64 -&gt; BlockNumber
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Word64) -&gt; Integer -&gt; Word64
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Integer -&gt; Integer
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromJust</span></a></span><span>  </span><span class="annot"><span class="annottext">Maybe Integer
</span><a href="#local-6989586621679345150"><span class="hs-identifier hs-var">_blockHeight</span></a></span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span>    </span><span class="annot"><a href="#local-6989586621679345117"><span class="hs-identifier hs-type">blockId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockId</span></span><span>
</span><span id="line-97"></span><span>    </span><span id="local-6989586621679345117"><span class="annot"><span class="annottext">blockId :: BlockId
</span><a href="#local-6989586621679345117"><span class="hs-identifier hs-var hs-var">blockId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">ByteString -&gt; BlockId
</span><span class="hs-identifier hs-var">BlockId</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; BlockId) -&gt; ByteString -&gt; BlockId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString -&gt; ByteString
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromJust</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe ByteString -&gt; ByteString) -&gt; Maybe ByteString -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Maybe ByteString
</span><span class="hs-identifier hs-var">decodeHex</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Maybe ByteString) -&gt; Text -&gt; Maybe ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BlockHash -&gt; Text
</span><span class="hs-identifier hs-var">unBlockHash</span></span><span> </span><span class="annot"><span class="annottext">BlockHash
</span><a href="#local-6989586621679345149"><span class="hs-identifier hs-var">_blockHash</span></a></span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span id="local-6989586621679345228"><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processGetValidator"><span class="hs-identifier hs-type">processGetValidator</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#PlutusValidator"><span class="hs-identifier hs-type">PlutusValidator</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679345228"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScriptCBOR</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Versioned</span></span><span> </span><span class="annot"><a href="#local-6989586621679345228"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-100"></span><span id="processGetValidator"><span class="annot"><span class="annottext">processGetValidator :: Maybe ScriptCBOR -&gt; IO (Maybe (Versioned a))
</span><a href="Plutus.Blockfrost.Responses.html#processGetValidator"><span class="hs-identifier hs-var hs-var">processGetValidator</span></a></span></span><span> </span><span id="local-6989586621679345110"><span class="annot"><span class="annottext">Maybe ScriptCBOR
</span><a href="#local-6989586621679345110"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Versioned a) -&gt; IO (Maybe (Versioned a))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (Versioned a) -&gt; IO (Maybe (Versioned a)))
-&gt; Maybe (Versioned a) -&gt; IO (Maybe (Versioned a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ScriptCBOR
</span><a href="#local-6989586621679345110"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ScriptCBOR
-&gt; (ScriptCBOR -&gt; Maybe (Versioned a)) -&gt; Maybe (Versioned a)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptCBOR -&gt; Maybe (Versioned a)
forall a. PlutusValidator a =&gt; ScriptCBOR -&gt; Maybe (Versioned a)
</span><a href="#local-6989586621679345109"><span class="hs-identifier hs-var">buildResponse</span></a></span><span>
</span><span id="line-101"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-102"></span><span>    </span><span id="local-6989586621679345319"><span class="annot"><a href="#local-6989586621679345109"><span class="hs-identifier hs-type">buildResponse</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#PlutusValidator"><span class="hs-identifier hs-type">PlutusValidator</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679345319"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScriptCBOR</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Versioned</span></span><span> </span><span class="annot"><a href="#local-6989586621679345319"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-103"></span><span>    </span><span id="local-6989586621679345109"><span class="annot"><span class="annottext">buildResponse :: ScriptCBOR -&gt; Maybe (Versioned a)
</span><a href="#local-6989586621679345109"><span class="hs-identifier hs-var hs-var">buildResponse</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Maybe (Versioned a)
forall a. PlutusValidator a =&gt; Text -&gt; Maybe (Versioned a)
</span><a href="#local-6989586621679345108"><span class="hs-identifier hs-var">retFromCbor</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Maybe (Versioned a))
-&gt; (ScriptCBOR -&gt; Maybe Text) -&gt; ScriptCBOR -&gt; Maybe (Versioned a)
forall (m :: * -&gt; *) b c a.
Monad m =&gt;
(b -&gt; m c) -&gt; (a -&gt; m b) -&gt; a -&gt; m c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;=&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptCBOR -&gt; Maybe Text
</span><span class="hs-identifier hs-var hs-var">_scriptCborCbor</span></span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span>    </span><span id="local-6989586621679345317"><span class="annot"><a href="#local-6989586621679345108"><span class="hs-identifier hs-type">retFromCbor</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#PlutusValidator"><span class="hs-identifier hs-type">PlutusValidator</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679345317"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Versioned</span></span><span> </span><span class="annot"><a href="#local-6989586621679345317"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-106"></span><span>    </span><span id="local-6989586621679345108"><span class="annot"><span class="annottext">retFromCbor :: Text -&gt; Maybe (Versioned a)
</span><a href="#local-6989586621679345108"><span class="hs-identifier hs-var hs-var">retFromCbor</span></a></span></span><span> </span><span id="local-6989586621679345106"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679345106"><span class="hs-identifier hs-var">txt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Result a
forall a. PlutusValidator a =&gt; Text -&gt; Result a
</span><a href="Plutus.Blockfrost.Responses.html#fromCBOR"><span class="hs-identifier hs-var">fromCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Result a) -&gt; Text -&gt; Result a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Text -&gt; Text
</span><span class="hs-identifier hs-var">Text.drop</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">6</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679345106"><span class="hs-identifier hs-var">txt</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-107"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">JSON.Success</span></span><span> </span><span id="local-6989586621679345104"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679345104"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Versioned a -&gt; Maybe (Versioned a)
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Language -&gt; Versioned a
forall script. script -&gt; Language -&gt; Versioned script
</span><span class="hs-identifier hs-var">Versioned</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679345104"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><span class="hs-identifier hs-var">PlutusV1</span></span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">JSON.Error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Versioned a)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processUnspentTxOut"><span class="hs-identifier hs-type">processUnspentTxOut</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UtxoOutput</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">DecoratedTxOut</span></span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span id="processUnspentTxOut"><span class="annot"><span class="annottext">processUnspentTxOut :: Maybe UtxoOutput -&gt; IO (Maybe DecoratedTxOut)
</span><a href="Plutus.Blockfrost.Responses.html#processUnspentTxOut"><span class="hs-identifier hs-var hs-var">processUnspentTxOut</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe UtxoOutput
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe DecoratedTxOut -&gt; IO (Maybe DecoratedTxOut)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe DecoratedTxOut
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-112"></span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processUnspentTxOut"><span class="hs-identifier hs-var">processUnspentTxOut</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679345102"><span class="annot"><span class="annottext">UtxoOutput
</span><a href="#local-6989586621679345102"><span class="hs-identifier hs-var">utxo</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UtxoOutput -&gt; IO (Maybe DecoratedTxOut)
</span><a href="#local-6989586621679345101"><span class="hs-identifier hs-var">buildResponse</span></a></span><span> </span><span class="annot"><span class="annottext">UtxoOutput
</span><a href="#local-6989586621679345102"><span class="hs-identifier hs-var">utxo</span></a></span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-114"></span><span>    </span><span class="annot"><a href="#local-6989586621679345101"><span class="hs-identifier hs-type">buildResponse</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UtxoOutput</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">DecoratedTxOut</span></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>    </span><span id="local-6989586621679345101"><span class="annot"><span class="annottext">buildResponse :: UtxoOutput -&gt; IO (Maybe DecoratedTxOut)
</span><a href="#local-6989586621679345101"><span class="hs-identifier hs-var hs-var">buildResponse</span></a></span></span><span> </span><span id="local-6989586621679345100"><span class="annot"><span class="annottext">UtxoOutput
</span><a href="#local-6989586621679345100"><span class="hs-identifier hs-var">utxoOut</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Address -&gt; Either String (AddressInEra BabbageEra)
</span><a href="Plutus.Blockfrost.Utils.html#toCardanoAddress"><span class="hs-identifier hs-var">toCardanoAddress</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UtxoOutput -&gt; Address
</span><span class="hs-identifier hs-var hs-var">_utxoOutputAddress</span></span><span> </span><span class="annot"><span class="annottext">UtxoOutput
</span><a href="#local-6989586621679345100"><span class="hs-identifier hs-var">utxoOut</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-116"></span><span>              </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679345097"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679345097"><span class="hs-identifier hs-var">err</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IOError -&gt; IO (Maybe DecoratedTxOut)
forall a. IOError -&gt; IO a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">ioError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; IOError
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">userError</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679345097"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>              </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679345096"><span class="annot"><span class="annottext">AddressInEra BabbageEra
</span><a href="#local-6989586621679345096"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">AddressInEra BabbageEra -&gt; Credential
forall era. AddressInEra era -&gt; Credential
</span><span class="hs-identifier hs-var">Ledger.cardanoAddressCredential</span></span><span> </span><span class="annot"><span class="annottext">AddressInEra BabbageEra
</span><a href="#local-6989586621679345096"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-118"></span><span>                    </span><span class="annot"><span class="hs-identifier hs-type">PubKeyCredential</span></span><span> </span><span class="annot"><span class="annottext">PubKeyHash
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe DecoratedTxOut -&gt; IO (Maybe DecoratedTxOut)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe DecoratedTxOut -&gt; IO (Maybe DecoratedTxOut))
-&gt; Maybe DecoratedTxOut -&gt; IO (Maybe DecoratedTxOut)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AddressInEra BabbageEra -&gt; UtxoOutput -&gt; Maybe DecoratedTxOut
</span><a href="#local-6989586621679345095"><span class="hs-identifier hs-var">buildPublicKeyTxOut</span></a></span><span> </span><span class="annot"><span class="annottext">AddressInEra BabbageEra
</span><a href="#local-6989586621679345096"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="annot"><span class="annottext">UtxoOutput
</span><a href="#local-6989586621679345100"><span class="hs-identifier hs-var">utxoOut</span></a></span><span>
</span><span id="line-119"></span><span>                    </span><span class="annot"><span class="hs-identifier hs-type">ScriptCredential</span></span><span> </span><span class="annot"><span class="annottext">ValidatorHash
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe DecoratedTxOut -&gt; IO (Maybe DecoratedTxOut)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe DecoratedTxOut -&gt; IO (Maybe DecoratedTxOut))
-&gt; Maybe DecoratedTxOut -&gt; IO (Maybe DecoratedTxOut)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AddressInEra BabbageEra -&gt; UtxoOutput -&gt; Maybe DecoratedTxOut
</span><a href="#local-6989586621679345094"><span class="hs-identifier hs-var">buildScriptTxOut</span></a></span><span> </span><span class="annot"><span class="annottext">AddressInEra BabbageEra
</span><a href="#local-6989586621679345096"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="annot"><span class="annottext">UtxoOutput
</span><a href="#local-6989586621679345100"><span class="hs-identifier hs-var">utxoOut</span></a></span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span>    </span><span class="annot"><a href="#local-6989586621679345094"><span class="hs-identifier hs-type">buildScriptTxOut</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ledger.CardanoAddress</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UtxoOutput</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">DecoratedTxOut</span></span><span>
</span><span id="line-122"></span><span>    </span><span id="local-6989586621679345094"><span class="annot"><span class="annottext">buildScriptTxOut :: AddressInEra BabbageEra -&gt; UtxoOutput -&gt; Maybe DecoratedTxOut
</span><a href="#local-6989586621679345094"><span class="hs-identifier hs-var hs-var">buildScriptTxOut</span></a></span></span><span> </span><span id="local-6989586621679345093"><span class="annot"><span class="annottext">AddressInEra BabbageEra
</span><a href="#local-6989586621679345093"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span id="local-6989586621679345092"><span class="annot"><span class="annottext">UtxoOutput
</span><a href="#local-6989586621679345092"><span class="hs-identifier hs-var">utxoOut</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AddressInEra BabbageEra
-&gt; Value
-&gt; (DatumHash, DatumFromQuery)
-&gt; Maybe (Versioned Script)
-&gt; Maybe (Versioned Validator)
-&gt; Maybe DecoratedTxOut
</span><span class="hs-identifier hs-var">mkScriptDecoratedTxOut</span></span><span> </span><span class="annot"><span class="annottext">AddressInEra BabbageEra
</span><a href="#local-6989586621679345093"><span class="hs-identifier hs-var">addr</span></a></span><span>
</span><span id="line-123"></span><span>                                                          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UtxoOutput -&gt; Value
</span><a href="#local-6989586621679345091"><span class="hs-identifier hs-var">utxoValue</span></a></span><span> </span><span class="annot"><span class="annottext">UtxoOutput
</span><a href="#local-6989586621679345092"><span class="hs-identifier hs-var">utxoOut</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span>                                                          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UtxoOutput -&gt; DatumHash
</span><a href="#local-6989586621679345090"><span class="hs-identifier hs-var">utxoDatumHash</span></a></span><span> </span><span class="annot"><span class="annottext">UtxoOutput
</span><a href="#local-6989586621679345092"><span class="hs-identifier hs-var">utxoOut</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DatumFromQuery
</span><span class="hs-identifier hs-var">DatumUnknown</span></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>                                                          </span><span class="annot"><span class="annottext">Maybe (Versioned Script)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-126"></span><span>                                                          </span><span class="annot"><span class="annottext">Maybe (Versioned Validator)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span>    </span><span class="annot"><a href="#local-6989586621679345095"><span class="hs-identifier hs-type">buildPublicKeyTxOut</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ledger.CardanoAddress</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UtxoOutput</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">DecoratedTxOut</span></span><span>
</span><span id="line-129"></span><span>    </span><span id="local-6989586621679345095"><span class="annot"><span class="annottext">buildPublicKeyTxOut :: AddressInEra BabbageEra -&gt; UtxoOutput -&gt; Maybe DecoratedTxOut
</span><a href="#local-6989586621679345095"><span class="hs-identifier hs-var hs-var">buildPublicKeyTxOut</span></a></span></span><span> </span><span id="local-6989586621679345089"><span class="annot"><span class="annottext">AddressInEra BabbageEra
</span><a href="#local-6989586621679345089"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span id="local-6989586621679345088"><span class="annot"><span class="annottext">UtxoOutput
</span><a href="#local-6989586621679345088"><span class="hs-identifier hs-var">utxoOut</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AddressInEra BabbageEra
-&gt; Value
-&gt; Maybe (DatumHash, DatumFromQuery)
-&gt; Maybe (Versioned Script)
-&gt; Maybe DecoratedTxOut
</span><span class="hs-identifier hs-var">mkPubkeyDecoratedTxOut</span></span><span> </span><span class="annot"><span class="annottext">AddressInEra BabbageEra
</span><a href="#local-6989586621679345089"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UtxoOutput -&gt; Value
</span><a href="#local-6989586621679345091"><span class="hs-identifier hs-var">utxoValue</span></a></span><span> </span><span class="annot"><span class="annottext">UtxoOutput
</span><a href="#local-6989586621679345088"><span class="hs-identifier hs-var">utxoOut</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (DatumHash, DatumFromQuery)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Versioned Script)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span>    </span><span class="annot"><a href="#local-6989586621679345091"><span class="hs-identifier hs-type">utxoValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UtxoOutput</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value</span></span><span>
</span><span id="line-132"></span><span>    </span><span id="local-6989586621679345091"><span class="annot"><span class="annottext">utxoValue :: UtxoOutput -&gt; Value
</span><a href="#local-6989586621679345091"><span class="hs-identifier hs-var hs-var">utxoValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Amount] -&gt; Value
</span><a href="Plutus.Blockfrost.Utils.html#amountsToValue"><span class="hs-identifier hs-var">amountsToValue</span></a></span><span> </span><span class="annot"><span class="annottext">([Amount] -&gt; Value)
-&gt; (UtxoOutput -&gt; [Amount]) -&gt; UtxoOutput -&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UtxoOutput -&gt; [Amount]
</span><span class="hs-identifier hs-var hs-var">_utxoOutputAmount</span></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span>    </span><span class="annot"><a href="#local-6989586621679345090"><span class="hs-identifier hs-type">utxoDatumHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UtxoOutput</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ledger.DatumHash</span></span><span>
</span><span id="line-135"></span><span>    </span><span id="local-6989586621679345090"><span class="annot"><span class="annottext">utxoDatumHash :: UtxoOutput -&gt; DatumHash
</span><a href="#local-6989586621679345090"><span class="hs-identifier hs-var hs-var">utxoDatumHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; DatumHash
</span><a href="Plutus.Blockfrost.Utils.html#textToDatumHash"><span class="hs-identifier hs-var">textToDatumHash</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; DatumHash)
-&gt; (UtxoOutput -&gt; Text) -&gt; UtxoOutput -&gt; DatumHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">DatumHash -&gt; Text
</span><span class="hs-identifier hs-var hs-var">unDatumHash</span></span><span> </span><span class="annot"><span class="annottext">(DatumHash -&gt; Text)
-&gt; (UtxoOutput -&gt; DatumHash) -&gt; UtxoOutput -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe DatumHash -&gt; DatumHash
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromJust</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe DatumHash -&gt; DatumHash)
-&gt; (UtxoOutput -&gt; Maybe DatumHash) -&gt; UtxoOutput -&gt; DatumHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UtxoOutput -&gt; Maybe DatumHash
</span><span class="hs-identifier hs-var hs-var">_utxoOutputDataHash</span></span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processIsUtxo"><span class="hs-identifier hs-type">processIsUtxo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Block</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsUtxoResponse</span></span><span>
</span><span id="line-138"></span><span id="processIsUtxo"><span class="annot"><span class="annottext">processIsUtxo :: (Block, Bool) -&gt; IO IsUtxoResponse
</span><a href="Plutus.Blockfrost.Responses.html#processIsUtxo"><span class="hs-identifier hs-var hs-var">processIsUtxo</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679345082"><span class="annot"><span class="annottext">Block
</span><a href="#local-6989586621679345082"><span class="hs-identifier hs-var">blockN</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679345081"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679345081"><span class="hs-identifier hs-var">isUtxo</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-139"></span><span>    </span><span id="local-6989586621679345080"><span class="annot"><span class="annottext">Tip
</span><a href="#local-6989586621679345080"><span class="hs-identifier hs-var">tip</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Block -&gt; IO Tip
</span><a href="Plutus.Blockfrost.Responses.html#processTip"><span class="hs-identifier hs-var">processTip</span></a></span><span> </span><span class="annot"><span class="annottext">Block
</span><a href="#local-6989586621679345082"><span class="hs-identifier hs-var">blockN</span></a></span><span>
</span><span id="line-140"></span><span>    </span><span class="annot"><span class="annottext">IsUtxoResponse -&gt; IO IsUtxoResponse
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(IsUtxoResponse -&gt; IO IsUtxoResponse)
-&gt; IsUtxoResponse -&gt; IO IsUtxoResponse
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IsUtxoResponse :: Tip -&gt; Bool -&gt; IsUtxoResponse
</span><span class="hs-identifier hs-type">IsUtxoResponse</span></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">$sel:currentTip:IsUtxoResponse :: Tip
</span><span class="hs-identifier hs-var">currentTip</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Tip
</span><a href="#local-6989586621679345080"><span class="hs-identifier hs-var">tip</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:isUtxo:IsUtxoResponse :: Bool
</span><span class="hs-identifier hs-var">isUtxo</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679345081"><span class="hs-identifier hs-var">isUtxo</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processGetUtxos"><span class="hs-identifier hs-type">processGetUtxos</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PageQuery</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Block</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">AddressUtxo</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UtxosResponse</span></span><span>
</span><span id="line-143"></span><span id="processGetUtxos"><span class="annot"><span class="annottext">processGetUtxos :: PageQuery TxOutRef -&gt; (Block, [AddressUtxo]) -&gt; IO UtxosResponse
</span><a href="Plutus.Blockfrost.Responses.html#processGetUtxos"><span class="hs-identifier hs-var hs-var">processGetUtxos</span></a></span></span><span> </span><span id="local-6989586621679345076"><span class="annot"><span class="annottext">PageQuery TxOutRef
</span><a href="#local-6989586621679345076"><span class="hs-identifier hs-var">pq</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679345075"><span class="annot"><span class="annottext">Block
</span><a href="#local-6989586621679345075"><span class="hs-identifier hs-var">blockN</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679345074"><span class="annot"><span class="annottext">[AddressUtxo]
</span><a href="#local-6989586621679345074"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-144"></span><span>    </span><span id="local-6989586621679345073"><span class="annot"><span class="annottext">Tip
</span><a href="#local-6989586621679345073"><span class="hs-identifier hs-var">tip</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Block -&gt; IO Tip
</span><a href="Plutus.Blockfrost.Responses.html#processTip"><span class="hs-identifier hs-var">processTip</span></a></span><span> </span><span class="annot"><span class="annottext">Block
</span><a href="#local-6989586621679345075"><span class="hs-identifier hs-var">blockN</span></a></span><span>
</span><span id="line-145"></span><span>    </span><span class="annot"><span class="annottext">UtxosResponse -&gt; IO UtxosResponse
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(UtxosResponse -&gt; IO UtxosResponse)
-&gt; UtxosResponse -&gt; IO UtxosResponse
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">UtxosResponse :: Tip -&gt; Page TxOutRef -&gt; UtxosResponse
</span><span class="hs-identifier hs-type">UtxosResponse</span></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">$sel:currentTip:UtxosResponse :: Tip
</span><span class="hs-identifier hs-var">currentTip</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Tip
</span><a href="#local-6989586621679345073"><span class="hs-identifier hs-var">tip</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:page:UtxosResponse :: Page TxOutRef
</span><span class="hs-identifier hs-var">page</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Page TxOutRef
</span><a href="#local-6989586621679345069"><span class="hs-identifier hs-var">refPage</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-147"></span><span>      </span><span class="annot"><a href="#local-6989586621679345069"><span class="hs-identifier hs-type">refPage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Page</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span><span>
</span><span id="line-148"></span><span>      </span><span id="local-6989586621679345069"><span class="annot"><span class="annottext">refPage :: Page TxOutRef
</span><a href="#local-6989586621679345069"><span class="hs-identifier hs-var hs-var">refPage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Page :: forall a. PageQuery a -&gt; Maybe (PageQuery a) -&gt; [a] -&gt; Page a
</span><span class="hs-identifier hs-type">Page</span></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">currentPageQuery :: PageQuery TxOutRef
</span><span class="hs-identifier hs-var">currentPageQuery</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">PageQuery TxOutRef
</span><a href="#local-6989586621679345076"><span class="hs-identifier hs-var">pq</span></a></span><span>
</span><span id="line-149"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">nextPageQuery :: Maybe (PageQuery TxOutRef)
</span><span class="hs-identifier hs-var">nextPageQuery</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Maybe (PageQuery TxOutRef)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-150"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pageItems :: [TxOutRef]
</span><span class="hs-identifier hs-var">pageItems</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">[TxOutRef]
</span><a href="#local-6989586621679345064"><span class="hs-identifier hs-var">items</span></a></span><span>
</span><span id="line-151"></span><span>                  </span><span class="hs-special">}</span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span>      </span><span class="annot"><a href="#local-6989586621679345064"><span class="hs-identifier hs-type">items</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span><span class="hs-special">]</span><span>
</span><span id="line-154"></span><span>      </span><span id="local-6989586621679345064"><span class="annot"><span class="annottext">items :: [TxOutRef]
</span><a href="#local-6989586621679345064"><span class="hs-identifier hs-var hs-var">items</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(AddressUtxo -&gt; TxOutRef) -&gt; [AddressUtxo] -&gt; [TxOutRef]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">AddressUtxo -&gt; TxOutRef
</span><a href="Plutus.Blockfrost.Utils.html#utxoToRef"><span class="hs-identifier hs-var">utxoToRef</span></a></span><span> </span><span class="annot"><span class="annottext">[AddressUtxo]
</span><a href="#local-6989586621679345074"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processGetTxos"><span class="hs-identifier hs-type">processGetTxos</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PageQuery</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">UtxoInput</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxosResponse</span></span><span>
</span><span id="line-157"></span><span id="processGetTxos"><span class="annot"><span class="annottext">processGetTxos :: PageQuery TxOutRef -&gt; [UtxoInput] -&gt; IO TxosResponse
</span><a href="Plutus.Blockfrost.Responses.html#processGetTxos"><span class="hs-identifier hs-var hs-var">processGetTxos</span></a></span></span><span> </span><span id="local-6989586621679345062"><span class="annot"><span class="annottext">PageQuery TxOutRef
</span><a href="#local-6989586621679345062"><span class="hs-identifier hs-var">pq</span></a></span></span><span> </span><span id="local-6989586621679345061"><span class="annot"><span class="annottext">[UtxoInput]
</span><a href="#local-6989586621679345061"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxosResponse -&gt; IO TxosResponse
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(TxosResponse -&gt; IO TxosResponse)
-&gt; TxosResponse -&gt; IO TxosResponse
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxosResponse :: Page TxOutRef -&gt; TxosResponse
</span><span class="hs-identifier hs-type">TxosResponse</span></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">$sel:paget:TxosResponse :: Page TxOutRef
</span><span class="hs-identifier hs-var">paget</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Page TxOutRef
</span><a href="#local-6989586621679345058"><span class="hs-identifier hs-var">refPage</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-158"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-159"></span><span>      </span><span class="annot"><a href="#local-6989586621679345058"><span class="hs-identifier hs-type">refPage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Page</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span><span>
</span><span id="line-160"></span><span>      </span><span id="local-6989586621679345058"><span class="annot"><span class="annottext">refPage :: Page TxOutRef
</span><a href="#local-6989586621679345058"><span class="hs-identifier hs-var hs-var">refPage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Page :: forall a. PageQuery a -&gt; Maybe (PageQuery a) -&gt; [a] -&gt; Page a
</span><span class="hs-identifier hs-type">Page</span></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">currentPageQuery :: PageQuery TxOutRef
</span><span class="hs-identifier hs-var">currentPageQuery</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">PageQuery TxOutRef
</span><a href="#local-6989586621679345062"><span class="hs-identifier hs-var">pq</span></a></span><span>
</span><span id="line-161"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">nextPageQuery :: Maybe (PageQuery TxOutRef)
</span><span class="hs-identifier hs-var">nextPageQuery</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Maybe (PageQuery TxOutRef)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-162"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pageItems :: [TxOutRef]
</span><span class="hs-identifier hs-var">pageItems</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">[TxOutRef]
</span><a href="#local-6989586621679345057"><span class="hs-identifier hs-var">items</span></a></span><span>
</span><span id="line-163"></span><span>                  </span><span class="hs-special">}</span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span>      </span><span class="annot"><a href="#local-6989586621679345057"><span class="hs-identifier hs-type">items</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span><span class="hs-special">]</span><span>
</span><span id="line-166"></span><span>      </span><span id="local-6989586621679345057"><span class="annot"><span class="annottext">items :: [TxOutRef]
</span><a href="#local-6989586621679345057"><span class="hs-identifier hs-var hs-var">items</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UtxoInput -&gt; TxOutRef) -&gt; [UtxoInput] -&gt; [TxOutRef]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">UtxoInput -&gt; TxOutRef
</span><a href="Plutus.Blockfrost.Utils.html#txoToRef"><span class="hs-identifier hs-var">txoToRef</span></a></span><span> </span><span class="annot"><span class="annottext">[UtxoInput]
</span><a href="#local-6989586621679345061"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processUnspentTxOutSetAtAddress"><span class="hs-identifier hs-type">processUnspentTxOutSetAtAddress</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-169"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">PageQuery</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span><span>
</span><span id="line-170"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Credential</span></span><span>
</span><span id="line-171"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">AddressUtxo</span></span><span class="hs-special">]</span><span>
</span><span id="line-172"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">QueryResponse</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">DecoratedTxOut</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span id="processUnspentTxOutSetAtAddress"><span class="annot"><span class="annottext">processUnspentTxOutSetAtAddress :: PageQuery TxOutRef
-&gt; Credential
-&gt; [AddressUtxo]
-&gt; IO (QueryResponse [(TxOutRef, DecoratedTxOut)])
</span><a href="Plutus.Blockfrost.Responses.html#processUnspentTxOutSetAtAddress"><span class="hs-identifier hs-var hs-var">processUnspentTxOutSetAtAddress</span></a></span></span><span> </span><span class="annot"><span class="annottext">PageQuery TxOutRef
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679345055"><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621679345055"><span class="hs-identifier hs-var">cred</span></a></span></span><span> </span><span id="local-6989586621679345054"><span class="annot"><span class="annottext">[AddressUtxo]
</span><a href="#local-6989586621679345054"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-174"></span><span>  </span><span class="annot"><span class="annottext">QueryResponse [(TxOutRef, DecoratedTxOut)]
-&gt; IO (QueryResponse [(TxOutRef, DecoratedTxOut)])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryResponse [(TxOutRef, DecoratedTxOut)]
 -&gt; IO (QueryResponse [(TxOutRef, DecoratedTxOut)]))
-&gt; QueryResponse [(TxOutRef, DecoratedTxOut)]
-&gt; IO (QueryResponse [(TxOutRef, DecoratedTxOut)])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">QueryResponse :: forall a. a -&gt; Maybe (PageQuery TxOutRef) -&gt; QueryResponse a
</span><span class="hs-identifier hs-type">QueryResponse</span></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">$sel:queryResult:QueryResponse :: [(TxOutRef, DecoratedTxOut)]
</span><span class="hs-identifier hs-var">queryResult</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(TxOutRef, DecoratedTxOut)]
</span><a href="#local-6989586621679345051"><span class="hs-identifier hs-var">items</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:nextQuery:QueryResponse :: Maybe (PageQuery TxOutRef)
</span><span class="hs-identifier hs-var">nextQuery</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (PageQuery TxOutRef)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-175"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-176"></span><span>    </span><span class="annot"><a href="#local-6989586621679345051"><span class="hs-identifier hs-type">items</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">DecoratedTxOut</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-177"></span><span>    </span><span id="local-6989586621679345051"><span class="annot"><span class="annottext">items :: [(TxOutRef, DecoratedTxOut)]
</span><a href="#local-6989586621679345051"><span class="hs-identifier hs-var hs-var">items</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(AddressUtxo -&gt; (TxOutRef, DecoratedTxOut))
-&gt; [AddressUtxo] -&gt; [(TxOutRef, DecoratedTxOut)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">AddressUtxo -&gt; (TxOutRef, DecoratedTxOut)
</span><a href="#local-6989586621679345049"><span class="hs-identifier hs-var">transform</span></a></span><span> </span><span class="annot"><span class="annottext">[AddressUtxo]
</span><a href="#local-6989586621679345054"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span>    </span><span class="annot"><a href="#local-6989586621679345049"><span class="hs-identifier hs-type">transform</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AddressUtxo</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">DecoratedTxOut</span></span><span class="hs-special">)</span><span>
</span><span id="line-180"></span><span>    </span><span id="local-6989586621679345049"><span class="annot"><span class="annottext">transform :: AddressUtxo -&gt; (TxOutRef, DecoratedTxOut)
</span><a href="#local-6989586621679345049"><span class="hs-identifier hs-var hs-var">transform</span></a></span></span><span> </span><span id="local-6989586621679345048"><span class="annot"><span class="annottext">AddressUtxo
</span><a href="#local-6989586621679345048"><span class="hs-identifier hs-var">utxo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddressUtxo -&gt; TxOutRef
</span><a href="Plutus.Blockfrost.Utils.html#utxoToRef"><span class="hs-identifier hs-var">utxoToRef</span></a></span><span> </span><span class="annot"><span class="annottext">AddressUtxo
</span><a href="#local-6989586621679345048"><span class="hs-identifier hs-var">utxo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AddressUtxo -&gt; DecoratedTxOut
</span><a href="#local-6989586621679345047"><span class="hs-identifier hs-var">buildResponse</span></a></span><span> </span><span class="annot"><span class="annottext">AddressUtxo
</span><a href="#local-6989586621679345048"><span class="hs-identifier hs-var">utxo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span>    </span><span class="annot"><a href="#local-6989586621679345047"><span class="hs-identifier hs-type">buildResponse</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AddressUtxo</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">DecoratedTxOut</span></span><span>
</span><span id="line-183"></span><span>    </span><span id="local-6989586621679345047"><span class="annot"><span class="annottext">buildResponse :: AddressUtxo -&gt; DecoratedTxOut
</span><a href="#local-6989586621679345047"><span class="hs-identifier hs-var hs-var">buildResponse</span></a></span></span><span> </span><span id="local-6989586621679345046"><span class="annot"><span class="annottext">AddressUtxo
</span><a href="#local-6989586621679345046"><span class="hs-identifier hs-var">utxo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621679345055"><span class="hs-identifier hs-var">cred</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-184"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">PubKeyCredential</span></span><span> </span><span id="local-6989586621679345045"><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621679345045"><span class="hs-identifier hs-var">pkh</span></a></span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PubKeyHash -&gt; AddressUtxo -&gt; DecoratedTxOut
</span><a href="#local-6989586621679345044"><span class="hs-identifier hs-var">buildPublicKeyTxOut</span></a></span><span> </span><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621679345045"><span class="hs-identifier hs-var">pkh</span></a></span><span> </span><span class="annot"><span class="annottext">AddressUtxo
</span><a href="#local-6989586621679345046"><span class="hs-identifier hs-var">utxo</span></a></span><span>
</span><span id="line-185"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">ScriptCredential</span></span><span> </span><span id="local-6989586621679345043"><span class="annot"><span class="annottext">ValidatorHash
</span><a href="#local-6989586621679345043"><span class="hs-identifier hs-var">valHash</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ValidatorHash -&gt; AddressUtxo -&gt; DecoratedTxOut
</span><a href="#local-6989586621679345042"><span class="hs-identifier hs-var">buildScriptTxOut</span></a></span><span> </span><span class="annot"><span class="annottext">ValidatorHash
</span><a href="#local-6989586621679345043"><span class="hs-identifier hs-var">valHash</span></a></span><span> </span><span class="annot"><span class="annottext">AddressUtxo
</span><a href="#local-6989586621679345046"><span class="hs-identifier hs-var">utxo</span></a></span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span>    </span><span class="annot"><a href="#local-6989586621679345042"><span class="hs-identifier hs-type">buildScriptTxOut</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ValidatorHash</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AddressUtxo</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">DecoratedTxOut</span></span><span>
</span><span id="line-188"></span><span>    </span><span id="local-6989586621679345042"><span class="annot"><span class="annottext">buildScriptTxOut :: ValidatorHash -&gt; AddressUtxo -&gt; DecoratedTxOut
</span><a href="#local-6989586621679345042"><span class="hs-identifier hs-var hs-var">buildScriptTxOut</span></a></span></span><span> </span><span id="local-6989586621679345041"><span class="annot"><span class="annottext">ValidatorHash
</span><a href="#local-6989586621679345041"><span class="hs-identifier hs-var">valHash</span></a></span></span><span> </span><span id="local-6989586621679345040"><span class="annot"><span class="annottext">AddressUtxo
</span><a href="#local-6989586621679345040"><span class="hs-identifier hs-var">utxo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ScriptDecoratedTxOut :: ValidatorHash
-&gt; Maybe StakingCredential
-&gt; Value
-&gt; (DatumHash, DatumFromQuery)
-&gt; Maybe (Versioned Script)
-&gt; Maybe (Versioned Validator)
-&gt; DecoratedTxOut
</span><span class="hs-identifier hs-type">ScriptDecoratedTxOut</span></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_decoratedTxOutValidatorHash :: ValidatorHash
</span><span class="hs-identifier hs-var">_decoratedTxOutValidatorHash</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">ValidatorHash
</span><a href="#local-6989586621679345041"><span class="hs-identifier hs-var">valHash</span></a></span><span>
</span><span id="line-189"></span><span>                                                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_decoratedTxOutStakingCredential :: Maybe StakingCredential
</span><span class="hs-identifier hs-var">_decoratedTxOutStakingCredential</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Maybe StakingCredential
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-190"></span><span>                                                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_decoratedTxOutValue :: Value
</span><span class="hs-identifier hs-var">_decoratedTxOutValue</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">AddressUtxo -&gt; Value
</span><a href="#local-6989586621679345035"><span class="hs-identifier hs-var">utxoValue</span></a></span><span> </span><span class="annot"><span class="annottext">AddressUtxo
</span><a href="#local-6989586621679345040"><span class="hs-identifier hs-var">utxo</span></a></span><span>
</span><span id="line-191"></span><span>                                                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_decoratedTxOutScriptDatum :: (DatumHash, DatumFromQuery)
</span><span class="hs-identifier hs-var">_decoratedTxOutScriptDatum</span></span><span class="hs-glyph">=</span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddressUtxo -&gt; DatumHash
</span><a href="#local-6989586621679345033"><span class="hs-identifier hs-var">utxoDatumHash</span></a></span><span> </span><span class="annot"><span class="annottext">AddressUtxo
</span><a href="#local-6989586621679345040"><span class="hs-identifier hs-var">utxo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DatumFromQuery
</span><span class="hs-identifier hs-var">DatumUnknown</span></span><span class="hs-special">)</span><span>
</span><span id="line-192"></span><span>                                                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_decoratedTxOutValidator :: Maybe (Versioned Validator)
</span><span class="hs-identifier hs-var">_decoratedTxOutValidator</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Maybe (Versioned Validator)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-193"></span><span>                                                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_decoratedTxOutReferenceScript :: Maybe (Versioned Script)
</span><span class="hs-identifier hs-var">_decoratedTxOutReferenceScript</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Maybe (Versioned Script)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-194"></span><span>                                                        </span><span class="hs-special">}</span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span>    </span><span class="annot"><a href="#local-6989586621679345044"><span class="hs-identifier hs-type">buildPublicKeyTxOut</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PubKeyHash</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AddressUtxo</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">DecoratedTxOut</span></span><span>
</span><span id="line-197"></span><span>    </span><span id="local-6989586621679345044"><span class="annot"><span class="annottext">buildPublicKeyTxOut :: PubKeyHash -&gt; AddressUtxo -&gt; DecoratedTxOut
</span><a href="#local-6989586621679345044"><span class="hs-identifier hs-var hs-var">buildPublicKeyTxOut</span></a></span></span><span> </span><span id="local-6989586621679345030"><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621679345030"><span class="hs-identifier hs-var">pkh</span></a></span></span><span> </span><span id="local-6989586621679345029"><span class="annot"><span class="annottext">AddressUtxo
</span><a href="#local-6989586621679345029"><span class="hs-identifier hs-var">utxo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PublicKeyDecoratedTxOut :: PubKeyHash
-&gt; Maybe StakingCredential
-&gt; Value
-&gt; Maybe (DatumHash, DatumFromQuery)
-&gt; Maybe (Versioned Script)
-&gt; DecoratedTxOut
</span><span class="hs-identifier hs-type">PublicKeyDecoratedTxOut</span></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_decoratedTxOutPubKeyHash :: PubKeyHash
</span><span class="hs-identifier hs-var">_decoratedTxOutPubKeyHash</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621679345030"><span class="hs-identifier hs-var">pkh</span></a></span><span>
</span><span id="line-198"></span><span>                                                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_decoratedTxOutStakingCredential :: Maybe StakingCredential
</span><span class="hs-identifier hs-var">_decoratedTxOutStakingCredential</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Maybe StakingCredential
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-199"></span><span>                                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_decoratedTxOutValue :: Value
</span><span class="hs-identifier hs-var">_decoratedTxOutValue</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">AddressUtxo -&gt; Value
</span><a href="#local-6989586621679345035"><span class="hs-identifier hs-var">utxoValue</span></a></span><span> </span><span class="annot"><span class="annottext">AddressUtxo
</span><a href="#local-6989586621679345029"><span class="hs-identifier hs-var">utxo</span></a></span><span>
</span><span id="line-200"></span><span>                                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_decoratedTxOutPubKeyDatum :: Maybe (DatumHash, DatumFromQuery)
</span><span class="hs-identifier hs-var">_decoratedTxOutPubKeyDatum</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Maybe (DatumHash, DatumFromQuery)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-201"></span><span>                                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_decoratedTxOutReferenceScript :: Maybe (Versioned Script)
</span><span class="hs-identifier hs-var">_decoratedTxOutReferenceScript</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Maybe (Versioned Script)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-202"></span><span>                                                           </span><span class="hs-special">}</span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span>    </span><span class="annot"><a href="#local-6989586621679345035"><span class="hs-identifier hs-type">utxoValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AddressUtxo</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value</span></span><span>
</span><span id="line-205"></span><span>    </span><span id="local-6989586621679345035"><span class="annot"><span class="annottext">utxoValue :: AddressUtxo -&gt; Value
</span><a href="#local-6989586621679345035"><span class="hs-identifier hs-var hs-var">utxoValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Amount] -&gt; Value
</span><a href="Plutus.Blockfrost.Utils.html#amountsToValue"><span class="hs-identifier hs-var">amountsToValue</span></a></span><span> </span><span class="annot"><span class="annottext">([Amount] -&gt; Value)
-&gt; (AddressUtxo -&gt; [Amount]) -&gt; AddressUtxo -&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AddressUtxo -&gt; [Amount]
</span><span class="hs-identifier hs-var hs-var">_addressUtxoAmount</span></span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span>    </span><span class="annot"><a href="#local-6989586621679345033"><span class="hs-identifier hs-type">utxoDatumHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AddressUtxo</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ledger.DatumHash</span></span><span>
</span><span id="line-208"></span><span>    </span><span id="local-6989586621679345033"><span class="annot"><span class="annottext">utxoDatumHash :: AddressUtxo -&gt; DatumHash
</span><a href="#local-6989586621679345033"><span class="hs-identifier hs-var hs-var">utxoDatumHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; DatumHash
</span><a href="Plutus.Blockfrost.Utils.html#textToDatumHash"><span class="hs-identifier hs-var">textToDatumHash</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; DatumHash)
-&gt; (AddressUtxo -&gt; Text) -&gt; AddressUtxo -&gt; DatumHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text -&gt; Text
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromJust</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Text -&gt; Text)
-&gt; (AddressUtxo -&gt; Maybe Text) -&gt; AddressUtxo -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AddressUtxo -&gt; Maybe Text
</span><span class="hs-identifier hs-var hs-var">_addressUtxoDataHash</span></span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span id="local-6989586621679345023"><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processDatumsAtAddress"><span class="hs-identifier hs-type">processDatumsAtAddress</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-212"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.FromData</span></span><span> </span><span class="annot"><a href="#local-6989586621679345023"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-213"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PageQuery</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxOutRef</span></span><span>
</span><span id="line-214"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Credential</span></span><span>
</span><span id="line-215"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">JSON.Value</span></span><span class="hs-special">]</span><span>
</span><span id="line-216"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">QueryResponse</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679345023"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span></span><span>
</span><span id="line-217"></span><span id="processDatumsAtAddress"><span class="annot"><span class="annottext">processDatumsAtAddress :: PageQuery TxOutRef
-&gt; Credential -&gt; [Value] -&gt; IO (QueryResponse [a])
</span><a href="Plutus.Blockfrost.Responses.html#processDatumsAtAddress"><span class="hs-identifier hs-var hs-var">processDatumsAtAddress</span></a></span></span><span> </span><span class="annot"><span class="annottext">PageQuery TxOutRef
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Credential
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679345022"><span class="annot"><span class="annottext">[Value]
</span><a href="#local-6989586621679345022"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-218"></span><span>  </span><span id="local-6989586621679345021"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679345021"><span class="hs-identifier hs-var">items</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Value -&gt; IO (Maybe a)) -&gt; [Value] -&gt; IO [a]
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m (Maybe b)) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapMaybeM</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679345020"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679345020"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Value -&gt; IO (Maybe a)
forall a. FromData a =&gt; Maybe Value -&gt; IO (Maybe a)
</span><a href="Plutus.Blockfrost.Responses.html#processGetDatum"><span class="hs-identifier hs-var">processGetDatum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Value -&gt; Maybe Value
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679345020"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Value]
</span><a href="#local-6989586621679345022"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-219"></span><span>  </span><span class="annot"><span class="annottext">QueryResponse [a] -&gt; IO (QueryResponse [a])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryResponse [a] -&gt; IO (QueryResponse [a]))
-&gt; QueryResponse [a] -&gt; IO (QueryResponse [a])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">QueryResponse :: forall a. a -&gt; Maybe (PageQuery TxOutRef) -&gt; QueryResponse a
</span><span class="hs-identifier hs-type">QueryResponse</span></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">$sel:queryResult:QueryResponse :: [a]
</span><span class="hs-identifier hs-var">queryResult</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679345021"><span class="hs-identifier hs-var">items</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:nextQuery:QueryResponse :: Maybe (PageQuery TxOutRef)
</span><span class="hs-identifier hs-var">nextQuery</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (PageQuery TxOutRef)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span>
</span><span id="line-222"></span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processGetTxFromTxId"><span class="hs-identifier hs-type">processGetTxFromTxId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Plutus.Blockfrost.Types.html#TxResponse"><span class="hs-identifier hs-type">TxResponse</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ChainIndexTx</span></span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span id="processGetTxFromTxId"><span class="annot"><span class="annottext">processGetTxFromTxId :: Maybe TxResponse -&gt; IO (Maybe ChainIndexTx)
</span><a href="Plutus.Blockfrost.Responses.html#processGetTxFromTxId"><span class="hs-identifier hs-var hs-var">processGetTxFromTxId</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe TxResponse
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe ChainIndexTx -&gt; IO (Maybe ChainIndexTx)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ChainIndexTx
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-224"></span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processGetTxFromTxId"><span class="hs-identifier hs-var">processGetTxFromTxId</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><a href="Plutus.Blockfrost.Types.html#TxResponse"><span class="hs-identifier hs-type">TxResponse</span></a></span><span class="hs-special">{</span><span id="local-6989586621679345011"><span id="local-6989586621679345012"><span id="local-6989586621679345013"><span id="local-6989586621679345014"><span id="local-6989586621679345015"><span id="local-6989586621679345016"><span id="local-6989586621679345017"><span id="local-6989586621679345018"><span class="annot"><span class="annottext">[UtxoInput]
[UtxoOutput]
Maybe Text
Map Integer (ValidationPurpose, ScriptDatum)
Map Text ScriptCBOR
Map Text ScriptDatum
TxHash
_scriptsMap :: TxResponse -&gt; Map Text ScriptCBOR
_redeemersMap :: TxResponse -&gt; Map Integer (ValidationPurpose, ScriptDatum)
_datumsMap :: TxResponse -&gt; Map Text ScriptDatum
_utxosOutpus :: TxResponse -&gt; [UtxoOutput]
_utxosInputs :: TxResponse -&gt; [UtxoInput]
_invalidAfter :: TxResponse -&gt; Maybe Text
_invalidBefore :: TxResponse -&gt; Maybe Text
_txHash :: TxResponse -&gt; TxHash
_scriptsMap :: Map Text ScriptCBOR
_redeemersMap :: Map Integer (ValidationPurpose, ScriptDatum)
_datumsMap :: Map Text ScriptDatum
_utxosOutpus :: [UtxoOutput]
_utxosInputs :: [UtxoInput]
_invalidAfter :: Maybe Text
_invalidBefore :: Maybe Text
_txHash :: TxHash
</span><a href="Plutus.Blockfrost.Types.html#_scriptsMap"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-225"></span><span>    </span><span id="local-6989586621679345002"><span class="annot"><span class="annottext">Map DatumHash Datum
</span><a href="#local-6989586621679345002"><span class="hs-identifier hs-var">datums</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Map Text ScriptDatum -&gt; IO (Map DatumHash Datum)
</span><a href="#local-6989586621679345001"><span class="hs-identifier hs-var">getAllDatumsMap</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text ScriptDatum
</span><a href="#local-6989586621679345013"><span class="hs-identifier hs-var">_datumsMap</span></a></span><span>
</span><span id="line-226"></span><span>    </span><span id="local-6989586621679345000"><span class="annot"><span class="annottext">Redeemers
</span><a href="#local-6989586621679345000"><span class="hs-identifier hs-var">redeemers</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Map Integer (ValidationPurpose, ScriptDatum) -&gt; IO Redeemers
</span><a href="#local-6989586621679344999"><span class="hs-identifier hs-var">getAllRedeemersMap</span></a></span><span> </span><span class="annot"><span class="annottext">Map Integer (ValidationPurpose, ScriptDatum)
</span><a href="#local-6989586621679345012"><span class="hs-identifier hs-var">_redeemersMap</span></a></span><span>
</span><span id="line-227"></span><span>    </span><span id="local-6989586621679344998"><span class="annot"><span class="annottext">Map ScriptHash (Versioned Script)
</span><a href="#local-6989586621679344998"><span class="hs-identifier hs-var">scripts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Map Text ScriptCBOR -&gt; IO (Map ScriptHash (Versioned Script))
</span><a href="#local-6989586621679344997"><span class="hs-identifier hs-var">getAllScriptsMap</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text ScriptCBOR
</span><a href="#local-6989586621679345011"><span class="hs-identifier hs-var">_scriptsMap</span></a></span><span>
</span><span id="line-228"></span><span>    </span><span id="local-6989586621679344996"><span class="annot"><span class="annottext">ChainIndexTxOutputs
</span><a href="#local-6989586621679344996"><span class="hs-identifier hs-var">txouts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[UtxoOutput] -&gt; IO ChainIndexTxOutputs
</span><a href="#local-6989586621679344995"><span class="hs-identifier hs-var">processTxOuts</span></a></span><span> </span><span class="annot"><span class="annottext">[UtxoOutput]
</span><a href="#local-6989586621679345014"><span class="hs-identifier hs-var">_utxosOutpus</span></a></span><span>
</span><span id="line-229"></span><span>    </span><span class="annot"><span class="annottext">Maybe ChainIndexTx -&gt; IO (Maybe ChainIndexTx)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe ChainIndexTx -&gt; IO (Maybe ChainIndexTx))
-&gt; Maybe ChainIndexTx -&gt; IO (Maybe ChainIndexTx)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ChainIndexTx -&gt; Maybe ChainIndexTx
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">ChainIndexTx :: TxId
-&gt; [TxOutRef]
-&gt; ChainIndexTxOutputs
-&gt; SlotRange
-&gt; Map DatumHash Datum
-&gt; Redeemers
-&gt; Map ScriptHash (Versioned Script)
-&gt; Maybe CardanoTx
-&gt; ChainIndexTx
</span><span class="hs-identifier hs-type">ChainIndexTx</span></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_citxTxId :: TxId
</span><span class="hs-identifier hs-var">_citxTxId</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxHash -&gt; TxId
</span><a href="Plutus.Blockfrost.Utils.html#txHashToTxId"><span class="hs-identifier hs-var">txHashToTxId</span></a></span><span> </span><span class="annot"><span class="annottext">TxHash
</span><a href="#local-6989586621679345018"><span class="hs-identifier hs-var">_txHash</span></a></span><span>
</span><span id="line-230"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_citxInputs :: [TxOutRef]
</span><span class="hs-identifier hs-var">_citxInputs</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UtxoInput -&gt; TxOutRef) -&gt; [UtxoInput] -&gt; [TxOutRef]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">UtxoInput -&gt; TxOutRef
</span><a href="Plutus.Blockfrost.Utils.html#txoToRef"><span class="hs-identifier hs-var">txoToRef</span></a></span><span> </span><span class="annot"><span class="annottext">[UtxoInput]
</span><a href="#local-6989586621679345015"><span class="hs-identifier hs-var">_utxosInputs</span></a></span><span>
</span><span id="line-231"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_citxOutputs :: ChainIndexTxOutputs
</span><span class="hs-identifier hs-var">_citxOutputs</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ChainIndexTxOutputs
</span><a href="#local-6989586621679344996"><span class="hs-identifier hs-var">txouts</span></a></span><span>
</span><span id="line-232"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_citxValidRange :: SlotRange
</span><span class="hs-identifier hs-var">_citxValidRange</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Text -&gt; Maybe Text -&gt; SlotRange
</span><a href="Plutus.Blockfrost.Utils.html#toPlutusSlotRange"><span class="hs-identifier hs-var">toPlutusSlotRange</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621679345017"><span class="hs-identifier hs-var">_invalidBefore</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621679345016"><span class="hs-identifier hs-var">_invalidAfter</span></a></span><span>
</span><span id="line-233"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_citxData :: Map DatumHash Datum
</span><span class="hs-identifier hs-var">_citxData</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map DatumHash Datum
</span><a href="#local-6989586621679345002"><span class="hs-identifier hs-var">datums</span></a></span><span>
</span><span id="line-234"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_citxRedeemers :: Redeemers
</span><span class="hs-identifier hs-var">_citxRedeemers</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Redeemers
</span><a href="#local-6989586621679345000"><span class="hs-identifier hs-var">redeemers</span></a></span><span>
</span><span id="line-235"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_citxScripts :: Map ScriptHash (Versioned Script)
</span><span class="hs-identifier hs-var">_citxScripts</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map ScriptHash (Versioned Script)
</span><a href="#local-6989586621679344998"><span class="hs-identifier hs-var">scripts</span></a></span><span>
</span><span id="line-236"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_citxCardanoTx :: Maybe CardanoTx
</span><span class="hs-identifier hs-var">_citxCardanoTx</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe CardanoTx
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-237"></span><span>                               </span><span class="hs-special">}</span><span>
</span><span id="line-238"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-239"></span><span>    </span><span class="annot"><a href="#local-6989586621679344995"><span class="hs-identifier hs-type">processTxOuts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">UtxoOutput</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ChainIndexTxOutputs</span></span><span>
</span><span id="line-240"></span><span>    </span><span id="local-6989586621679344995"><span class="annot"><span class="annottext">processTxOuts :: [UtxoOutput] -&gt; IO ChainIndexTxOutputs
</span><a href="#local-6989586621679344995"><span class="hs-identifier hs-var hs-var">processTxOuts</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ChainIndexTxOutputs -&gt; IO ChainIndexTxOutputs
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainIndexTxOutputs -&gt; IO ChainIndexTxOutputs)
-&gt; ChainIndexTxOutputs -&gt; IO ChainIndexTxOutputs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ChainIndexTxOut -&gt; ChainIndexTxOutputs
</span><span class="hs-identifier hs-var">InvalidTx</span></span><span> </span><span class="annot"><span class="annottext">Maybe ChainIndexTxOut
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-241"></span><span>    </span><span class="annot"><a href="#local-6989586621679344995"><span class="hs-identifier hs-var">processTxOuts</span></a></span><span> </span><span id="local-6989586621679344982"><span class="annot"><span class="annottext">[UtxoOutput]
</span><a href="#local-6989586621679344982"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ChainIndexTxOut] -&gt; ChainIndexTxOutputs
</span><span class="hs-identifier hs-var">ValidTx</span></span><span> </span><span class="annot"><span class="annottext">([ChainIndexTxOut] -&gt; ChainIndexTxOutputs)
-&gt; IO [ChainIndexTxOut] -&gt; IO ChainIndexTxOutputs
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(UtxoOutput -&gt; IO ChainIndexTxOut)
-&gt; [UtxoOutput] -&gt; IO [ChainIndexTxOut]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">UtxoOutput -&gt; IO ChainIndexTxOut
</span><a href="#local-6989586621679344978"><span class="hs-identifier hs-var">utxoOutputToTxOut</span></a></span><span> </span><span class="annot"><span class="annottext">[UtxoOutput]
</span><a href="#local-6989586621679344982"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span>    </span><span class="annot"><a href="#local-6989586621679344978"><span class="hs-identifier hs-type">utxoOutputToTxOut</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UtxoOutput</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CI.ChainIndexTxOut</span></span><span>
</span><span id="line-244"></span><span>    </span><span id="local-6989586621679344978"><span class="annot"><span class="annottext">utxoOutputToTxOut :: UtxoOutput -&gt; IO ChainIndexTxOut
</span><a href="#local-6989586621679344978"><span class="hs-identifier hs-var hs-var">utxoOutputToTxOut</span></a></span></span><span> </span><span id="local-6989586621679344977"><span class="annot"><span class="annottext">UtxoOutput
</span><a href="#local-6989586621679344977"><span class="hs-identifier hs-var">utxo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-245"></span><span>        </span><span id="local-6989586621679344976"><span class="annot"><span class="annottext">AddressInEra BabbageEra
</span><a href="#local-6989586621679344976"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO (AddressInEra BabbageEra))
-&gt; (AddressInEra BabbageEra -&gt; IO (AddressInEra BabbageEra))
-&gt; Either String (AddressInEra BabbageEra)
-&gt; IO (AddressInEra BabbageEra)
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IOError -&gt; IO (AddressInEra BabbageEra)
forall a. IOError -&gt; IO a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">ioError</span></a></span><span> </span><span class="annot"><span class="annottext">(IOError -&gt; IO (AddressInEra BabbageEra))
-&gt; (String -&gt; IOError) -&gt; String -&gt; IO (AddressInEra BabbageEra)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; IOError
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">userError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AddressInEra BabbageEra -&gt; IO (AddressInEra BabbageEra)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Address -&gt; Either String (AddressInEra BabbageEra)
</span><a href="Plutus.Blockfrost.Utils.html#toCardanoAddress"><span class="hs-identifier hs-var">toCardanoAddress</span></a></span><span> </span><span class="annot"><span class="annottext">(Address -&gt; Either String (AddressInEra BabbageEra))
-&gt; Address -&gt; Either String (AddressInEra BabbageEra)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">UtxoOutput -&gt; Address
</span><span class="hs-identifier hs-var hs-var">_utxoOutputAddress</span></span><span> </span><span class="annot"><span class="annottext">UtxoOutput
</span><a href="#local-6989586621679344977"><span class="hs-identifier hs-var">utxo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-246"></span><span>        </span><span class="annot"><span class="annottext">ChainIndexTxOut -&gt; IO ChainIndexTxOut
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainIndexTxOut -&gt; IO ChainIndexTxOut)
-&gt; ChainIndexTxOut -&gt; IO ChainIndexTxOut
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ChainIndexTxOut :: AddressInEra BabbageEra
-&gt; Value -&gt; OutputDatum -&gt; ReferenceScript -&gt; ChainIndexTxOut
</span><span class="hs-identifier hs-type">CI.ChainIndexTxOut</span></span><span>
</span><span id="line-247"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">citoAddress :: AddressInEra BabbageEra
</span><span class="hs-identifier hs-var">CI.citoAddress</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AddressInEra BabbageEra
</span><a href="#local-6989586621679344976"><span class="hs-identifier hs-var">addr</span></a></span><span>
</span><span id="line-248"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">citoValue :: Value
</span><span class="hs-identifier hs-var">CI.citoValue</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Amount] -&gt; Value
</span><a href="Plutus.Blockfrost.Utils.html#amountsToValue"><span class="hs-identifier hs-var">amountsToValue</span></a></span><span> </span><span class="annot"><span class="annottext">([Amount] -&gt; Value) -&gt; [Amount] -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">UtxoOutput -&gt; [Amount]
</span><span class="hs-identifier hs-var hs-var">_utxoOutputAmount</span></span><span> </span><span class="annot"><span class="annottext">UtxoOutput
</span><a href="#local-6989586621679344977"><span class="hs-identifier hs-var">utxo</span></a></span><span>
</span><span id="line-249"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">citoDatum :: OutputDatum
</span><span class="hs-identifier hs-var">CI.citoDatum</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OutputDatum
-&gt; (DatumHash -&gt; OutputDatum) -&gt; Maybe DatumHash -&gt; OutputDatum
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">OutputDatum
</span><span class="hs-identifier hs-var">PV2.NoOutputDatum</span></span><span> </span><span class="annot"><span class="annottext">DatumHash -&gt; OutputDatum
</span><span class="hs-identifier hs-var">PV2.OutputDatumHash</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; DatumHash
</span><a href="Plutus.Blockfrost.Utils.html#textToDatumHash"><span class="hs-identifier hs-var">textToDatumHash</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; DatumHash)
-&gt; (DatumHash -&gt; Text) -&gt; DatumHash -&gt; DatumHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">DatumHash -&gt; Text
</span><span class="hs-identifier hs-var hs-var">unDatumHash</span></span><span> </span><span class="annot"><span class="annottext">(DatumHash -&gt; DatumHash) -&gt; Maybe DatumHash -&gt; Maybe DatumHash
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">UtxoOutput -&gt; Maybe DatumHash
</span><span class="hs-identifier hs-var hs-var">_utxoOutputDataHash</span></span><span> </span><span class="annot"><span class="annottext">UtxoOutput
</span><a href="#local-6989586621679344977"><span class="hs-identifier hs-var">utxo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-250"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">citoRefScript :: ReferenceScript
</span><span class="hs-identifier hs-var">CI.citoRefScript</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ReferenceScript
</span><span class="hs-identifier hs-var">CI.ReferenceScriptNone</span></span><span>
</span><span id="line-251"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-252"></span><span>
</span><span id="line-253"></span><span>    </span><span class="annot"><a href="#local-6989586621679345001"><span class="hs-identifier hs-type">getAllDatumsMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScriptDatum</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ledger.DatumHash</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Datum</span></span><span class="hs-special">)</span><span>
</span><span id="line-254"></span><span>    </span><span id="local-6989586621679345001"><span class="annot"><span class="annottext">getAllDatumsMap :: Map Text ScriptDatum -&gt; IO (Map DatumHash Datum)
</span><a href="#local-6989586621679345001"><span class="hs-identifier hs-var hs-var">getAllDatumsMap</span></a></span></span><span> </span><span id="local-6989586621679344965"><span class="annot"><span class="annottext">Map Text ScriptDatum
</span><a href="#local-6989586621679344965"><span class="hs-identifier hs-var">datumMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-255"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679344964"><span class="annot"><span class="annottext">newKeys :: [DatumHash]
</span><a href="#local-6989586621679344964"><span class="hs-identifier hs-var hs-var">newKeys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; DatumHash) -&gt; [Text] -&gt; [DatumHash]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; DatumHash
</span><a href="Plutus.Blockfrost.Utils.html#textToDatumHash"><span class="hs-identifier hs-var">textToDatumHash</span></a></span><span> </span><span class="annot"><span class="annottext">([Text] -&gt; [DatumHash]) -&gt; [Text] -&gt; [DatumHash]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text ScriptDatum -&gt; [Text]
forall k a. Map k a -&gt; [k]
</span><span class="hs-identifier hs-var">keys</span></span><span> </span><span class="annot"><span class="annottext">Map Text ScriptDatum
</span><a href="#local-6989586621679344965"><span class="hs-identifier hs-var">datumMap</span></a></span><span>
</span><span id="line-256"></span><span>            </span><span id="local-6989586621679344963"><span class="annot"><span class="annottext">newElems :: [IO Datum]
</span><a href="#local-6989586621679344963"><span class="hs-identifier hs-var hs-var">newElems</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ScriptDatum -&gt; IO Datum) -&gt; [ScriptDatum] -&gt; [IO Datum]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Maybe Datum -&gt; Datum) -&gt; IO (Maybe Datum) -&gt; IO Datum
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">(&lt;$&gt;)</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Datum -&gt; Datum
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromJust</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Maybe Datum) -&gt; IO Datum)
-&gt; (ScriptDatum -&gt; IO (Maybe Datum)) -&gt; ScriptDatum -&gt; IO Datum
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Value -&gt; IO (Maybe Datum)
forall a. FromData a =&gt; Maybe Value -&gt; IO (Maybe a)
</span><a href="Plutus.Blockfrost.Responses.html#processGetDatum"><span class="hs-identifier hs-var">processGetDatum</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Value -&gt; IO (Maybe Datum))
-&gt; (ScriptDatum -&gt; Maybe Value) -&gt; ScriptDatum -&gt; IO (Maybe Datum)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Maybe Value
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; Maybe Value)
-&gt; (ScriptDatum -&gt; Value) -&gt; ScriptDatum -&gt; Maybe Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptDatum -&gt; Value
</span><span class="hs-identifier hs-var hs-var">_scriptDatumJsonValue</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([ScriptDatum] -&gt; [IO Datum]) -&gt; [ScriptDatum] -&gt; [IO Datum]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text ScriptDatum -&gt; [ScriptDatum]
forall k a. Map k a -&gt; [a]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">Map Text ScriptDatum
</span><a href="#local-6989586621679344965"><span class="hs-identifier hs-var">datumMap</span></a></span><span>
</span><span id="line-257"></span><span>        </span><span id="local-6989586621679344961"><span class="annot"><span class="annottext">[Datum]
</span><a href="#local-6989586621679344961"><span class="hs-identifier hs-var">datElems</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[IO Datum] -&gt; IO [Datum]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">sequence</span></a></span><span> </span><span class="annot"><span class="annottext">[IO Datum]
</span><a href="#local-6989586621679344963"><span class="hs-identifier hs-var">newElems</span></a></span><span>
</span><span id="line-258"></span><span>        </span><span class="annot"><span class="annottext">Map DatumHash Datum -&gt; IO (Map DatumHash Datum)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Map DatumHash Datum -&gt; IO (Map DatumHash Datum))
-&gt; Map DatumHash Datum -&gt; IO (Map DatumHash Datum)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[(DatumHash, Datum)] -&gt; Map DatumHash Datum
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><span class="hs-identifier hs-var">fromList</span></span><span> </span><span class="annot"><span class="annottext">([(DatumHash, Datum)] -&gt; Map DatumHash Datum)
-&gt; [(DatumHash, Datum)] -&gt; Map DatumHash Datum
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[DatumHash] -&gt; [Datum] -&gt; [(DatumHash, Datum)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[DatumHash]
</span><a href="#local-6989586621679344964"><span class="hs-identifier hs-var">newKeys</span></a></span><span> </span><span class="annot"><span class="annottext">[Datum]
</span><a href="#local-6989586621679344961"><span class="hs-identifier hs-var">datElems</span></a></span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span>    </span><span class="annot"><a href="#local-6989586621679344999"><span class="hs-identifier hs-type">getAllRedeemersMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ValidationPurpose</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScriptDatum</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Plutus.V1.Ledger.Tx.Redeemers</span></span><span>
</span><span id="line-261"></span><span>    </span><span id="local-6989586621679344999"><span class="annot"><span class="annottext">getAllRedeemersMap :: Map Integer (ValidationPurpose, ScriptDatum) -&gt; IO Redeemers
</span><a href="#local-6989586621679344999"><span class="hs-identifier hs-var hs-var">getAllRedeemersMap</span></a></span></span><span> </span><span id="local-6989586621679344959"><span class="annot"><span class="annottext">Map Integer (ValidationPurpose, ScriptDatum)
</span><a href="#local-6989586621679344959"><span class="hs-identifier hs-var">datumMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-262"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679344958"><span class="annot"><span class="annottext">indexs :: [Integer]
</span><a href="#local-6989586621679344958"><span class="hs-identifier hs-var hs-var">indexs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map Integer (ValidationPurpose, ScriptDatum) -&gt; [Integer]
forall k a. Map k a -&gt; [k]
</span><span class="hs-identifier hs-var">keys</span></span><span> </span><span class="annot"><span class="annottext">Map Integer (ValidationPurpose, ScriptDatum)
</span><a href="#local-6989586621679344959"><span class="hs-identifier hs-var">datumMap</span></a></span><span>
</span><span id="line-263"></span><span>            </span><span id="local-6989586621679344957"><span class="annot"><span class="annottext">st :: [ScriptTag]
</span><a href="#local-6989586621679344957"><span class="hs-identifier hs-var hs-var">st</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((ValidationPurpose, ScriptDatum) -&gt; ScriptTag)
-&gt; [(ValidationPurpose, ScriptDatum)] -&gt; [ScriptTag]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ValidationPurpose -&gt; ScriptTag
</span><a href="Plutus.Blockfrost.Utils.html#toPlutusScriptTag"><span class="hs-identifier hs-var">toPlutusScriptTag</span></a></span><span> </span><span class="annot"><span class="annottext">(ValidationPurpose -&gt; ScriptTag)
-&gt; ((ValidationPurpose, ScriptDatum) -&gt; ValidationPurpose)
-&gt; (ValidationPurpose, ScriptDatum)
-&gt; ScriptTag
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(ValidationPurpose, ScriptDatum) -&gt; ValidationPurpose
forall a b. (a, b) -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fst</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Integer (ValidationPurpose, ScriptDatum)
-&gt; [(ValidationPurpose, ScriptDatum)]
forall k a. Map k a -&gt; [a]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">Map Integer (ValidationPurpose, ScriptDatum)
</span><a href="#local-6989586621679344959"><span class="hs-identifier hs-var">datumMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>            </span><span id="local-6989586621679344955"><span class="annot"><span class="annottext">redPtr :: [RedeemerPtr]
</span><a href="#local-6989586621679344955"><span class="hs-identifier hs-var hs-var">redPtr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ScriptTag -&gt; Integer -&gt; RedeemerPtr)
-&gt; [ScriptTag] -&gt; [Integer] -&gt; [RedeemerPtr]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">zipWith</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptTag -&gt; Integer -&gt; RedeemerPtr
</span><span class="hs-identifier hs-var">RedeemerPtr</span></span><span> </span><span class="annot"><span class="annottext">[ScriptTag]
</span><a href="#local-6989586621679344957"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">[Integer]
</span><a href="#local-6989586621679344958"><span class="hs-identifier hs-var">indexs</span></a></span><span>
</span><span id="line-265"></span><span>            </span><span id="local-6989586621679344952"><span class="annot"><span class="annottext">newElems :: [IO Redeemer]
</span><a href="#local-6989586621679344952"><span class="hs-identifier hs-var hs-var">newElems</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((ValidationPurpose, ScriptDatum) -&gt; IO Redeemer)
-&gt; [(ValidationPurpose, ScriptDatum)] -&gt; [IO Redeemer]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Maybe Redeemer -&gt; Redeemer) -&gt; IO (Maybe Redeemer) -&gt; IO Redeemer
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">(&lt;$&gt;)</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Redeemer -&gt; Redeemer
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromJust</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Maybe Redeemer) -&gt; IO Redeemer)
-&gt; ((ValidationPurpose, ScriptDatum) -&gt; IO (Maybe Redeemer))
-&gt; (ValidationPurpose, ScriptDatum)
-&gt; IO Redeemer
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Value -&gt; IO (Maybe Redeemer)
forall a. FromData a =&gt; Maybe Value -&gt; IO (Maybe a)
</span><a href="Plutus.Blockfrost.Responses.html#processGetDatum"><span class="hs-identifier hs-var">processGetDatum</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Value -&gt; IO (Maybe Redeemer))
-&gt; ((ValidationPurpose, ScriptDatum) -&gt; Maybe Value)
-&gt; (ValidationPurpose, ScriptDatum)
-&gt; IO (Maybe Redeemer)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Maybe Value
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; Maybe Value)
-&gt; ((ValidationPurpose, ScriptDatum) -&gt; Value)
-&gt; (ValidationPurpose, ScriptDatum)
-&gt; Maybe Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptDatum -&gt; Value
</span><span class="hs-identifier hs-var hs-var">_scriptDatumJsonValue</span></span><span> </span><span class="annot"><span class="annottext">(ScriptDatum -&gt; Value)
-&gt; ((ValidationPurpose, ScriptDatum) -&gt; ScriptDatum)
-&gt; (ValidationPurpose, ScriptDatum)
-&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(ValidationPurpose, ScriptDatum) -&gt; ScriptDatum
forall a b. (a, b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(ValidationPurpose, ScriptDatum)] -&gt; [IO Redeemer])
-&gt; [(ValidationPurpose, ScriptDatum)] -&gt; [IO Redeemer]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Map Integer (ValidationPurpose, ScriptDatum)
-&gt; [(ValidationPurpose, ScriptDatum)]
forall k a. Map k a -&gt; [a]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">Map Integer (ValidationPurpose, ScriptDatum)
</span><a href="#local-6989586621679344959"><span class="hs-identifier hs-var">datumMap</span></a></span><span>
</span><span id="line-266"></span><span>        </span><span id="local-6989586621679344951"><span class="annot"><span class="annottext">[Redeemer]
</span><a href="#local-6989586621679344951"><span class="hs-identifier hs-var">redElems</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[IO Redeemer] -&gt; IO [Redeemer]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">sequence</span></a></span><span> </span><span class="annot"><span class="annottext">[IO Redeemer]
</span><a href="#local-6989586621679344952"><span class="hs-identifier hs-var">newElems</span></a></span><span>
</span><span id="line-267"></span><span>        </span><span class="annot"><span class="annottext">Redeemers -&gt; IO Redeemers
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Redeemers -&gt; IO Redeemers) -&gt; Redeemers -&gt; IO Redeemers
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[(RedeemerPtr, Redeemer)] -&gt; Redeemers
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><span class="hs-identifier hs-var">fromList</span></span><span> </span><span class="annot"><span class="annottext">([(RedeemerPtr, Redeemer)] -&gt; Redeemers)
-&gt; [(RedeemerPtr, Redeemer)] -&gt; Redeemers
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[RedeemerPtr] -&gt; [Redeemer] -&gt; [(RedeemerPtr, Redeemer)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[RedeemerPtr]
</span><a href="#local-6989586621679344955"><span class="hs-identifier hs-var">redPtr</span></a></span><span> </span><span class="annot"><span class="annottext">[Redeemer]
</span><a href="#local-6989586621679344951"><span class="hs-identifier hs-var">redElems</span></a></span><span>
</span><span id="line-268"></span><span>
</span><span id="line-269"></span><span>    </span><span class="annot"><a href="#local-6989586621679344997"><span class="hs-identifier hs-type">getAllScriptsMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScriptCBOR</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ledger.ScriptHash</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Versioned</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ledger.Script</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span>    </span><span id="local-6989586621679344997"><span class="annot"><span class="annottext">getAllScriptsMap :: Map Text ScriptCBOR -&gt; IO (Map ScriptHash (Versioned Script))
</span><a href="#local-6989586621679344997"><span class="hs-identifier hs-var hs-var">getAllScriptsMap</span></a></span></span><span> </span><span id="local-6989586621679344950"><span class="annot"><span class="annottext">Map Text ScriptCBOR
</span><a href="#local-6989586621679344950"><span class="hs-identifier hs-var">scriptsMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-271"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679344949"><span class="annot"><span class="annottext">newKeys :: [ScriptHash]
</span><a href="#local-6989586621679344949"><span class="hs-identifier hs-var hs-var">newKeys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; ScriptHash) -&gt; [Text] -&gt; [ScriptHash]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; ScriptHash
</span><a href="Plutus.Blockfrost.Utils.html#textToScriptHash"><span class="hs-identifier hs-var">textToScriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">([Text] -&gt; [ScriptHash]) -&gt; [Text] -&gt; [ScriptHash]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text ScriptCBOR -&gt; [Text]
forall k a. Map k a -&gt; [k]
</span><span class="hs-identifier hs-var">keys</span></span><span> </span><span class="annot"><span class="annottext">Map Text ScriptCBOR
</span><a href="#local-6989586621679344950"><span class="hs-identifier hs-var">scriptsMap</span></a></span><span>
</span><span id="line-272"></span><span>            </span><span id="local-6989586621679344947"><span class="annot"><span class="annottext">newElems :: [IO (Versioned Script)]
</span><a href="#local-6989586621679344947"><span class="hs-identifier hs-var hs-var">newElems</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ScriptCBOR -&gt; IO (Versioned Script))
-&gt; [ScriptCBOR] -&gt; [IO (Versioned Script)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Maybe (Versioned Script) -&gt; Versioned Script)
-&gt; IO (Maybe (Versioned Script)) -&gt; IO (Versioned Script)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">(&lt;$&gt;)</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Versioned Script) -&gt; Versioned Script
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromJust</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Maybe (Versioned Script)) -&gt; IO (Versioned Script))
-&gt; (ScriptCBOR -&gt; IO (Maybe (Versioned Script)))
-&gt; ScriptCBOR
-&gt; IO (Versioned Script)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ScriptCBOR -&gt; IO (Maybe (Versioned Script))
forall a.
PlutusValidator a =&gt;
Maybe ScriptCBOR -&gt; IO (Maybe (Versioned a))
</span><a href="Plutus.Blockfrost.Responses.html#processGetValidator"><span class="hs-identifier hs-var">processGetValidator</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe ScriptCBOR -&gt; IO (Maybe (Versioned Script)))
-&gt; (ScriptCBOR -&gt; Maybe ScriptCBOR)
-&gt; ScriptCBOR
-&gt; IO (Maybe (Versioned Script))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptCBOR -&gt; Maybe ScriptCBOR
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([ScriptCBOR] -&gt; [IO (Versioned Script)])
-&gt; [ScriptCBOR] -&gt; [IO (Versioned Script)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text ScriptCBOR -&gt; [ScriptCBOR]
forall k a. Map k a -&gt; [a]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">Map Text ScriptCBOR
</span><a href="#local-6989586621679344950"><span class="hs-identifier hs-var">scriptsMap</span></a></span><span>
</span><span id="line-273"></span><span>        </span><span id="local-6989586621679344946"><span class="annot"><span class="annottext">[Versioned Script]
</span><a href="#local-6989586621679344946"><span class="hs-identifier hs-var">scriptElems</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[IO (Versioned Script)] -&gt; IO [Versioned Script]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">sequence</span></a></span><span> </span><span class="annot"><span class="annottext">[IO (Versioned Script)]
</span><a href="#local-6989586621679344947"><span class="hs-identifier hs-var">newElems</span></a></span><span>
</span><span id="line-274"></span><span>        </span><span class="annot"><span class="annottext">Map ScriptHash (Versioned Script)
-&gt; IO (Map ScriptHash (Versioned Script))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Map ScriptHash (Versioned Script)
 -&gt; IO (Map ScriptHash (Versioned Script)))
-&gt; Map ScriptHash (Versioned Script)
-&gt; IO (Map ScriptHash (Versioned Script))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[(ScriptHash, Versioned Script)]
-&gt; Map ScriptHash (Versioned Script)
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><span class="hs-identifier hs-var">fromList</span></span><span> </span><span class="annot"><span class="annottext">([(ScriptHash, Versioned Script)]
 -&gt; Map ScriptHash (Versioned Script))
-&gt; [(ScriptHash, Versioned Script)]
-&gt; Map ScriptHash (Versioned Script)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[ScriptHash]
-&gt; [Versioned Script] -&gt; [(ScriptHash, Versioned Script)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[ScriptHash]
</span><a href="#local-6989586621679344949"><span class="hs-identifier hs-var">newKeys</span></a></span><span> </span><span class="annot"><span class="annottext">[Versioned Script]
</span><a href="#local-6989586621679344946"><span class="hs-identifier hs-var">scriptElems</span></a></span><span>
</span><span id="line-275"></span><span>
</span><span id="line-276"></span><span class="annot"><a href="Plutus.Blockfrost.Responses.html#processGetTxsFromTxIds"><span class="hs-identifier hs-type">processGetTxsFromTxIds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutus.Blockfrost.Types.html#TxResponse"><span class="hs-identifier hs-type">TxResponse</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">ChainIndexTx</span></span><span class="hs-special">]</span><span>
</span><span id="line-277"></span><span id="processGetTxsFromTxIds"><span class="annot"><span class="annottext">processGetTxsFromTxIds :: [TxResponse] -&gt; IO [ChainIndexTx]
</span><a href="Plutus.Blockfrost.Responses.html#processGetTxsFromTxIds"><span class="hs-identifier hs-var hs-var">processGetTxsFromTxIds</span></a></span></span><span> </span><span id="local-6989586621679344945"><span class="annot"><span class="annottext">[TxResponse]
</span><a href="#local-6989586621679344945"><span class="hs-identifier hs-var">txs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Maybe ChainIndexTx] -&gt; [ChainIndexTx]
forall a. [Maybe a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="annot"><span class="annottext">([Maybe ChainIndexTx] -&gt; [ChainIndexTx])
-&gt; IO [Maybe ChainIndexTx] -&gt; IO [ChainIndexTx]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(TxResponse -&gt; IO (Maybe ChainIndexTx))
-&gt; [TxResponse] -&gt; IO [Maybe ChainIndexTx]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe TxResponse -&gt; IO (Maybe ChainIndexTx)
</span><a href="Plutus.Blockfrost.Responses.html#processGetTxFromTxId"><span class="hs-identifier hs-var">processGetTxFromTxId</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe TxResponse -&gt; IO (Maybe ChainIndexTx))
-&gt; (TxResponse -&gt; Maybe TxResponse)
-&gt; TxResponse
-&gt; IO (Maybe ChainIndexTx)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TxResponse -&gt; Maybe TxResponse
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TxResponse]
</span><a href="#local-6989586621679344945"><span class="hs-identifier hs-var">txs</span></a></span><span>
</span><span id="line-278"></span></pre></body></html>