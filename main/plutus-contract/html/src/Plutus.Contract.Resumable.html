<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DataKinds           #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveAnyClass      #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DeriveFunctor       #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric       #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE DerivingStrategies  #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE DerivingVia         #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts    #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE GADTs               #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE KindSignatures      #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase          #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE MonoLocalBinds      #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns      #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings   #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes          #-}</span><span>
</span><span id="line-16"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-17"></span><span class="hs-pragma">{-# LANGUAGE TemplateHaskell     #-}</span><span>
</span><span id="line-18"></span><span class="hs-pragma">{-# LANGUAGE TupleSections       #-}</span><span>
</span><span id="line-19"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications    #-}</span><span>
</span><span id="line-20"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators       #-}</span><span>
</span><span id="line-21"></span><span class="hs-comment">{-
This module defines the 'Resumable' effect and its handlers.

@Resumable i o@ programs work like state machines. Their state type is
'Requests' @o@ and their input type is 'Response' @i@. Note that the state
contains multiple requests, but the input only has a single response.
See note [Resumable state machine] for details.

== Constructing resumable programs
Resumable programs can be constructed using 'prompt' and 'select'. 'prompt'
has one argument that describes the request.

&gt;&gt;&gt; (prompt &quot;A&quot;) 'select' (prompt &quot;B&quot;)

makes two requests and returns the answer of the one that is responded to
first. In the state machine analogy, the initial state of this program would
be the set of the two requests @&quot;A&quot;@ and @&quot;B&quot;@.

== Running resumable programs
The 'Resumable' effect is handled in two stages, using 'handleResumable' and
'handleNonDetPrompt' (see note [Running resumable programs] for a description
of how it works). The types 'Requests' and 'Responses' store the requests
made by, and responses given to, a resumable program.

== 'Resumable' and non-determinism
The kind of non-determinism used in 'Resumable' is different from the kind
encoded in 'Control.Applicative.Alternative' in that it does not allow
for backtracking (because it's not meant to encode &quot;searching a problem
space for a solution&quot;). 'Resumable' programs do not have the ability to call
'Control.Applicative.Alternative.empty' and therefore do not implement
the 'Control.Applicative.Alternative' class.

-}</span><span>
</span><span id="line-54"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Plutus.Contract.Resumable</span><span class="hs-special">(</span><span>
</span><span id="line-55"></span><span>    </span><span class="annot"><span class="hs-comment">-- * The 'Resumable' effect</span></span><span>
</span><span id="line-56"></span><span>    </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Resumable"><span class="hs-identifier">Resumable</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#prompt"><span class="hs-identifier">prompt</span></a></span><span>
</span><span id="line-58"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#select"><span class="hs-identifier">select</span></a></span><span>
</span><span id="line-59"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#never"><span class="hs-identifier">never</span></a></span><span>
</span><span id="line-60"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Handling the 'Resumable' effect</span></span><span>
</span><span id="line-61"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Request"><span class="hs-identifier">Request</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Response"><span class="hs-identifier">Response</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#RequestID"><span class="hs-identifier">RequestID</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#IterationID"><span class="hs-identifier">IterationID</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Requests"><span class="hs-identifier">Requests</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#ResumableEffs"><span class="hs-identifier">ResumableEffs</span></a></span><span>
</span><span id="line-67"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Responses"><span class="hs-identifier">Responses</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#insertResponse"><span class="hs-identifier">insertResponse</span></a></span><span>
</span><span id="line-69"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#responses"><span class="hs-identifier">responses</span></a></span><span>
</span><span id="line-70"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#_Responses"><span class="hs-identifier">_Responses</span></a></span><span>
</span><span id="line-71"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Handling the 'Resumable' effect with continuations</span></span><span>
</span><span id="line-72"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#handleResumable"><span class="hs-identifier">handleResumable</span></a></span><span>
</span><span id="line-73"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#suspendNonDet"><span class="hs-identifier">suspendNonDet</span></a></span><span>
</span><span id="line-74"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#MultiRequestContStatus"><span class="hs-identifier">MultiRequestContStatus</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#MultiRequestContinuation"><span class="hs-identifier">MultiRequestContinuation</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#ReqMap"><span class="hs-identifier">ReqMap</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Applicative</span></a></span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Lens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Iso'</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">iso</span></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">FromJSON</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">FromJSONKey</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ToJSON</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ToJSONKey</span></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Map</span></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Semigroup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Max</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">GHC.Generics</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Numeric.Natural</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Natural</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prettyprinter</span></span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Freer</span></span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Freer.Coroutine</span></span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Freer.NonDet</span></span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Freer.State</span></span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="hs-comment">{- Note [Resumable state machine]

@Resumable i o@ programs are like state machines with state 'Requests' @o@ and
input 'Response' @i@. So instead of using the 'Resumable' effect we could also
write

@
    data SM i o effs = SM { currentState :: Requests o, transition :: Response i -&gt; Eff effs (Maybe (Either a (SM i o effs)))
@

using 'Maybe' to denote the failure state and 'Either a' for the final state of
type @a@.

And this is indeed almost exactly the definition 'MultiRequestContinuation'.

We can transform an @Eff (Resumable i o ': effs)@ program into an
@Eff effs (Maybe (MultiRequestContStatus i o effs a))@ using 'handleResumable'
and 'suspendNonDet'.

-}</span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span class="hs-comment">-- | A data type for representing non-deterministic prompts.</span><span>
</span><span id="line-116"></span><span class="hs-keyword">data</span><span> </span><span id="Resumable"><span class="annot"><a href="Plutus.Contract.Resumable.html#Resumable"><span class="hs-identifier hs-var">Resumable</span></a></span></span><span> </span><span id="local-6989586621680548719"><span class="annot"><a href="#local-6989586621680548719"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621680548718"><span class="annot"><a href="#local-6989586621680548718"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span id="local-6989586621680548717"><span class="annot"><a href="#local-6989586621680548717"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-117"></span><span>    </span><span id="local-6989586621680549185"><span id="local-6989586621680549186"><span id="RRequest"><span class="annot"><a href="Plutus.Contract.Resumable.html#RRequest"><span class="hs-identifier hs-var">RRequest</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680549186"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Resumable"><span class="hs-identifier hs-type">Resumable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680549185"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680549186"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680549185"><span class="hs-identifier hs-type">i</span></a></span></span></span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span>    </span><span class="hs-comment">-- See https://hackage.haskell.org/package/freer-simple-1.2.1.1/docs/src/Control.Monad.Freer.Internal.html#NonDet</span><span>
</span><span id="line-120"></span><span>    </span><span id="local-6989586621680549179"><span id="local-6989586621680549180"><span id="RSelect"><span class="annot"><a href="Plutus.Contract.Resumable.html#RSelect"><span class="hs-identifier hs-var">RSelect</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Resumable"><span class="hs-identifier hs-type">Resumable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680549180"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680549179"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span></span></span><span>
</span><span id="line-121"></span><span>    </span><span id="local-6989586621680549169"><span id="local-6989586621680549170"><span id="local-6989586621680549171"><span id="RZero"><span class="annot"><a href="Plutus.Contract.Resumable.html#RZero"><span class="hs-identifier hs-var">RZero</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Resumable"><span class="hs-identifier hs-type">Resumable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680549171"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680549170"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680549169"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span id="local-6989586621680548711"><span id="local-6989586621680548712"><span id="local-6989586621680548713"><span class="annot"><a href="Plutus.Contract.Resumable.html#prompt"><span class="hs-identifier hs-type">prompt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Member</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Resumable"><span class="hs-identifier hs-type">Resumable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548713"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548712"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680548711"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680548712"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eff</span></span><span> </span><span class="annot"><a href="#local-6989586621680548711"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548713"><span class="hs-identifier hs-type">i</span></a></span></span></span></span><span>
</span><span id="line-124"></span><span id="prompt"><span class="annot"><span class="annottext">prompt :: o -&gt; Eff effs i
</span><a href="Plutus.Contract.Resumable.html#prompt"><span class="hs-identifier hs-var hs-var">prompt</span></a></span></span><span> </span><span id="local-6989586621680548710"><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621680548710"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Resumable i o i -&gt; Eff effs i
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><span class="hs-identifier hs-var">send</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">o -&gt; Resumable i o i
forall o i. o -&gt; Resumable i o i
</span><a href="Plutus.Contract.Resumable.html#RRequest"><span class="hs-identifier hs-var">RRequest</span></a></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621680548710"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="annot"><a href="Plutus.Contract.Resumable.html#select"><span class="hs-identifier hs-type">select</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-127"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680548708"><span class="annot"><a href="#local-6989586621680548708"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621680548707"><span class="annot"><a href="#local-6989586621680548707"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span id="local-6989586621680548706"><span class="annot"><a href="#local-6989586621680548706"><span class="hs-identifier hs-type">effs</span></a></span></span><span> </span><span id="local-6989586621680548705"><span class="annot"><a href="#local-6989586621680548705"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-128"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Member</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Resumable"><span class="hs-identifier hs-type">Resumable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548708"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548707"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680548706"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-129"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eff</span></span><span> </span><span class="annot"><a href="#local-6989586621680548706"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548705"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-130"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eff</span></span><span> </span><span class="annot"><a href="#local-6989586621680548706"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548705"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-131"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eff</span></span><span> </span><span class="annot"><a href="#local-6989586621680548706"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548705"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-132"></span><span id="select"><span class="annot"><span class="annottext">select :: Eff effs a -&gt; Eff effs a -&gt; Eff effs a
</span><a href="Plutus.Contract.Resumable.html#select"><span class="hs-identifier hs-var hs-var">select</span></a></span></span><span> </span><span id="local-6989586621680548704"><span class="annot"><span class="annottext">Eff effs a
</span><a href="#local-6989586621680548704"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680548703"><span class="annot"><span class="annottext">Eff effs a
</span><a href="#local-6989586621680548703"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Resumable i o Bool -&gt; Eff effs Bool
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><span class="hs-identifier hs-var">send</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Resumable"><span class="hs-identifier hs-type">Resumable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548708"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548707"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Resumable i o Bool
forall i o. Resumable i o Bool
</span><a href="Plutus.Contract.Resumable.html#RSelect"><span class="hs-identifier hs-var">RSelect</span></a></span><span> </span><span class="annot"><span class="annottext">Eff effs Bool -&gt; (Bool -&gt; Eff effs a) -&gt; Eff effs a
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680548702"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680548702"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680548702"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Eff effs a
</span><a href="#local-6989586621680548704"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Eff effs a
</span><a href="#local-6989586621680548703"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="annot"><a href="Plutus.Contract.Resumable.html#never"><span class="hs-identifier hs-type">never</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-135"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680548701"><span class="annot"><a href="#local-6989586621680548701"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621680548700"><span class="annot"><a href="#local-6989586621680548700"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span id="local-6989586621680548699"><span class="annot"><a href="#local-6989586621680548699"><span class="hs-identifier hs-type">effs</span></a></span></span><span> </span><span id="local-6989586621680548698"><span class="annot"><a href="#local-6989586621680548698"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-136"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Member</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Resumable"><span class="hs-identifier hs-type">Resumable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548701"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548700"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680548699"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-137"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eff</span></span><span> </span><span class="annot"><a href="#local-6989586621680548699"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548698"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-138"></span><span id="never"><span class="annot"><span class="annottext">never :: Eff effs a
</span><a href="Plutus.Contract.Resumable.html#never"><span class="hs-identifier hs-var hs-var">never</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Resumable i o a -&gt; Eff effs a
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><span class="hs-identifier hs-var">send</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Resumable"><span class="hs-identifier hs-type">Resumable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548701"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548700"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Resumable i o a
forall i o a. Resumable i o a
</span><a href="Plutus.Contract.Resumable.html#RZero"><span class="hs-identifier hs-var">RZero</span></a></span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="hs-comment">-- | A value that uniquely identifies requests made during the execution of</span><span>
</span><span id="line-141"></span><span class="hs-comment">--   'Resumable' programs.</span><span>
</span><span id="line-142"></span><span id="local-6989586621680548696"><span id="local-6989586621680548697"></span></span><span class="hs-keyword">newtype</span><span> </span><span id="RequestID"><span class="annot"><a href="Plutus.Contract.Resumable.html#RequestID"><span class="hs-identifier hs-var">RequestID</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RequestID"><span class="annot"><a href="Plutus.Contract.Resumable.html#RequestID"><span class="hs-identifier hs-var">RequestID</span></a></span></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Natural</span></a></span><span>
</span><span id="line-143"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680548691"><span id="local-6989586621680548693"><span class="annot"><span class="annottext">RequestID -&gt; RequestID -&gt; Bool
(RequestID -&gt; RequestID -&gt; Bool)
-&gt; (RequestID -&gt; RequestID -&gt; Bool) -&gt; Eq RequestID
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: RequestID -&gt; RequestID -&gt; Bool
$c/= :: RequestID -&gt; RequestID -&gt; Bool
== :: RequestID -&gt; RequestID -&gt; Bool
$c== :: RequestID -&gt; RequestID -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548675"><span id="local-6989586621680548677"><span id="local-6989586621680548679"><span id="local-6989586621680548681"><span id="local-6989586621680548683"><span id="local-6989586621680548685"><span id="local-6989586621680548687"><span class="annot"><span class="annottext">Eq RequestID
Eq RequestID
-&gt; (RequestID -&gt; RequestID -&gt; Ordering)
-&gt; (RequestID -&gt; RequestID -&gt; Bool)
-&gt; (RequestID -&gt; RequestID -&gt; Bool)
-&gt; (RequestID -&gt; RequestID -&gt; Bool)
-&gt; (RequestID -&gt; RequestID -&gt; Bool)
-&gt; (RequestID -&gt; RequestID -&gt; RequestID)
-&gt; (RequestID -&gt; RequestID -&gt; RequestID)
-&gt; Ord RequestID
RequestID -&gt; RequestID -&gt; Bool
RequestID -&gt; RequestID -&gt; Ordering
RequestID -&gt; RequestID -&gt; RequestID
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: RequestID -&gt; RequestID -&gt; RequestID
$cmin :: RequestID -&gt; RequestID -&gt; RequestID
max :: RequestID -&gt; RequestID -&gt; RequestID
$cmax :: RequestID -&gt; RequestID -&gt; RequestID
&gt;= :: RequestID -&gt; RequestID -&gt; Bool
$c&gt;= :: RequestID -&gt; RequestID -&gt; Bool
&gt; :: RequestID -&gt; RequestID -&gt; Bool
$c&gt; :: RequestID -&gt; RequestID -&gt; Bool
&lt;= :: RequestID -&gt; RequestID -&gt; Bool
$c&lt;= :: RequestID -&gt; RequestID -&gt; Bool
&lt; :: RequestID -&gt; RequestID -&gt; Bool
$c&lt; :: RequestID -&gt; RequestID -&gt; Bool
compare :: RequestID -&gt; RequestID -&gt; Ordering
$ccompare :: RequestID -&gt; RequestID -&gt; Ordering
$cp1Ord :: Eq RequestID
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548668"><span id="local-6989586621680548670"><span id="local-6989586621680548672"><span class="annot"><span class="annottext">Int -&gt; RequestID -&gt; ShowS
[RequestID] -&gt; ShowS
RequestID -&gt; String
(Int -&gt; RequestID -&gt; ShowS)
-&gt; (RequestID -&gt; String)
-&gt; ([RequestID] -&gt; ShowS)
-&gt; Show RequestID
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [RequestID] -&gt; ShowS
$cshowList :: [RequestID] -&gt; ShowS
show :: RequestID -&gt; String
$cshow :: RequestID -&gt; String
showsPrec :: Int -&gt; RequestID -&gt; ShowS
$cshowsPrec :: Int -&gt; RequestID -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. RequestID -&gt; Rep RequestID x)
-&gt; (forall x. Rep RequestID x -&gt; RequestID) -&gt; Generic RequestID
forall x. Rep RequestID x -&gt; RequestID
forall x. RequestID -&gt; Rep RequestID x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep RequestID x -&gt; RequestID
$cfrom :: forall x. RequestID -&gt; Rep RequestID x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680548656"><span id="local-6989586621680548658"><span id="local-6989586621680548660"><span id="local-6989586621680548662"><span class="annot"><span class="annottext">[RequestID] -&gt; Encoding
[RequestID] -&gt; Value
RequestID -&gt; Encoding
RequestID -&gt; Value
(RequestID -&gt; Value)
-&gt; (RequestID -&gt; Encoding)
-&gt; ([RequestID] -&gt; Value)
-&gt; ([RequestID] -&gt; Encoding)
-&gt; ToJSON RequestID
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [RequestID] -&gt; Encoding
$ctoEncodingList :: [RequestID] -&gt; Encoding
toJSONList :: [RequestID] -&gt; Value
$ctoJSONList :: [RequestID] -&gt; Value
toEncoding :: RequestID -&gt; Encoding
$ctoEncoding :: RequestID -&gt; Encoding
toJSON :: RequestID -&gt; Value
$ctoJSON :: RequestID -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548651"><span id="local-6989586621680548653"><span class="annot"><span class="annottext">Value -&gt; Parser [RequestID]
Value -&gt; Parser RequestID
(Value -&gt; Parser RequestID)
-&gt; (Value -&gt; Parser [RequestID]) -&gt; FromJSON RequestID
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [RequestID]
$cparseJSONList :: Value -&gt; Parser [RequestID]
parseJSON :: Value -&gt; Parser RequestID
$cparseJSON :: Value -&gt; Parser RequestID
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548646"><span id="local-6989586621680548648"><span class="annot"><span class="annottext">ToJSONKeyFunction [RequestID]
ToJSONKeyFunction RequestID
ToJSONKeyFunction RequestID
-&gt; ToJSONKeyFunction [RequestID] -&gt; ToJSONKey RequestID
forall a.
ToJSONKeyFunction a -&gt; ToJSONKeyFunction [a] -&gt; ToJSONKey a
toJSONKeyList :: ToJSONKeyFunction [RequestID]
$ctoJSONKeyList :: ToJSONKeyFunction [RequestID]
toJSONKey :: ToJSONKeyFunction RequestID
$ctoJSONKey :: ToJSONKeyFunction RequestID
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">ToJSONKey</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548641"><span id="local-6989586621680548643"><span class="annot"><span class="annottext">FromJSONKeyFunction [RequestID]
FromJSONKeyFunction RequestID
FromJSONKeyFunction RequestID
-&gt; FromJSONKeyFunction [RequestID] -&gt; FromJSONKey RequestID
forall a.
FromJSONKeyFunction a -&gt; FromJSONKeyFunction [a] -&gt; FromJSONKey a
fromJSONKeyList :: FromJSONKeyFunction [RequestID]
$cfromJSONKeyList :: FromJSONKeyFunction [RequestID]
fromJSONKey :: FromJSONKeyFunction RequestID
$cfromJSONKey :: FromJSONKeyFunction RequestID
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSONKey</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548636"><span id="local-6989586621680548638"><span class="annot"><span class="annottext">[RequestID] -&gt; Doc ann
RequestID -&gt; Doc ann
(forall ann. RequestID -&gt; Doc ann)
-&gt; (forall ann. [RequestID] -&gt; Doc ann) -&gt; Pretty RequestID
forall ann. [RequestID] -&gt; Doc ann
forall ann. RequestID -&gt; Doc ann
forall a.
(forall ann. a -&gt; Doc ann)
-&gt; (forall ann. [a] -&gt; Doc ann) -&gt; Pretty a
prettyList :: [RequestID] -&gt; Doc ann
$cprettyList :: forall ann. [RequestID] -&gt; Doc ann
pretty :: RequestID -&gt; Doc ann
$cpretty :: forall ann. RequestID -&gt; Doc ann
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Pretty</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548619"><span id="local-6989586621680548621"><span id="local-6989586621680548623"><span id="local-6989586621680548625"><span id="local-6989586621680548627"><span id="local-6989586621680548629"><span id="local-6989586621680548631"><span id="local-6989586621680548633"><span class="annot"><span class="annottext">Int -&gt; RequestID
RequestID -&gt; Int
RequestID -&gt; [RequestID]
RequestID -&gt; RequestID
RequestID -&gt; RequestID -&gt; [RequestID]
RequestID -&gt; RequestID -&gt; RequestID -&gt; [RequestID]
(RequestID -&gt; RequestID)
-&gt; (RequestID -&gt; RequestID)
-&gt; (Int -&gt; RequestID)
-&gt; (RequestID -&gt; Int)
-&gt; (RequestID -&gt; [RequestID])
-&gt; (RequestID -&gt; RequestID -&gt; [RequestID])
-&gt; (RequestID -&gt; RequestID -&gt; [RequestID])
-&gt; (RequestID -&gt; RequestID -&gt; RequestID -&gt; [RequestID])
-&gt; Enum RequestID
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
enumFromThenTo :: RequestID -&gt; RequestID -&gt; RequestID -&gt; [RequestID]
$cenumFromThenTo :: RequestID -&gt; RequestID -&gt; RequestID -&gt; [RequestID]
enumFromTo :: RequestID -&gt; RequestID -&gt; [RequestID]
$cenumFromTo :: RequestID -&gt; RequestID -&gt; [RequestID]
enumFromThen :: RequestID -&gt; RequestID -&gt; [RequestID]
$cenumFromThen :: RequestID -&gt; RequestID -&gt; [RequestID]
enumFrom :: RequestID -&gt; [RequestID]
$cenumFrom :: RequestID -&gt; [RequestID]
fromEnum :: RequestID -&gt; Int
$cfromEnum :: RequestID -&gt; Int
toEnum :: Int -&gt; RequestID
$ctoEnum :: Int -&gt; RequestID
pred :: RequestID -&gt; RequestID
$cpred :: RequestID -&gt; RequestID
succ :: RequestID -&gt; RequestID
$csucc :: RequestID -&gt; RequestID
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></a></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548604"><span id="local-6989586621680548606"><span id="local-6989586621680548608"><span id="local-6989586621680548610"><span id="local-6989586621680548612"><span id="local-6989586621680548614"><span id="local-6989586621680548616"><span class="annot"><span class="annottext">Integer -&gt; RequestID
RequestID -&gt; RequestID
RequestID -&gt; RequestID -&gt; RequestID
(RequestID -&gt; RequestID -&gt; RequestID)
-&gt; (RequestID -&gt; RequestID -&gt; RequestID)
-&gt; (RequestID -&gt; RequestID -&gt; RequestID)
-&gt; (RequestID -&gt; RequestID)
-&gt; (RequestID -&gt; RequestID)
-&gt; (RequestID -&gt; RequestID)
-&gt; (Integer -&gt; RequestID)
-&gt; Num RequestID
forall a.
(a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Integer -&gt; a)
-&gt; Num a
fromInteger :: Integer -&gt; RequestID
$cfromInteger :: Integer -&gt; RequestID
signum :: RequestID -&gt; RequestID
$csignum :: RequestID -&gt; RequestID
abs :: RequestID -&gt; RequestID
$cabs :: RequestID -&gt; RequestID
negate :: RequestID -&gt; RequestID
$cnegate :: RequestID -&gt; RequestID
* :: RequestID -&gt; RequestID -&gt; RequestID
$c* :: RequestID -&gt; RequestID -&gt; RequestID
- :: RequestID -&gt; RequestID -&gt; RequestID
$c- :: RequestID -&gt; RequestID -&gt; RequestID
+ :: RequestID -&gt; RequestID -&gt; RequestID
$c+ :: RequestID -&gt; RequestID -&gt; RequestID
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Num</span></a></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span class="hs-comment">-- | A value that uniquely identifies groups of requests.</span><span>
</span><span id="line-147"></span><span id="local-6989586621680548601"><span id="local-6989586621680548602"></span></span><span class="hs-keyword">newtype</span><span> </span><span id="IterationID"><span class="annot"><a href="Plutus.Contract.Resumable.html#IterationID"><span class="hs-identifier hs-var">IterationID</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="IterationID"><span class="annot"><a href="Plutus.Contract.Resumable.html#IterationID"><span class="hs-identifier hs-var">IterationID</span></a></span></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Natural</span></a></span><span>
</span><span id="line-148"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680548596"><span id="local-6989586621680548598"><span class="annot"><span class="annottext">IterationID -&gt; IterationID -&gt; Bool
(IterationID -&gt; IterationID -&gt; Bool)
-&gt; (IterationID -&gt; IterationID -&gt; Bool) -&gt; Eq IterationID
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: IterationID -&gt; IterationID -&gt; Bool
$c/= :: IterationID -&gt; IterationID -&gt; Bool
== :: IterationID -&gt; IterationID -&gt; Bool
$c== :: IterationID -&gt; IterationID -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548581"><span id="local-6989586621680548583"><span id="local-6989586621680548585"><span id="local-6989586621680548587"><span id="local-6989586621680548589"><span id="local-6989586621680548591"><span id="local-6989586621680548593"><span class="annot"><span class="annottext">Eq IterationID
Eq IterationID
-&gt; (IterationID -&gt; IterationID -&gt; Ordering)
-&gt; (IterationID -&gt; IterationID -&gt; Bool)
-&gt; (IterationID -&gt; IterationID -&gt; Bool)
-&gt; (IterationID -&gt; IterationID -&gt; Bool)
-&gt; (IterationID -&gt; IterationID -&gt; Bool)
-&gt; (IterationID -&gt; IterationID -&gt; IterationID)
-&gt; (IterationID -&gt; IterationID -&gt; IterationID)
-&gt; Ord IterationID
IterationID -&gt; IterationID -&gt; Bool
IterationID -&gt; IterationID -&gt; Ordering
IterationID -&gt; IterationID -&gt; IterationID
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: IterationID -&gt; IterationID -&gt; IterationID
$cmin :: IterationID -&gt; IterationID -&gt; IterationID
max :: IterationID -&gt; IterationID -&gt; IterationID
$cmax :: IterationID -&gt; IterationID -&gt; IterationID
&gt;= :: IterationID -&gt; IterationID -&gt; Bool
$c&gt;= :: IterationID -&gt; IterationID -&gt; Bool
&gt; :: IterationID -&gt; IterationID -&gt; Bool
$c&gt; :: IterationID -&gt; IterationID -&gt; Bool
&lt;= :: IterationID -&gt; IterationID -&gt; Bool
$c&lt;= :: IterationID -&gt; IterationID -&gt; Bool
&lt; :: IterationID -&gt; IterationID -&gt; Bool
$c&lt; :: IterationID -&gt; IterationID -&gt; Bool
compare :: IterationID -&gt; IterationID -&gt; Ordering
$ccompare :: IterationID -&gt; IterationID -&gt; Ordering
$cp1Ord :: Eq IterationID
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548575"><span id="local-6989586621680548577"><span id="local-6989586621680548579"><span class="annot"><span class="annottext">Int -&gt; IterationID -&gt; ShowS
[IterationID] -&gt; ShowS
IterationID -&gt; String
(Int -&gt; IterationID -&gt; ShowS)
-&gt; (IterationID -&gt; String)
-&gt; ([IterationID] -&gt; ShowS)
-&gt; Show IterationID
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [IterationID] -&gt; ShowS
$cshowList :: [IterationID] -&gt; ShowS
show :: IterationID -&gt; String
$cshow :: IterationID -&gt; String
showsPrec :: Int -&gt; IterationID -&gt; ShowS
$cshowsPrec :: Int -&gt; IterationID -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. IterationID -&gt; Rep IterationID x)
-&gt; (forall x. Rep IterationID x -&gt; IterationID)
-&gt; Generic IterationID
forall x. Rep IterationID x -&gt; IterationID
forall x. IterationID -&gt; Rep IterationID x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep IterationID x -&gt; IterationID
$cfrom :: forall x. IterationID -&gt; Rep IterationID x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-149"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680548565"><span id="local-6989586621680548567"><span id="local-6989586621680548569"><span id="local-6989586621680548571"><span class="annot"><span class="annottext">[IterationID] -&gt; Encoding
[IterationID] -&gt; Value
IterationID -&gt; Encoding
IterationID -&gt; Value
(IterationID -&gt; Value)
-&gt; (IterationID -&gt; Encoding)
-&gt; ([IterationID] -&gt; Value)
-&gt; ([IterationID] -&gt; Encoding)
-&gt; ToJSON IterationID
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [IterationID] -&gt; Encoding
$ctoEncodingList :: [IterationID] -&gt; Encoding
toJSONList :: [IterationID] -&gt; Value
$ctoJSONList :: [IterationID] -&gt; Value
toEncoding :: IterationID -&gt; Encoding
$ctoEncoding :: IterationID -&gt; Encoding
toJSON :: IterationID -&gt; Value
$ctoJSON :: IterationID -&gt; Value
</span><a href="#local-6989586621680548565"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548561"><span id="local-6989586621680548563"><span class="annot"><span class="annottext">Value -&gt; Parser [IterationID]
Value -&gt; Parser IterationID
(Value -&gt; Parser IterationID)
-&gt; (Value -&gt; Parser [IterationID]) -&gt; FromJSON IterationID
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [IterationID]
$cparseJSONList :: Value -&gt; Parser [IterationID]
parseJSON :: Value -&gt; Parser IterationID
$cparseJSON :: Value -&gt; Parser IterationID
</span><a href="#local-6989586621680548561"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548557"><span id="local-6989586621680548559"><span class="annot"><span class="annottext">ToJSONKeyFunction [IterationID]
ToJSONKeyFunction IterationID
ToJSONKeyFunction IterationID
-&gt; ToJSONKeyFunction [IterationID] -&gt; ToJSONKey IterationID
forall a.
ToJSONKeyFunction a -&gt; ToJSONKeyFunction [a] -&gt; ToJSONKey a
toJSONKeyList :: ToJSONKeyFunction [IterationID]
$ctoJSONKeyList :: ToJSONKeyFunction [IterationID]
toJSONKey :: ToJSONKeyFunction IterationID
$ctoJSONKey :: ToJSONKeyFunction IterationID
</span><a href="#local-6989586621680548557"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">ToJSONKey</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548553"><span id="local-6989586621680548555"><span class="annot"><span class="annottext">FromJSONKeyFunction [IterationID]
FromJSONKeyFunction IterationID
FromJSONKeyFunction IterationID
-&gt; FromJSONKeyFunction [IterationID] -&gt; FromJSONKey IterationID
forall a.
FromJSONKeyFunction a -&gt; FromJSONKeyFunction [a] -&gt; FromJSONKey a
fromJSONKeyList :: FromJSONKeyFunction [IterationID]
$cfromJSONKeyList :: FromJSONKeyFunction [IterationID]
fromJSONKey :: FromJSONKeyFunction IterationID
$cfromJSONKey :: FromJSONKeyFunction IterationID
</span><a href="#local-6989586621680548553"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSONKey</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548549"><span id="local-6989586621680548551"><span class="annot"><span class="annottext">[IterationID] -&gt; Doc ann
IterationID -&gt; Doc ann
(forall ann. IterationID -&gt; Doc ann)
-&gt; (forall ann. [IterationID] -&gt; Doc ann) -&gt; Pretty IterationID
forall ann. [IterationID] -&gt; Doc ann
forall ann. IterationID -&gt; Doc ann
forall a.
(forall ann. a -&gt; Doc ann)
-&gt; (forall ann. [a] -&gt; Doc ann) -&gt; Pretty a
prettyList :: [IterationID] -&gt; Doc ann
$cprettyList :: forall ann. [IterationID] -&gt; Doc ann
pretty :: IterationID -&gt; Doc ann
$cpretty :: forall ann. IterationID -&gt; Doc ann
</span><a href="#local-6989586621680548549"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Pretty</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548533"><span id="local-6989586621680548535"><span id="local-6989586621680548537"><span id="local-6989586621680548539"><span id="local-6989586621680548541"><span id="local-6989586621680548543"><span id="local-6989586621680548545"><span id="local-6989586621680548547"><span class="annot"><span class="annottext">Int -&gt; IterationID
IterationID -&gt; Int
IterationID -&gt; [IterationID]
IterationID -&gt; IterationID
IterationID -&gt; IterationID -&gt; [IterationID]
IterationID -&gt; IterationID -&gt; IterationID -&gt; [IterationID]
(IterationID -&gt; IterationID)
-&gt; (IterationID -&gt; IterationID)
-&gt; (Int -&gt; IterationID)
-&gt; (IterationID -&gt; Int)
-&gt; (IterationID -&gt; [IterationID])
-&gt; (IterationID -&gt; IterationID -&gt; [IterationID])
-&gt; (IterationID -&gt; IterationID -&gt; [IterationID])
-&gt; (IterationID -&gt; IterationID -&gt; IterationID -&gt; [IterationID])
-&gt; Enum IterationID
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
enumFromThenTo :: IterationID -&gt; IterationID -&gt; IterationID -&gt; [IterationID]
$cenumFromThenTo :: IterationID -&gt; IterationID -&gt; IterationID -&gt; [IterationID]
enumFromTo :: IterationID -&gt; IterationID -&gt; [IterationID]
$cenumFromTo :: IterationID -&gt; IterationID -&gt; [IterationID]
enumFromThen :: IterationID -&gt; IterationID -&gt; [IterationID]
$cenumFromThen :: IterationID -&gt; IterationID -&gt; [IterationID]
enumFrom :: IterationID -&gt; [IterationID]
$cenumFrom :: IterationID -&gt; [IterationID]
fromEnum :: IterationID -&gt; Int
$cfromEnum :: IterationID -&gt; Int
toEnum :: Int -&gt; IterationID
$ctoEnum :: Int -&gt; IterationID
pred :: IterationID -&gt; IterationID
$cpred :: IterationID -&gt; IterationID
succ :: IterationID -&gt; IterationID
$csucc :: IterationID -&gt; IterationID
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></a></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548519"><span id="local-6989586621680548521"><span id="local-6989586621680548523"><span id="local-6989586621680548525"><span id="local-6989586621680548527"><span id="local-6989586621680548529"><span id="local-6989586621680548531"><span class="annot"><span class="annottext">Integer -&gt; IterationID
IterationID -&gt; IterationID
IterationID -&gt; IterationID -&gt; IterationID
(IterationID -&gt; IterationID -&gt; IterationID)
-&gt; (IterationID -&gt; IterationID -&gt; IterationID)
-&gt; (IterationID -&gt; IterationID -&gt; IterationID)
-&gt; (IterationID -&gt; IterationID)
-&gt; (IterationID -&gt; IterationID)
-&gt; (IterationID -&gt; IterationID)
-&gt; (Integer -&gt; IterationID)
-&gt; Num IterationID
forall a.
(a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Integer -&gt; a)
-&gt; Num a
fromInteger :: Integer -&gt; IterationID
$cfromInteger :: Integer -&gt; IterationID
signum :: IterationID -&gt; IterationID
$csignum :: IterationID -&gt; IterationID
abs :: IterationID -&gt; IterationID
$cabs :: IterationID -&gt; IterationID
negate :: IterationID -&gt; IterationID
$cnegate :: IterationID -&gt; IterationID
* :: IterationID -&gt; IterationID -&gt; IterationID
$c* :: IterationID -&gt; IterationID -&gt; IterationID
- :: IterationID -&gt; IterationID -&gt; IterationID
$c- :: IterationID -&gt; IterationID -&gt; IterationID
+ :: IterationID -&gt; IterationID -&gt; IterationID
$c+ :: IterationID -&gt; IterationID -&gt; IterationID
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Num</span></a></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680548513"><span id="local-6989586621680548515"><span id="local-6989586621680548517"><span class="annot"><span class="annottext">b -&gt; IterationID -&gt; IterationID
NonEmpty IterationID -&gt; IterationID
IterationID -&gt; IterationID -&gt; IterationID
(IterationID -&gt; IterationID -&gt; IterationID)
-&gt; (NonEmpty IterationID -&gt; IterationID)
-&gt; (forall b. Integral b =&gt; b -&gt; IterationID -&gt; IterationID)
-&gt; Semigroup IterationID
forall b. Integral b =&gt; b -&gt; IterationID -&gt; IterationID
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
stimes :: b -&gt; IterationID -&gt; IterationID
$cstimes :: forall b. Integral b =&gt; b -&gt; IterationID -&gt; IterationID
sconcat :: NonEmpty IterationID -&gt; IterationID
$csconcat :: NonEmpty IterationID -&gt; IterationID
&lt;&gt; :: IterationID -&gt; IterationID -&gt; IterationID
$c&lt;&gt; :: IterationID -&gt; IterationID -&gt; IterationID
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Semigroup</span></a></span></span></span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Max</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Natural</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680548507"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#IterationID"><span class="hs-identifier hs-type">IterationID</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-153"></span><span>    </span><span id="local-6989586621680548505"><span class="annot"><span class="annottext">mappend :: IterationID -&gt; IterationID -&gt; IterationID
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">mappend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IterationID -&gt; IterationID -&gt; IterationID
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span>
</span><span id="line-154"></span><span>    </span><span id="local-6989586621680548504"><span class="annot"><span class="annottext">mempty :: IterationID
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Natural -&gt; IterationID
</span><a href="Plutus.Contract.Resumable.html#IterationID"><span class="hs-identifier hs-var">IterationID</span></a></span><span> </span><span class="annot"><span class="annottext">Natural
</span><span class="hs-number">0</span></span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span id="local-6989586621680548502"><span id="local-6989586621680548503"></span></span><span class="hs-keyword">data</span><span> </span><span id="Request"><span class="annot"><a href="Plutus.Contract.Resumable.html#Request"><span class="hs-identifier hs-var">Request</span></a></span></span><span> </span><span id="local-6989586621680549042"><span class="annot"><a href="#local-6989586621680549042"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-157"></span><span>    </span><span id="Request"><span class="annot"><a href="Plutus.Contract.Resumable.html#Request"><span class="hs-identifier hs-var">Request</span></a></span></span><span>
</span><span id="line-158"></span><span>        </span><span class="hs-special">{</span><span> </span><span id="rqID"><span class="annot"><span class="annottext">Request o -&gt; RequestID
</span><a href="Plutus.Contract.Resumable.html#rqID"><span class="hs-identifier hs-var hs-var">rqID</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#RequestID"><span class="hs-identifier hs-type">RequestID</span></a></span><span>
</span><span id="line-159"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="itID"><span class="annot"><span class="annottext">Request o -&gt; IterationID
</span><a href="Plutus.Contract.Resumable.html#itID"><span class="hs-identifier hs-var hs-var">itID</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#IterationID"><span class="hs-identifier hs-type">IterationID</span></a></span><span>
</span><span id="line-160"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="rqRequest"><span class="annot"><span class="annottext">Request o -&gt; o
</span><a href="Plutus.Contract.Resumable.html#rqRequest"><span class="hs-identifier hs-var hs-var">rqRequest</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680549042"><span class="hs-identifier hs-type">o</span></a></span><span>
</span><span id="line-161"></span><span>        </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680548494"><span id="local-6989586621680548496"><span class="annot"><span class="annottext">Request o -&gt; Request o -&gt; Bool
(Request o -&gt; Request o -&gt; Bool)
-&gt; (Request o -&gt; Request o -&gt; Bool) -&gt; Eq (Request o)
forall o. Eq o =&gt; Request o -&gt; Request o -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Request o -&gt; Request o -&gt; Bool
$c/= :: forall o. Eq o =&gt; Request o -&gt; Request o -&gt; Bool
== :: Request o -&gt; Request o -&gt; Bool
$c== :: forall o. Eq o =&gt; Request o -&gt; Request o -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548479"><span id="local-6989586621680548481"><span id="local-6989586621680548483"><span id="local-6989586621680548485"><span id="local-6989586621680548487"><span id="local-6989586621680548489"><span id="local-6989586621680548491"><span class="annot"><span class="annottext">Eq (Request o)
Eq (Request o)
-&gt; (Request o -&gt; Request o -&gt; Ordering)
-&gt; (Request o -&gt; Request o -&gt; Bool)
-&gt; (Request o -&gt; Request o -&gt; Bool)
-&gt; (Request o -&gt; Request o -&gt; Bool)
-&gt; (Request o -&gt; Request o -&gt; Bool)
-&gt; (Request o -&gt; Request o -&gt; Request o)
-&gt; (Request o -&gt; Request o -&gt; Request o)
-&gt; Ord (Request o)
Request o -&gt; Request o -&gt; Bool
Request o -&gt; Request o -&gt; Ordering
Request o -&gt; Request o -&gt; Request o
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall o. Ord o =&gt; Eq (Request o)
forall o. Ord o =&gt; Request o -&gt; Request o -&gt; Bool
forall o. Ord o =&gt; Request o -&gt; Request o -&gt; Ordering
forall o. Ord o =&gt; Request o -&gt; Request o -&gt; Request o
min :: Request o -&gt; Request o -&gt; Request o
$cmin :: forall o. Ord o =&gt; Request o -&gt; Request o -&gt; Request o
max :: Request o -&gt; Request o -&gt; Request o
$cmax :: forall o. Ord o =&gt; Request o -&gt; Request o -&gt; Request o
&gt;= :: Request o -&gt; Request o -&gt; Bool
$c&gt;= :: forall o. Ord o =&gt; Request o -&gt; Request o -&gt; Bool
&gt; :: Request o -&gt; Request o -&gt; Bool
$c&gt; :: forall o. Ord o =&gt; Request o -&gt; Request o -&gt; Bool
&lt;= :: Request o -&gt; Request o -&gt; Bool
$c&lt;= :: forall o. Ord o =&gt; Request o -&gt; Request o -&gt; Bool
&lt; :: Request o -&gt; Request o -&gt; Bool
$c&lt; :: forall o. Ord o =&gt; Request o -&gt; Request o -&gt; Bool
compare :: Request o -&gt; Request o -&gt; Ordering
$ccompare :: forall o. Ord o =&gt; Request o -&gt; Request o -&gt; Ordering
$cp1Ord :: forall o. Ord o =&gt; Eq (Request o)
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548473"><span id="local-6989586621680548475"><span id="local-6989586621680548477"><span class="annot"><span class="annottext">Int -&gt; Request o -&gt; ShowS
[Request o] -&gt; ShowS
Request o -&gt; String
(Int -&gt; Request o -&gt; ShowS)
-&gt; (Request o -&gt; String)
-&gt; ([Request o] -&gt; ShowS)
-&gt; Show (Request o)
forall o. Show o =&gt; Int -&gt; Request o -&gt; ShowS
forall o. Show o =&gt; [Request o] -&gt; ShowS
forall o. Show o =&gt; Request o -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Request o] -&gt; ShowS
$cshowList :: forall o. Show o =&gt; [Request o] -&gt; ShowS
show :: Request o -&gt; String
$cshow :: forall o. Show o =&gt; Request o -&gt; String
showsPrec :: Int -&gt; Request o -&gt; ShowS
$cshowsPrec :: forall o. Show o =&gt; Int -&gt; Request o -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. Request o -&gt; Rep (Request o) x)
-&gt; (forall x. Rep (Request o) x -&gt; Request o)
-&gt; Generic (Request o)
forall x. Rep (Request o) x -&gt; Request o
forall x. Request o -&gt; Rep (Request o) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall o x. Rep (Request o) x -&gt; Request o
forall o x. Request o -&gt; Rep (Request o) x
$cto :: forall o x. Rep (Request o) x -&gt; Request o
$cfrom :: forall o x. Request o -&gt; Rep (Request o) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548467"><span id="local-6989586621680548469"><span class="annot"><span class="annottext">a -&gt; Request b -&gt; Request a
(a -&gt; b) -&gt; Request a -&gt; Request b
(forall a b. (a -&gt; b) -&gt; Request a -&gt; Request b)
-&gt; (forall a b. a -&gt; Request b -&gt; Request a) -&gt; Functor Request
forall a b. a -&gt; Request b -&gt; Request a
forall a b. (a -&gt; b) -&gt; Request a -&gt; Request b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: a -&gt; Request b -&gt; Request a
$c&lt;$ :: forall a b. a -&gt; Request b -&gt; Request a
fmap :: (a -&gt; b) -&gt; Request a -&gt; Request b
$cfmap :: forall a b. (a -&gt; b) -&gt; Request a -&gt; Request b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548432"><span id="local-6989586621680548434"><span id="local-6989586621680548436"><span id="local-6989586621680548438"><span id="local-6989586621680548440"><span id="local-6989586621680548442"><span id="local-6989586621680548444"><span id="local-6989586621680548446"><span id="local-6989586621680548448"><span id="local-6989586621680548450"><span id="local-6989586621680548452"><span id="local-6989586621680548454"><span id="local-6989586621680548456"><span id="local-6989586621680548458"><span id="local-6989586621680548460"><span id="local-6989586621680548462"><span id="local-6989586621680548464"><span class="annot"><span class="annottext">Request a -&gt; Bool
(a -&gt; m) -&gt; Request a -&gt; m
(a -&gt; b -&gt; b) -&gt; b -&gt; Request a -&gt; b
(forall m. Monoid m =&gt; Request m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Request a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Request a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Request a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Request a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Request a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Request a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Request a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Request a -&gt; a)
-&gt; (forall a. Request a -&gt; [a])
-&gt; (forall a. Request a -&gt; Bool)
-&gt; (forall a. Request a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; Request a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; Request a -&gt; a)
-&gt; (forall a. Ord a =&gt; Request a -&gt; a)
-&gt; (forall a. Num a =&gt; Request a -&gt; a)
-&gt; (forall a. Num a =&gt; Request a -&gt; a)
-&gt; Foldable Request
forall a. Eq a =&gt; a -&gt; Request a -&gt; Bool
forall a. Num a =&gt; Request a -&gt; a
forall a. Ord a =&gt; Request a -&gt; a
forall m. Monoid m =&gt; Request m -&gt; m
forall a. Request a -&gt; Bool
forall a. Request a -&gt; Int
forall a. Request a -&gt; [a]
forall a. (a -&gt; a -&gt; a) -&gt; Request a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Request a -&gt; m
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Request a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Request a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
product :: Request a -&gt; a
$cproduct :: forall a. Num a =&gt; Request a -&gt; a
sum :: Request a -&gt; a
$csum :: forall a. Num a =&gt; Request a -&gt; a
minimum :: Request a -&gt; a
$cminimum :: forall a. Ord a =&gt; Request a -&gt; a
maximum :: Request a -&gt; a
$cmaximum :: forall a. Ord a =&gt; Request a -&gt; a
elem :: a -&gt; Request a -&gt; Bool
$celem :: forall a. Eq a =&gt; a -&gt; Request a -&gt; Bool
length :: Request a -&gt; Int
$clength :: forall a. Request a -&gt; Int
null :: Request a -&gt; Bool
$cnull :: forall a. Request a -&gt; Bool
toList :: Request a -&gt; [a]
$ctoList :: forall a. Request a -&gt; [a]
foldl1 :: (a -&gt; a -&gt; a) -&gt; Request a -&gt; a
$cfoldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; Request a -&gt; a
foldr1 :: (a -&gt; a -&gt; a) -&gt; Request a -&gt; a
$cfoldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; Request a -&gt; a
foldl' :: (b -&gt; a -&gt; b) -&gt; b -&gt; Request a -&gt; b
$cfoldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Request a -&gt; b
foldl :: (b -&gt; a -&gt; b) -&gt; b -&gt; Request a -&gt; b
$cfoldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Request a -&gt; b
foldr' :: (a -&gt; b -&gt; b) -&gt; b -&gt; Request a -&gt; b
$cfoldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Request a -&gt; b
foldr :: (a -&gt; b -&gt; b) -&gt; b -&gt; Request a -&gt; b
$cfoldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Request a -&gt; b
foldMap' :: (a -&gt; m) -&gt; Request a -&gt; m
$cfoldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Request a -&gt; m
foldMap :: (a -&gt; m) -&gt; Request a -&gt; m
$cfoldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Request a -&gt; m
fold :: Request m -&gt; m
$cfold :: forall m. Monoid m =&gt; Request m -&gt; m
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548421"><span id="local-6989586621680548423"><span id="local-6989586621680548425"><span id="local-6989586621680548427"><span class="annot"><span class="annottext">Functor Request
Foldable Request
Functor Request
-&gt; Foldable Request
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; Request a -&gt; f (Request b))
-&gt; (forall (f :: * -&gt; *) a.
    Applicative f =&gt;
    Request (f a) -&gt; f (Request a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; Request a -&gt; m (Request b))
-&gt; (forall (m :: * -&gt; *) a.
    Monad m =&gt;
    Request (m a) -&gt; m (Request a))
-&gt; Traversable Request
(a -&gt; f b) -&gt; Request a -&gt; f (Request b)
forall (t :: * -&gt; *).
Functor t
-&gt; Foldable t
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (m :: * -&gt; *) a. Monad m =&gt; Request (m a) -&gt; m (Request a)
forall (f :: * -&gt; *) a.
Applicative f =&gt;
Request (f a) -&gt; f (Request a)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Request a -&gt; m (Request b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Request a -&gt; f (Request b)
sequence :: Request (m a) -&gt; m (Request a)
$csequence :: forall (m :: * -&gt; *) a. Monad m =&gt; Request (m a) -&gt; m (Request a)
mapM :: (a -&gt; m b) -&gt; Request a -&gt; m (Request b)
$cmapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Request a -&gt; m (Request b)
sequenceA :: Request (f a) -&gt; f (Request a)
$csequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
Request (f a) -&gt; f (Request a)
traverse :: (a -&gt; f b) -&gt; Request a -&gt; f (Request b)
$ctraverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Request a -&gt; f (Request b)
$cp2Traversable :: Foldable Request
$cp1Traversable :: Functor Request
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></a></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-162"></span><span>           </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680548412"><span id="local-6989586621680548414"><span id="local-6989586621680548416"><span id="local-6989586621680548418"><span class="annot"><span class="annottext">[Request o] -&gt; Encoding
[Request o] -&gt; Value
Request o -&gt; Encoding
Request o -&gt; Value
(Request o -&gt; Value)
-&gt; (Request o -&gt; Encoding)
-&gt; ([Request o] -&gt; Value)
-&gt; ([Request o] -&gt; Encoding)
-&gt; ToJSON (Request o)
forall o. ToJSON o =&gt; [Request o] -&gt; Encoding
forall o. ToJSON o =&gt; [Request o] -&gt; Value
forall o. ToJSON o =&gt; Request o -&gt; Encoding
forall o. ToJSON o =&gt; Request o -&gt; Value
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [Request o] -&gt; Encoding
$ctoEncodingList :: forall o. ToJSON o =&gt; [Request o] -&gt; Encoding
toJSONList :: [Request o] -&gt; Value
$ctoJSONList :: forall o. ToJSON o =&gt; [Request o] -&gt; Value
toEncoding :: Request o -&gt; Encoding
$ctoEncoding :: forall o. ToJSON o =&gt; Request o -&gt; Encoding
toJSON :: Request o -&gt; Value
$ctoJSON :: forall o. ToJSON o =&gt; Request o -&gt; Value
</span><a href="#local-6989586621680548412"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548408"><span id="local-6989586621680548410"><span class="annot"><span class="annottext">Value -&gt; Parser [Request o]
Value -&gt; Parser (Request o)
(Value -&gt; Parser (Request o))
-&gt; (Value -&gt; Parser [Request o]) -&gt; FromJSON (Request o)
forall o. FromJSON o =&gt; Value -&gt; Parser [Request o]
forall o. FromJSON o =&gt; Value -&gt; Parser (Request o)
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [Request o]
$cparseJSONList :: forall o. FromJSON o =&gt; Value -&gt; Parser [Request o]
parseJSON :: Value -&gt; Parser (Request o)
$cparseJSON :: forall o. FromJSON o =&gt; Value -&gt; Parser (Request o)
</span><a href="#local-6989586621680548408"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span id="local-6989586621680548407"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680548404"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="#local-6989586621680548407"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Request"><span class="hs-identifier hs-type">Request</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548407"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-165"></span><span>    </span><span id="local-6989586621680548403"><span class="annot"><span class="annottext">pretty :: Request o -&gt; Doc ann
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></span></span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Request"><span class="hs-identifier hs-type">Request</span></a></span><span class="hs-special">{</span><span id="local-6989586621680548401"><span class="annot"><span class="annottext">RequestID
rqID :: RequestID
rqID :: forall o. Request o -&gt; RequestID
</span><a href="#local-6989586621680548401"><span class="hs-identifier hs-var hs-var">rqID</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548400"><span class="annot"><span class="annottext">IterationID
itID :: IterationID
itID :: forall o. Request o -&gt; IterationID
</span><a href="#local-6989586621680548400"><span class="hs-identifier hs-var hs-var">itID</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548399"><span class="annot"><span class="annottext">o
rqRequest :: o
rqRequest :: forall o. Request o -&gt; o
</span><a href="#local-6989586621680548399"><span class="hs-identifier hs-var hs-var">rqRequest</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-166"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; Doc ann -&gt; Doc ann
forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">indent</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-167"></span><span>            </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Iteration&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">IterationID -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">IterationID
</span><a href="#local-6989586621680548400"><span class="hs-identifier hs-var">itID</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;request ID&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">RequestID -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">RequestID
</span><a href="#local-6989586621680548401"><span class="hs-identifier hs-var">rqID</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-168"></span><span>            </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Request:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">o -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621680548399"><span class="hs-identifier hs-var">rqRequest</span></a></span><span>
</span><span id="line-169"></span><span>        </span><span class="hs-special">]</span></span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span id="local-6989586621680548394"><span id="local-6989586621680548395"></span></span><span class="hs-keyword">data</span><span> </span><span id="Response"><span class="annot"><a href="Plutus.Contract.Resumable.html#Response"><span class="hs-identifier hs-var">Response</span></a></span></span><span> </span><span id="local-6989586621680548983"><span class="annot"><a href="#local-6989586621680548983"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-172"></span><span>    </span><span id="Response"><span class="annot"><a href="Plutus.Contract.Resumable.html#Response"><span class="hs-identifier hs-var">Response</span></a></span></span><span>
</span><span id="line-173"></span><span>        </span><span class="hs-special">{</span><span> </span><span id="rspRqID"><span class="annot"><span class="annottext">Response i -&gt; RequestID
</span><a href="Plutus.Contract.Resumable.html#rspRqID"><span class="hs-identifier hs-var hs-var">rspRqID</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#RequestID"><span class="hs-identifier hs-type">RequestID</span></a></span><span>
</span><span id="line-174"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="rspItID"><span class="annot"><span class="annottext">Response i -&gt; IterationID
</span><a href="Plutus.Contract.Resumable.html#rspItID"><span class="hs-identifier hs-var hs-var">rspItID</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#IterationID"><span class="hs-identifier hs-type">IterationID</span></a></span><span>
</span><span id="line-175"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="rspResponse"><span class="annot"><span class="annottext">Response i -&gt; i
</span><a href="Plutus.Contract.Resumable.html#rspResponse"><span class="hs-identifier hs-var hs-var">rspResponse</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680548983"><span class="hs-identifier hs-type">i</span></a></span><span>
</span><span id="line-176"></span><span>        </span><span class="hs-special">}</span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680548386"><span id="local-6989586621680548388"><span class="annot"><span class="annottext">Response i -&gt; Response i -&gt; Bool
(Response i -&gt; Response i -&gt; Bool)
-&gt; (Response i -&gt; Response i -&gt; Bool) -&gt; Eq (Response i)
forall i. Eq i =&gt; Response i -&gt; Response i -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Response i -&gt; Response i -&gt; Bool
$c/= :: forall i. Eq i =&gt; Response i -&gt; Response i -&gt; Bool
== :: Response i -&gt; Response i -&gt; Bool
$c== :: forall i. Eq i =&gt; Response i -&gt; Response i -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548371"><span id="local-6989586621680548373"><span id="local-6989586621680548375"><span id="local-6989586621680548377"><span id="local-6989586621680548379"><span id="local-6989586621680548381"><span id="local-6989586621680548383"><span class="annot"><span class="annottext">Eq (Response i)
Eq (Response i)
-&gt; (Response i -&gt; Response i -&gt; Ordering)
-&gt; (Response i -&gt; Response i -&gt; Bool)
-&gt; (Response i -&gt; Response i -&gt; Bool)
-&gt; (Response i -&gt; Response i -&gt; Bool)
-&gt; (Response i -&gt; Response i -&gt; Bool)
-&gt; (Response i -&gt; Response i -&gt; Response i)
-&gt; (Response i -&gt; Response i -&gt; Response i)
-&gt; Ord (Response i)
Response i -&gt; Response i -&gt; Bool
Response i -&gt; Response i -&gt; Ordering
Response i -&gt; Response i -&gt; Response i
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall i. Ord i =&gt; Eq (Response i)
forall i. Ord i =&gt; Response i -&gt; Response i -&gt; Bool
forall i. Ord i =&gt; Response i -&gt; Response i -&gt; Ordering
forall i. Ord i =&gt; Response i -&gt; Response i -&gt; Response i
min :: Response i -&gt; Response i -&gt; Response i
$cmin :: forall i. Ord i =&gt; Response i -&gt; Response i -&gt; Response i
max :: Response i -&gt; Response i -&gt; Response i
$cmax :: forall i. Ord i =&gt; Response i -&gt; Response i -&gt; Response i
&gt;= :: Response i -&gt; Response i -&gt; Bool
$c&gt;= :: forall i. Ord i =&gt; Response i -&gt; Response i -&gt; Bool
&gt; :: Response i -&gt; Response i -&gt; Bool
$c&gt; :: forall i. Ord i =&gt; Response i -&gt; Response i -&gt; Bool
&lt;= :: Response i -&gt; Response i -&gt; Bool
$c&lt;= :: forall i. Ord i =&gt; Response i -&gt; Response i -&gt; Bool
&lt; :: Response i -&gt; Response i -&gt; Bool
$c&lt; :: forall i. Ord i =&gt; Response i -&gt; Response i -&gt; Bool
compare :: Response i -&gt; Response i -&gt; Ordering
$ccompare :: forall i. Ord i =&gt; Response i -&gt; Response i -&gt; Ordering
$cp1Ord :: forall i. Ord i =&gt; Eq (Response i)
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548365"><span id="local-6989586621680548367"><span id="local-6989586621680548369"><span class="annot"><span class="annottext">Int -&gt; Response i -&gt; ShowS
[Response i] -&gt; ShowS
Response i -&gt; String
(Int -&gt; Response i -&gt; ShowS)
-&gt; (Response i -&gt; String)
-&gt; ([Response i] -&gt; ShowS)
-&gt; Show (Response i)
forall i. Show i =&gt; Int -&gt; Response i -&gt; ShowS
forall i. Show i =&gt; [Response i] -&gt; ShowS
forall i. Show i =&gt; Response i -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Response i] -&gt; ShowS
$cshowList :: forall i. Show i =&gt; [Response i] -&gt; ShowS
show :: Response i -&gt; String
$cshow :: forall i. Show i =&gt; Response i -&gt; String
showsPrec :: Int -&gt; Response i -&gt; ShowS
$cshowsPrec :: forall i. Show i =&gt; Int -&gt; Response i -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. Response i -&gt; Rep (Response i) x)
-&gt; (forall x. Rep (Response i) x -&gt; Response i)
-&gt; Generic (Response i)
forall x. Rep (Response i) x -&gt; Response i
forall x. Response i -&gt; Rep (Response i) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall i x. Rep (Response i) x -&gt; Response i
forall i x. Response i -&gt; Rep (Response i) x
$cto :: forall i x. Rep (Response i) x -&gt; Response i
$cfrom :: forall i x. Response i -&gt; Rep (Response i) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548359"><span id="local-6989586621680548361"><span class="annot"><span class="annottext">a -&gt; Response b -&gt; Response a
(a -&gt; b) -&gt; Response a -&gt; Response b
(forall a b. (a -&gt; b) -&gt; Response a -&gt; Response b)
-&gt; (forall a b. a -&gt; Response b -&gt; Response a) -&gt; Functor Response
forall a b. a -&gt; Response b -&gt; Response a
forall a b. (a -&gt; b) -&gt; Response a -&gt; Response b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: a -&gt; Response b -&gt; Response a
$c&lt;$ :: forall a b. a -&gt; Response b -&gt; Response a
fmap :: (a -&gt; b) -&gt; Response a -&gt; Response b
$cfmap :: forall a b. (a -&gt; b) -&gt; Response a -&gt; Response b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548325"><span id="local-6989586621680548327"><span id="local-6989586621680548329"><span id="local-6989586621680548331"><span id="local-6989586621680548333"><span id="local-6989586621680548335"><span id="local-6989586621680548337"><span id="local-6989586621680548339"><span id="local-6989586621680548341"><span id="local-6989586621680548343"><span id="local-6989586621680548345"><span id="local-6989586621680548347"><span id="local-6989586621680548349"><span id="local-6989586621680548351"><span id="local-6989586621680548353"><span id="local-6989586621680548355"><span id="local-6989586621680548357"><span class="annot"><span class="annottext">Response a -&gt; Bool
(a -&gt; m) -&gt; Response a -&gt; m
(a -&gt; b -&gt; b) -&gt; b -&gt; Response a -&gt; b
(forall m. Monoid m =&gt; Response m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Response a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Response a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Response a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Response a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Response a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Response a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Response a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Response a -&gt; a)
-&gt; (forall a. Response a -&gt; [a])
-&gt; (forall a. Response a -&gt; Bool)
-&gt; (forall a. Response a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; Response a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; Response a -&gt; a)
-&gt; (forall a. Ord a =&gt; Response a -&gt; a)
-&gt; (forall a. Num a =&gt; Response a -&gt; a)
-&gt; (forall a. Num a =&gt; Response a -&gt; a)
-&gt; Foldable Response
forall a. Eq a =&gt; a -&gt; Response a -&gt; Bool
forall a. Num a =&gt; Response a -&gt; a
forall a. Ord a =&gt; Response a -&gt; a
forall m. Monoid m =&gt; Response m -&gt; m
forall a. Response a -&gt; Bool
forall a. Response a -&gt; Int
forall a. Response a -&gt; [a]
forall a. (a -&gt; a -&gt; a) -&gt; Response a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Response a -&gt; m
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Response a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Response a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
product :: Response a -&gt; a
$cproduct :: forall a. Num a =&gt; Response a -&gt; a
sum :: Response a -&gt; a
$csum :: forall a. Num a =&gt; Response a -&gt; a
minimum :: Response a -&gt; a
$cminimum :: forall a. Ord a =&gt; Response a -&gt; a
maximum :: Response a -&gt; a
$cmaximum :: forall a. Ord a =&gt; Response a -&gt; a
elem :: a -&gt; Response a -&gt; Bool
$celem :: forall a. Eq a =&gt; a -&gt; Response a -&gt; Bool
length :: Response a -&gt; Int
$clength :: forall a. Response a -&gt; Int
null :: Response a -&gt; Bool
$cnull :: forall a. Response a -&gt; Bool
toList :: Response a -&gt; [a]
$ctoList :: forall a. Response a -&gt; [a]
foldl1 :: (a -&gt; a -&gt; a) -&gt; Response a -&gt; a
$cfoldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; Response a -&gt; a
foldr1 :: (a -&gt; a -&gt; a) -&gt; Response a -&gt; a
$cfoldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; Response a -&gt; a
foldl' :: (b -&gt; a -&gt; b) -&gt; b -&gt; Response a -&gt; b
$cfoldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Response a -&gt; b
foldl :: (b -&gt; a -&gt; b) -&gt; b -&gt; Response a -&gt; b
$cfoldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Response a -&gt; b
foldr' :: (a -&gt; b -&gt; b) -&gt; b -&gt; Response a -&gt; b
$cfoldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Response a -&gt; b
foldr :: (a -&gt; b -&gt; b) -&gt; b -&gt; Response a -&gt; b
$cfoldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Response a -&gt; b
foldMap' :: (a -&gt; m) -&gt; Response a -&gt; m
$cfoldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Response a -&gt; m
foldMap :: (a -&gt; m) -&gt; Response a -&gt; m
$cfoldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Response a -&gt; m
fold :: Response m -&gt; m
$cfold :: forall m. Monoid m =&gt; Response m -&gt; m
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548315"><span id="local-6989586621680548317"><span id="local-6989586621680548319"><span id="local-6989586621680548321"><span class="annot"><span class="annottext">Functor Response
Foldable Response
Functor Response
-&gt; Foldable Response
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; Response a -&gt; f (Response b))
-&gt; (forall (f :: * -&gt; *) a.
    Applicative f =&gt;
    Response (f a) -&gt; f (Response a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; Response a -&gt; m (Response b))
-&gt; (forall (m :: * -&gt; *) a.
    Monad m =&gt;
    Response (m a) -&gt; m (Response a))
-&gt; Traversable Response
(a -&gt; f b) -&gt; Response a -&gt; f (Response b)
forall (t :: * -&gt; *).
Functor t
-&gt; Foldable t
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (m :: * -&gt; *) a. Monad m =&gt; Response (m a) -&gt; m (Response a)
forall (f :: * -&gt; *) a.
Applicative f =&gt;
Response (f a) -&gt; f (Response a)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Response a -&gt; m (Response b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Response a -&gt; f (Response b)
sequence :: Response (m a) -&gt; m (Response a)
$csequence :: forall (m :: * -&gt; *) a. Monad m =&gt; Response (m a) -&gt; m (Response a)
mapM :: (a -&gt; m b) -&gt; Response a -&gt; m (Response b)
$cmapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Response a -&gt; m (Response b)
sequenceA :: Response (f a) -&gt; f (Response a)
$csequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
Response (f a) -&gt; f (Response a)
traverse :: (a -&gt; f b) -&gt; Response a -&gt; f (Response b)
$ctraverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Response a -&gt; f (Response b)
$cp2Traversable :: Foldable Response
$cp1Traversable :: Functor Response
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></a></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>           </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680548307"><span id="local-6989586621680548309"><span id="local-6989586621680548311"><span id="local-6989586621680548313"><span class="annot"><span class="annottext">[Response i] -&gt; Encoding
[Response i] -&gt; Value
Response i -&gt; Encoding
Response i -&gt; Value
(Response i -&gt; Value)
-&gt; (Response i -&gt; Encoding)
-&gt; ([Response i] -&gt; Value)
-&gt; ([Response i] -&gt; Encoding)
-&gt; ToJSON (Response i)
forall i. ToJSON i =&gt; [Response i] -&gt; Encoding
forall i. ToJSON i =&gt; [Response i] -&gt; Value
forall i. ToJSON i =&gt; Response i -&gt; Encoding
forall i. ToJSON i =&gt; Response i -&gt; Value
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [Response i] -&gt; Encoding
$ctoEncodingList :: forall i. ToJSON i =&gt; [Response i] -&gt; Encoding
toJSONList :: [Response i] -&gt; Value
$ctoJSONList :: forall i. ToJSON i =&gt; [Response i] -&gt; Value
toEncoding :: Response i -&gt; Encoding
$ctoEncoding :: forall i. ToJSON i =&gt; Response i -&gt; Encoding
toJSON :: Response i -&gt; Value
$ctoJSON :: forall i. ToJSON i =&gt; Response i -&gt; Value
</span><a href="#local-6989586621680548307"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548303"><span id="local-6989586621680548305"><span class="annot"><span class="annottext">Value -&gt; Parser [Response i]
Value -&gt; Parser (Response i)
(Value -&gt; Parser (Response i))
-&gt; (Value -&gt; Parser [Response i]) -&gt; FromJSON (Response i)
forall i. FromJSON i =&gt; Value -&gt; Parser [Response i]
forall i. FromJSON i =&gt; Value -&gt; Parser (Response i)
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [Response i]
$cparseJSONList :: forall i. FromJSON i =&gt; Value -&gt; Parser [Response i]
parseJSON :: Value -&gt; Parser (Response i)
$cparseJSON :: forall i. FromJSON i =&gt; Value -&gt; Parser (Response i)
</span><a href="#local-6989586621680548303"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span id="local-6989586621680548302"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680548299"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="#local-6989586621680548302"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Response"><span class="hs-identifier hs-type">Response</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548302"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-180"></span><span>    </span><span id="local-6989586621680548298"><span class="annot"><span class="annottext">pretty :: Response i -&gt; Doc ann
</span><a href="#local-6989586621680548298"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Response"><span class="hs-identifier hs-type">Response</span></a></span><span class="hs-special">{</span><span id="local-6989586621680548297"><span class="annot"><span class="annottext">RequestID
rspRqID :: RequestID
rspRqID :: forall i. Response i -&gt; RequestID
</span><a href="#local-6989586621680548297"><span class="hs-identifier hs-var hs-var">rspRqID</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548296"><span class="annot"><span class="annottext">IterationID
rspItID :: IterationID
rspItID :: forall i. Response i -&gt; IterationID
</span><a href="#local-6989586621680548296"><span class="hs-identifier hs-var hs-var">rspItID</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548295"><span class="annot"><span class="annottext">i
rspResponse :: i
rspResponse :: forall i. Response i -&gt; i
</span><a href="#local-6989586621680548295"><span class="hs-identifier hs-var hs-var">rspResponse</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-181"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; Doc ann -&gt; Doc ann
forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">indent</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-182"></span><span>            </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Iteration&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">IterationID -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">IterationID
</span><a href="#local-6989586621680548296"><span class="hs-identifier hs-var">rspItID</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;request ID&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">RequestID -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">RequestID
</span><a href="#local-6989586621680548297"><span class="hs-identifier hs-var">rspRqID</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-183"></span><span>            </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Response:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621680548295"><span class="hs-identifier hs-var">rspResponse</span></a></span><span>
</span><span id="line-184"></span><span>        </span><span class="hs-special">]</span></span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span id="local-6989586621680548293"><span id="local-6989586621680548294"></span></span><span class="hs-keyword">newtype</span><span> </span><span id="Requests"><span class="annot"><a href="Plutus.Contract.Resumable.html#Requests"><span class="hs-identifier hs-var">Requests</span></a></span></span><span> </span><span id="local-6989586621680548929"><span class="annot"><a href="#local-6989586621680548929"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Requests"><span class="annot"><a href="Plutus.Contract.Resumable.html#Requests"><span class="hs-identifier hs-var">Requests</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unRequests"><span class="annot"><span class="annottext">Requests o -&gt; [Request o]
</span><a href="Plutus.Contract.Resumable.html#unRequests"><span class="hs-identifier hs-var hs-var">unRequests</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Request"><span class="hs-identifier hs-type">Request</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548929"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-187"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680548287"><span id="local-6989586621680548289"><span class="annot"><span class="annottext">Requests o -&gt; Requests o -&gt; Bool
(Requests o -&gt; Requests o -&gt; Bool)
-&gt; (Requests o -&gt; Requests o -&gt; Bool) -&gt; Eq (Requests o)
forall o. Eq o =&gt; Requests o -&gt; Requests o -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Requests o -&gt; Requests o -&gt; Bool
$c/= :: forall o. Eq o =&gt; Requests o -&gt; Requests o -&gt; Bool
== :: Requests o -&gt; Requests o -&gt; Bool
$c== :: forall o. Eq o =&gt; Requests o -&gt; Requests o -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548272"><span id="local-6989586621680548274"><span id="local-6989586621680548276"><span id="local-6989586621680548278"><span id="local-6989586621680548280"><span id="local-6989586621680548282"><span id="local-6989586621680548284"><span class="annot"><span class="annottext">Eq (Requests o)
Eq (Requests o)
-&gt; (Requests o -&gt; Requests o -&gt; Ordering)
-&gt; (Requests o -&gt; Requests o -&gt; Bool)
-&gt; (Requests o -&gt; Requests o -&gt; Bool)
-&gt; (Requests o -&gt; Requests o -&gt; Bool)
-&gt; (Requests o -&gt; Requests o -&gt; Bool)
-&gt; (Requests o -&gt; Requests o -&gt; Requests o)
-&gt; (Requests o -&gt; Requests o -&gt; Requests o)
-&gt; Ord (Requests o)
Requests o -&gt; Requests o -&gt; Bool
Requests o -&gt; Requests o -&gt; Ordering
Requests o -&gt; Requests o -&gt; Requests o
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall o. Ord o =&gt; Eq (Requests o)
forall o. Ord o =&gt; Requests o -&gt; Requests o -&gt; Bool
forall o. Ord o =&gt; Requests o -&gt; Requests o -&gt; Ordering
forall o. Ord o =&gt; Requests o -&gt; Requests o -&gt; Requests o
min :: Requests o -&gt; Requests o -&gt; Requests o
$cmin :: forall o. Ord o =&gt; Requests o -&gt; Requests o -&gt; Requests o
max :: Requests o -&gt; Requests o -&gt; Requests o
$cmax :: forall o. Ord o =&gt; Requests o -&gt; Requests o -&gt; Requests o
&gt;= :: Requests o -&gt; Requests o -&gt; Bool
$c&gt;= :: forall o. Ord o =&gt; Requests o -&gt; Requests o -&gt; Bool
&gt; :: Requests o -&gt; Requests o -&gt; Bool
$c&gt; :: forall o. Ord o =&gt; Requests o -&gt; Requests o -&gt; Bool
&lt;= :: Requests o -&gt; Requests o -&gt; Bool
$c&lt;= :: forall o. Ord o =&gt; Requests o -&gt; Requests o -&gt; Bool
&lt; :: Requests o -&gt; Requests o -&gt; Bool
$c&lt; :: forall o. Ord o =&gt; Requests o -&gt; Requests o -&gt; Bool
compare :: Requests o -&gt; Requests o -&gt; Ordering
$ccompare :: forall o. Ord o =&gt; Requests o -&gt; Requests o -&gt; Ordering
$cp1Ord :: forall o. Ord o =&gt; Eq (Requests o)
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548266"><span id="local-6989586621680548268"><span id="local-6989586621680548270"><span class="annot"><span class="annottext">Int -&gt; Requests o -&gt; ShowS
[Requests o] -&gt; ShowS
Requests o -&gt; String
(Int -&gt; Requests o -&gt; ShowS)
-&gt; (Requests o -&gt; String)
-&gt; ([Requests o] -&gt; ShowS)
-&gt; Show (Requests o)
forall o. Show o =&gt; Int -&gt; Requests o -&gt; ShowS
forall o. Show o =&gt; [Requests o] -&gt; ShowS
forall o. Show o =&gt; Requests o -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Requests o] -&gt; ShowS
$cshowList :: forall o. Show o =&gt; [Requests o] -&gt; ShowS
show :: Requests o -&gt; String
$cshow :: forall o. Show o =&gt; Requests o -&gt; String
showsPrec :: Int -&gt; Requests o -&gt; ShowS
$cshowsPrec :: forall o. Show o =&gt; Int -&gt; Requests o -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548260"><span id="local-6989586621680548262"><span id="local-6989586621680548264"><span class="annot"><span class="annottext">b -&gt; Requests o -&gt; Requests o
NonEmpty (Requests o) -&gt; Requests o
Requests o -&gt; Requests o -&gt; Requests o
(Requests o -&gt; Requests o -&gt; Requests o)
-&gt; (NonEmpty (Requests o) -&gt; Requests o)
-&gt; (forall b. Integral b =&gt; b -&gt; Requests o -&gt; Requests o)
-&gt; Semigroup (Requests o)
forall b. Integral b =&gt; b -&gt; Requests o -&gt; Requests o
forall o. NonEmpty (Requests o) -&gt; Requests o
forall o. Requests o -&gt; Requests o -&gt; Requests o
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
forall o b. Integral b =&gt; b -&gt; Requests o -&gt; Requests o
stimes :: b -&gt; Requests o -&gt; Requests o
$cstimes :: forall o b. Integral b =&gt; b -&gt; Requests o -&gt; Requests o
sconcat :: NonEmpty (Requests o) -&gt; Requests o
$csconcat :: forall o. NonEmpty (Requests o) -&gt; Requests o
&lt;&gt; :: Requests o -&gt; Requests o -&gt; Requests o
$c&lt;&gt; :: forall o. Requests o -&gt; Requests o -&gt; Requests o
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Semigroup</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548253"><span id="local-6989586621680548255"><span id="local-6989586621680548257"><span class="annot"><span class="annottext">Semigroup (Requests o)
Requests o
Semigroup (Requests o)
-&gt; Requests o
-&gt; (Requests o -&gt; Requests o -&gt; Requests o)
-&gt; ([Requests o] -&gt; Requests o)
-&gt; Monoid (Requests o)
[Requests o] -&gt; Requests o
Requests o -&gt; Requests o -&gt; Requests o
forall o. Semigroup (Requests o)
forall o. Requests o
forall a.
Semigroup a -&gt; a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
forall o. [Requests o] -&gt; Requests o
forall o. Requests o -&gt; Requests o -&gt; Requests o
mconcat :: [Requests o] -&gt; Requests o
$cmconcat :: forall o. [Requests o] -&gt; Requests o
mappend :: Requests o -&gt; Requests o -&gt; Requests o
$cmappend :: forall o. Requests o -&gt; Requests o -&gt; Requests o
mempty :: Requests o
$cmempty :: forall o. Requests o
$cp1Monoid :: forall o. Semigroup (Requests o)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monoid</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680548245"><span id="local-6989586621680548247"><span id="local-6989586621680548249"><span id="local-6989586621680548251"><span class="annot"><span class="annottext">[Requests o] -&gt; Encoding
[Requests o] -&gt; Value
Requests o -&gt; Encoding
Requests o -&gt; Value
(Requests o -&gt; Value)
-&gt; (Requests o -&gt; Encoding)
-&gt; ([Requests o] -&gt; Value)
-&gt; ([Requests o] -&gt; Encoding)
-&gt; ToJSON (Requests o)
forall o. ToJSON o =&gt; [Requests o] -&gt; Encoding
forall o. ToJSON o =&gt; [Requests o] -&gt; Value
forall o. ToJSON o =&gt; Requests o -&gt; Encoding
forall o. ToJSON o =&gt; Requests o -&gt; Value
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [Requests o] -&gt; Encoding
$ctoEncodingList :: forall o. ToJSON o =&gt; [Requests o] -&gt; Encoding
toJSONList :: [Requests o] -&gt; Value
$ctoJSONList :: forall o. ToJSON o =&gt; [Requests o] -&gt; Value
toEncoding :: Requests o -&gt; Encoding
$ctoEncoding :: forall o. ToJSON o =&gt; Requests o -&gt; Encoding
toJSON :: Requests o -&gt; Value
$ctoJSON :: forall o. ToJSON o =&gt; Requests o -&gt; Value
</span><a href="#local-6989586621680548245"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548241"><span id="local-6989586621680548243"><span class="annot"><span class="annottext">Value -&gt; Parser [Requests o]
Value -&gt; Parser (Requests o)
(Value -&gt; Parser (Requests o))
-&gt; (Value -&gt; Parser [Requests o]) -&gt; FromJSON (Requests o)
forall o. FromJSON o =&gt; Value -&gt; Parser [Requests o]
forall o. FromJSON o =&gt; Value -&gt; Parser (Requests o)
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [Requests o]
$cparseJSONList :: forall o. FromJSON o =&gt; Value -&gt; Parser [Requests o]
parseJSON :: Value -&gt; Parser (Requests o)
$cparseJSON :: forall o. FromJSON o =&gt; Value -&gt; Parser (Requests o)
</span><a href="#local-6989586621680548241"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. Requests o -&gt; Rep (Requests o) x)
-&gt; (forall x. Rep (Requests o) x -&gt; Requests o)
-&gt; Generic (Requests o)
forall x. Rep (Requests o) x -&gt; Requests o
forall x. Requests o -&gt; Rep (Requests o) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall o x. Rep (Requests o) x -&gt; Requests o
forall o x. Requests o -&gt; Rep (Requests o) x
$cto :: forall o x. Rep (Requests o) x -&gt; Requests o
$cfrom :: forall o x. Requests o -&gt; Rep (Requests o) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548235"><span id="local-6989586621680548237"><span class="annot"><span class="annottext">a -&gt; Requests b -&gt; Requests a
(a -&gt; b) -&gt; Requests a -&gt; Requests b
(forall a b. (a -&gt; b) -&gt; Requests a -&gt; Requests b)
-&gt; (forall a b. a -&gt; Requests b -&gt; Requests a) -&gt; Functor Requests
forall a b. a -&gt; Requests b -&gt; Requests a
forall a b. (a -&gt; b) -&gt; Requests a -&gt; Requests b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: a -&gt; Requests b -&gt; Requests a
$c&lt;$ :: forall a b. a -&gt; Requests b -&gt; Requests a
fmap :: (a -&gt; b) -&gt; Requests a -&gt; Requests b
$cfmap :: forall a b. (a -&gt; b) -&gt; Requests a -&gt; Requests b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548201"><span id="local-6989586621680548203"><span id="local-6989586621680548205"><span id="local-6989586621680548207"><span id="local-6989586621680548209"><span id="local-6989586621680548211"><span id="local-6989586621680548213"><span id="local-6989586621680548215"><span id="local-6989586621680548217"><span id="local-6989586621680548219"><span id="local-6989586621680548221"><span id="local-6989586621680548223"><span id="local-6989586621680548225"><span id="local-6989586621680548227"><span id="local-6989586621680548229"><span id="local-6989586621680548231"><span id="local-6989586621680548233"><span class="annot"><span class="annottext">Requests a -&gt; Bool
(a -&gt; m) -&gt; Requests a -&gt; m
(a -&gt; b -&gt; b) -&gt; b -&gt; Requests a -&gt; b
(forall m. Monoid m =&gt; Requests m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Requests a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Requests a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Requests a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Requests a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Requests a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Requests a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Requests a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Requests a -&gt; a)
-&gt; (forall a. Requests a -&gt; [a])
-&gt; (forall a. Requests a -&gt; Bool)
-&gt; (forall a. Requests a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; Requests a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; Requests a -&gt; a)
-&gt; (forall a. Ord a =&gt; Requests a -&gt; a)
-&gt; (forall a. Num a =&gt; Requests a -&gt; a)
-&gt; (forall a. Num a =&gt; Requests a -&gt; a)
-&gt; Foldable Requests
forall a. Eq a =&gt; a -&gt; Requests a -&gt; Bool
forall a. Num a =&gt; Requests a -&gt; a
forall a. Ord a =&gt; Requests a -&gt; a
forall m. Monoid m =&gt; Requests m -&gt; m
forall a. Requests a -&gt; Bool
forall a. Requests a -&gt; Int
forall a. Requests a -&gt; [a]
forall a. (a -&gt; a -&gt; a) -&gt; Requests a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Requests a -&gt; m
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Requests a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Requests a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
product :: Requests a -&gt; a
$cproduct :: forall a. Num a =&gt; Requests a -&gt; a
sum :: Requests a -&gt; a
$csum :: forall a. Num a =&gt; Requests a -&gt; a
minimum :: Requests a -&gt; a
$cminimum :: forall a. Ord a =&gt; Requests a -&gt; a
maximum :: Requests a -&gt; a
$cmaximum :: forall a. Ord a =&gt; Requests a -&gt; a
elem :: a -&gt; Requests a -&gt; Bool
$celem :: forall a. Eq a =&gt; a -&gt; Requests a -&gt; Bool
length :: Requests a -&gt; Int
$clength :: forall a. Requests a -&gt; Int
null :: Requests a -&gt; Bool
$cnull :: forall a. Requests a -&gt; Bool
toList :: Requests a -&gt; [a]
$ctoList :: forall a. Requests a -&gt; [a]
foldl1 :: (a -&gt; a -&gt; a) -&gt; Requests a -&gt; a
$cfoldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; Requests a -&gt; a
foldr1 :: (a -&gt; a -&gt; a) -&gt; Requests a -&gt; a
$cfoldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; Requests a -&gt; a
foldl' :: (b -&gt; a -&gt; b) -&gt; b -&gt; Requests a -&gt; b
$cfoldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Requests a -&gt; b
foldl :: (b -&gt; a -&gt; b) -&gt; b -&gt; Requests a -&gt; b
$cfoldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Requests a -&gt; b
foldr' :: (a -&gt; b -&gt; b) -&gt; b -&gt; Requests a -&gt; b
$cfoldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Requests a -&gt; b
foldr :: (a -&gt; b -&gt; b) -&gt; b -&gt; Requests a -&gt; b
$cfoldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Requests a -&gt; b
foldMap' :: (a -&gt; m) -&gt; Requests a -&gt; m
$cfoldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Requests a -&gt; m
foldMap :: (a -&gt; m) -&gt; Requests a -&gt; m
$cfoldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Requests a -&gt; m
fold :: Requests m -&gt; m
$cfold :: forall m. Monoid m =&gt; Requests m -&gt; m
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548191"><span id="local-6989586621680548193"><span id="local-6989586621680548195"><span id="local-6989586621680548197"><span class="annot"><span class="annottext">Functor Requests
Foldable Requests
Functor Requests
-&gt; Foldable Requests
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; Requests a -&gt; f (Requests b))
-&gt; (forall (f :: * -&gt; *) a.
    Applicative f =&gt;
    Requests (f a) -&gt; f (Requests a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; Requests a -&gt; m (Requests b))
-&gt; (forall (m :: * -&gt; *) a.
    Monad m =&gt;
    Requests (m a) -&gt; m (Requests a))
-&gt; Traversable Requests
(a -&gt; f b) -&gt; Requests a -&gt; f (Requests b)
forall (t :: * -&gt; *).
Functor t
-&gt; Foldable t
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (m :: * -&gt; *) a. Monad m =&gt; Requests (m a) -&gt; m (Requests a)
forall (f :: * -&gt; *) a.
Applicative f =&gt;
Requests (f a) -&gt; f (Requests a)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Requests a -&gt; m (Requests b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Requests a -&gt; f (Requests b)
sequence :: Requests (m a) -&gt; m (Requests a)
$csequence :: forall (m :: * -&gt; *) a. Monad m =&gt; Requests (m a) -&gt; m (Requests a)
mapM :: (a -&gt; m b) -&gt; Requests a -&gt; m (Requests b)
$cmapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Requests a -&gt; m (Requests b)
sequenceA :: Requests (f a) -&gt; f (Requests a)
$csequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
Requests (f a) -&gt; f (Requests a)
traverse :: (a -&gt; f b) -&gt; Requests a -&gt; f (Requests b)
$ctraverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Requests a -&gt; f (Requests b)
$cp2Traversable :: Foldable Requests
$cp1Traversable :: Functor Requests
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></a></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span id="local-6989586621680548190"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680548187"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="#local-6989586621680548190"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Requests"><span class="hs-identifier hs-type">Requests</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548190"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-192"></span><span>    </span><span id="local-6989586621680548186"><span class="annot"><span class="annottext">pretty :: Requests o -&gt; Doc ann
</span><a href="#local-6989586621680548186"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Requests"><span class="hs-identifier hs-type">Requests</span></a></span><span class="hs-special">{</span><span id="local-6989586621680548185"><span class="annot"><span class="annottext">[Request o]
unRequests :: [Request o]
unRequests :: forall o. Requests o -&gt; [Request o]
</span><a href="#local-6989586621680548185"><span class="hs-identifier hs-var hs-var">unRequests</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-193"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; Doc ann -&gt; Doc ann
forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">indent</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Requests:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Request o -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">(Request o -&gt; Doc ann) -&gt; [Request o] -&gt; [Doc ann]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Request o]
</span><a href="#local-6989586621680548185"><span class="hs-identifier hs-var">unRequests</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span id="local-6989586621680548182"><span id="local-6989586621680548183"></span></span><span class="hs-keyword">newtype</span><span> </span><span id="Responses"><span class="annot"><a href="Plutus.Contract.Resumable.html#Responses"><span class="hs-identifier hs-var">Responses</span></a></span></span><span> </span><span id="local-6989586621680548865"><span class="annot"><a href="#local-6989586621680548865"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Responses"><span class="annot"><a href="Plutus.Contract.Resumable.html#Responses"><span class="hs-identifier hs-var">Responses</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unResponses"><span class="annot"><span class="annottext">Responses i -&gt; Map (IterationID, RequestID) i
</span><a href="Plutus.Contract.Resumable.html#unResponses"><span class="hs-identifier hs-var hs-var">unResponses</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#IterationID"><span class="hs-identifier hs-type">IterationID</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#RequestID"><span class="hs-identifier hs-type">RequestID</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680548865"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-196"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680548176"><span id="local-6989586621680548178"><span class="annot"><span class="annottext">Responses i -&gt; Responses i -&gt; Bool
(Responses i -&gt; Responses i -&gt; Bool)
-&gt; (Responses i -&gt; Responses i -&gt; Bool) -&gt; Eq (Responses i)
forall i. Eq i =&gt; Responses i -&gt; Responses i -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Responses i -&gt; Responses i -&gt; Bool
$c/= :: forall i. Eq i =&gt; Responses i -&gt; Responses i -&gt; Bool
== :: Responses i -&gt; Responses i -&gt; Bool
$c== :: forall i. Eq i =&gt; Responses i -&gt; Responses i -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548161"><span id="local-6989586621680548163"><span id="local-6989586621680548165"><span id="local-6989586621680548167"><span id="local-6989586621680548169"><span id="local-6989586621680548171"><span id="local-6989586621680548173"><span class="annot"><span class="annottext">Eq (Responses i)
Eq (Responses i)
-&gt; (Responses i -&gt; Responses i -&gt; Ordering)
-&gt; (Responses i -&gt; Responses i -&gt; Bool)
-&gt; (Responses i -&gt; Responses i -&gt; Bool)
-&gt; (Responses i -&gt; Responses i -&gt; Bool)
-&gt; (Responses i -&gt; Responses i -&gt; Bool)
-&gt; (Responses i -&gt; Responses i -&gt; Responses i)
-&gt; (Responses i -&gt; Responses i -&gt; Responses i)
-&gt; Ord (Responses i)
Responses i -&gt; Responses i -&gt; Bool
Responses i -&gt; Responses i -&gt; Ordering
Responses i -&gt; Responses i -&gt; Responses i
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall i. Ord i =&gt; Eq (Responses i)
forall i. Ord i =&gt; Responses i -&gt; Responses i -&gt; Bool
forall i. Ord i =&gt; Responses i -&gt; Responses i -&gt; Ordering
forall i. Ord i =&gt; Responses i -&gt; Responses i -&gt; Responses i
min :: Responses i -&gt; Responses i -&gt; Responses i
$cmin :: forall i. Ord i =&gt; Responses i -&gt; Responses i -&gt; Responses i
max :: Responses i -&gt; Responses i -&gt; Responses i
$cmax :: forall i. Ord i =&gt; Responses i -&gt; Responses i -&gt; Responses i
&gt;= :: Responses i -&gt; Responses i -&gt; Bool
$c&gt;= :: forall i. Ord i =&gt; Responses i -&gt; Responses i -&gt; Bool
&gt; :: Responses i -&gt; Responses i -&gt; Bool
$c&gt; :: forall i. Ord i =&gt; Responses i -&gt; Responses i -&gt; Bool
&lt;= :: Responses i -&gt; Responses i -&gt; Bool
$c&lt;= :: forall i. Ord i =&gt; Responses i -&gt; Responses i -&gt; Bool
&lt; :: Responses i -&gt; Responses i -&gt; Bool
$c&lt; :: forall i. Ord i =&gt; Responses i -&gt; Responses i -&gt; Bool
compare :: Responses i -&gt; Responses i -&gt; Ordering
$ccompare :: forall i. Ord i =&gt; Responses i -&gt; Responses i -&gt; Ordering
$cp1Ord :: forall i. Ord i =&gt; Eq (Responses i)
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548155"><span id="local-6989586621680548157"><span id="local-6989586621680548159"><span class="annot"><span class="annottext">Int -&gt; Responses i -&gt; ShowS
[Responses i] -&gt; ShowS
Responses i -&gt; String
(Int -&gt; Responses i -&gt; ShowS)
-&gt; (Responses i -&gt; String)
-&gt; ([Responses i] -&gt; ShowS)
-&gt; Show (Responses i)
forall i. Show i =&gt; Int -&gt; Responses i -&gt; ShowS
forall i. Show i =&gt; [Responses i] -&gt; ShowS
forall i. Show i =&gt; Responses i -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Responses i] -&gt; ShowS
$cshowList :: forall i. Show i =&gt; [Responses i] -&gt; ShowS
show :: Responses i -&gt; String
$cshow :: forall i. Show i =&gt; Responses i -&gt; String
showsPrec :: Int -&gt; Responses i -&gt; ShowS
$cshowsPrec :: forall i. Show i =&gt; Int -&gt; Responses i -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548149"><span id="local-6989586621680548151"><span id="local-6989586621680548153"><span class="annot"><span class="annottext">b -&gt; Responses i -&gt; Responses i
NonEmpty (Responses i) -&gt; Responses i
Responses i -&gt; Responses i -&gt; Responses i
(Responses i -&gt; Responses i -&gt; Responses i)
-&gt; (NonEmpty (Responses i) -&gt; Responses i)
-&gt; (forall b. Integral b =&gt; b -&gt; Responses i -&gt; Responses i)
-&gt; Semigroup (Responses i)
forall b. Integral b =&gt; b -&gt; Responses i -&gt; Responses i
forall i. NonEmpty (Responses i) -&gt; Responses i
forall i. Responses i -&gt; Responses i -&gt; Responses i
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
forall i b. Integral b =&gt; b -&gt; Responses i -&gt; Responses i
stimes :: b -&gt; Responses i -&gt; Responses i
$cstimes :: forall i b. Integral b =&gt; b -&gt; Responses i -&gt; Responses i
sconcat :: NonEmpty (Responses i) -&gt; Responses i
$csconcat :: forall i. NonEmpty (Responses i) -&gt; Responses i
&lt;&gt; :: Responses i -&gt; Responses i -&gt; Responses i
$c&lt;&gt; :: forall i. Responses i -&gt; Responses i -&gt; Responses i
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Semigroup</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548142"><span id="local-6989586621680548144"><span id="local-6989586621680548146"><span class="annot"><span class="annottext">Semigroup (Responses i)
Responses i
Semigroup (Responses i)
-&gt; Responses i
-&gt; (Responses i -&gt; Responses i -&gt; Responses i)
-&gt; ([Responses i] -&gt; Responses i)
-&gt; Monoid (Responses i)
[Responses i] -&gt; Responses i
Responses i -&gt; Responses i -&gt; Responses i
forall i. Semigroup (Responses i)
forall i. Responses i
forall a.
Semigroup a -&gt; a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
forall i. [Responses i] -&gt; Responses i
forall i. Responses i -&gt; Responses i -&gt; Responses i
mconcat :: [Responses i] -&gt; Responses i
$cmconcat :: forall i. [Responses i] -&gt; Responses i
mappend :: Responses i -&gt; Responses i -&gt; Responses i
$cmappend :: forall i. Responses i -&gt; Responses i -&gt; Responses i
mempty :: Responses i
$cmempty :: forall i. Responses i
$cp1Monoid :: forall i. Semigroup (Responses i)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monoid</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680548134"><span id="local-6989586621680548136"><span id="local-6989586621680548138"><span id="local-6989586621680548140"><span class="annot"><span class="annottext">[Responses i] -&gt; Encoding
[Responses i] -&gt; Value
Responses i -&gt; Encoding
Responses i -&gt; Value
(Responses i -&gt; Value)
-&gt; (Responses i -&gt; Encoding)
-&gt; ([Responses i] -&gt; Value)
-&gt; ([Responses i] -&gt; Encoding)
-&gt; ToJSON (Responses i)
forall i. ToJSON i =&gt; [Responses i] -&gt; Encoding
forall i. ToJSON i =&gt; [Responses i] -&gt; Value
forall i. ToJSON i =&gt; Responses i -&gt; Encoding
forall i. ToJSON i =&gt; Responses i -&gt; Value
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [Responses i] -&gt; Encoding
$ctoEncodingList :: forall i. ToJSON i =&gt; [Responses i] -&gt; Encoding
toJSONList :: [Responses i] -&gt; Value
$ctoJSONList :: forall i. ToJSON i =&gt; [Responses i] -&gt; Value
toEncoding :: Responses i -&gt; Encoding
$ctoEncoding :: forall i. ToJSON i =&gt; Responses i -&gt; Encoding
toJSON :: Responses i -&gt; Value
$ctoJSON :: forall i. ToJSON i =&gt; Responses i -&gt; Value
</span><a href="#local-6989586621680548134"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548130"><span id="local-6989586621680548132"><span class="annot"><span class="annottext">Value -&gt; Parser [Responses i]
Value -&gt; Parser (Responses i)
(Value -&gt; Parser (Responses i))
-&gt; (Value -&gt; Parser [Responses i]) -&gt; FromJSON (Responses i)
forall i. FromJSON i =&gt; Value -&gt; Parser [Responses i]
forall i. FromJSON i =&gt; Value -&gt; Parser (Responses i)
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [Responses i]
$cparseJSONList :: forall i. FromJSON i =&gt; Value -&gt; Parser [Responses i]
parseJSON :: Value -&gt; Parser (Responses i)
$cparseJSON :: forall i. FromJSON i =&gt; Value -&gt; Parser (Responses i)
</span><a href="#local-6989586621680548130"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. Responses i -&gt; Rep (Responses i) x)
-&gt; (forall x. Rep (Responses i) x -&gt; Responses i)
-&gt; Generic (Responses i)
forall x. Rep (Responses i) x -&gt; Responses i
forall x. Responses i -&gt; Rep (Responses i) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall i x. Rep (Responses i) x -&gt; Responses i
forall i x. Responses i -&gt; Rep (Responses i) x
$cto :: forall i x. Rep (Responses i) x -&gt; Responses i
$cfrom :: forall i x. Responses i -&gt; Rep (Responses i) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548124"><span id="local-6989586621680548126"><span class="annot"><span class="annottext">a -&gt; Responses b -&gt; Responses a
(a -&gt; b) -&gt; Responses a -&gt; Responses b
(forall a b. (a -&gt; b) -&gt; Responses a -&gt; Responses b)
-&gt; (forall a b. a -&gt; Responses b -&gt; Responses a)
-&gt; Functor Responses
forall a b. a -&gt; Responses b -&gt; Responses a
forall a b. (a -&gt; b) -&gt; Responses a -&gt; Responses b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: a -&gt; Responses b -&gt; Responses a
$c&lt;$ :: forall a b. a -&gt; Responses b -&gt; Responses a
fmap :: (a -&gt; b) -&gt; Responses a -&gt; Responses b
$cfmap :: forall a b. (a -&gt; b) -&gt; Responses a -&gt; Responses b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548090"><span id="local-6989586621680548092"><span id="local-6989586621680548094"><span id="local-6989586621680548096"><span id="local-6989586621680548098"><span id="local-6989586621680548100"><span id="local-6989586621680548102"><span id="local-6989586621680548104"><span id="local-6989586621680548106"><span id="local-6989586621680548108"><span id="local-6989586621680548110"><span id="local-6989586621680548112"><span id="local-6989586621680548114"><span id="local-6989586621680548116"><span id="local-6989586621680548118"><span id="local-6989586621680548120"><span id="local-6989586621680548122"><span class="annot"><span class="annottext">Responses a -&gt; Bool
(a -&gt; m) -&gt; Responses a -&gt; m
(a -&gt; b -&gt; b) -&gt; b -&gt; Responses a -&gt; b
(forall m. Monoid m =&gt; Responses m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Responses a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Responses a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Responses a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Responses a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Responses a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Responses a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Responses a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Responses a -&gt; a)
-&gt; (forall a. Responses a -&gt; [a])
-&gt; (forall a. Responses a -&gt; Bool)
-&gt; (forall a. Responses a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; Responses a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; Responses a -&gt; a)
-&gt; (forall a. Ord a =&gt; Responses a -&gt; a)
-&gt; (forall a. Num a =&gt; Responses a -&gt; a)
-&gt; (forall a. Num a =&gt; Responses a -&gt; a)
-&gt; Foldable Responses
forall a. Eq a =&gt; a -&gt; Responses a -&gt; Bool
forall a. Num a =&gt; Responses a -&gt; a
forall a. Ord a =&gt; Responses a -&gt; a
forall m. Monoid m =&gt; Responses m -&gt; m
forall a. Responses a -&gt; Bool
forall a. Responses a -&gt; Int
forall a. Responses a -&gt; [a]
forall a. (a -&gt; a -&gt; a) -&gt; Responses a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Responses a -&gt; m
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Responses a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Responses a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
product :: Responses a -&gt; a
$cproduct :: forall a. Num a =&gt; Responses a -&gt; a
sum :: Responses a -&gt; a
$csum :: forall a. Num a =&gt; Responses a -&gt; a
minimum :: Responses a -&gt; a
$cminimum :: forall a. Ord a =&gt; Responses a -&gt; a
maximum :: Responses a -&gt; a
$cmaximum :: forall a. Ord a =&gt; Responses a -&gt; a
elem :: a -&gt; Responses a -&gt; Bool
$celem :: forall a. Eq a =&gt; a -&gt; Responses a -&gt; Bool
length :: Responses a -&gt; Int
$clength :: forall a. Responses a -&gt; Int
null :: Responses a -&gt; Bool
$cnull :: forall a. Responses a -&gt; Bool
toList :: Responses a -&gt; [a]
$ctoList :: forall a. Responses a -&gt; [a]
foldl1 :: (a -&gt; a -&gt; a) -&gt; Responses a -&gt; a
$cfoldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; Responses a -&gt; a
foldr1 :: (a -&gt; a -&gt; a) -&gt; Responses a -&gt; a
$cfoldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; Responses a -&gt; a
foldl' :: (b -&gt; a -&gt; b) -&gt; b -&gt; Responses a -&gt; b
$cfoldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Responses a -&gt; b
foldl :: (b -&gt; a -&gt; b) -&gt; b -&gt; Responses a -&gt; b
$cfoldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Responses a -&gt; b
foldr' :: (a -&gt; b -&gt; b) -&gt; b -&gt; Responses a -&gt; b
$cfoldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Responses a -&gt; b
foldr :: (a -&gt; b -&gt; b) -&gt; b -&gt; Responses a -&gt; b
$cfoldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Responses a -&gt; b
foldMap' :: (a -&gt; m) -&gt; Responses a -&gt; m
$cfoldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Responses a -&gt; m
foldMap :: (a -&gt; m) -&gt; Responses a -&gt; m
$cfoldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Responses a -&gt; m
fold :: Responses m -&gt; m
$cfold :: forall m. Monoid m =&gt; Responses m -&gt; m
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548080"><span id="local-6989586621680548082"><span id="local-6989586621680548084"><span id="local-6989586621680548086"><span class="annot"><span class="annottext">Functor Responses
Foldable Responses
Functor Responses
-&gt; Foldable Responses
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; Responses a -&gt; f (Responses b))
-&gt; (forall (f :: * -&gt; *) a.
    Applicative f =&gt;
    Responses (f a) -&gt; f (Responses a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; Responses a -&gt; m (Responses b))
-&gt; (forall (m :: * -&gt; *) a.
    Monad m =&gt;
    Responses (m a) -&gt; m (Responses a))
-&gt; Traversable Responses
(a -&gt; f b) -&gt; Responses a -&gt; f (Responses b)
forall (t :: * -&gt; *).
Functor t
-&gt; Foldable t
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (m :: * -&gt; *) a.
Monad m =&gt;
Responses (m a) -&gt; m (Responses a)
forall (f :: * -&gt; *) a.
Applicative f =&gt;
Responses (f a) -&gt; f (Responses a)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Responses a -&gt; m (Responses b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Responses a -&gt; f (Responses b)
sequence :: Responses (m a) -&gt; m (Responses a)
$csequence :: forall (m :: * -&gt; *) a.
Monad m =&gt;
Responses (m a) -&gt; m (Responses a)
mapM :: (a -&gt; m b) -&gt; Responses a -&gt; m (Responses b)
$cmapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Responses a -&gt; m (Responses b)
sequenceA :: Responses (f a) -&gt; f (Responses a)
$csequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
Responses (f a) -&gt; f (Responses a)
traverse :: (a -&gt; f b) -&gt; Responses a -&gt; f (Responses b)
$ctraverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Responses a -&gt; f (Responses b)
$cp2Traversable :: Foldable Responses
$cp1Traversable :: Functor Responses
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></a></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span class="annot"><a href="Plutus.Contract.Resumable.html#_Responses"><span class="hs-identifier hs-type">_Responses</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680548079"><span class="annot"><a href="#local-6989586621680548079"><span class="hs-identifier hs-type">i</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Iso'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Responses"><span class="hs-identifier hs-type">Responses</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548079"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#IterationID"><span class="hs-identifier hs-type">IterationID</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#RequestID"><span class="hs-identifier hs-type">RequestID</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680548079"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span id="_Responses"><span class="annot"><span class="annottext">_Responses :: p (Map (IterationID, RequestID) i)
  (f (Map (IterationID, RequestID) i))
-&gt; p (Responses i) (f (Responses i))
</span><a href="Plutus.Contract.Resumable.html#_Responses"><span class="hs-identifier hs-var hs-var">_Responses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Responses i -&gt; Map (IterationID, RequestID) i)
-&gt; (Map (IterationID, RequestID) i -&gt; Responses i)
-&gt; Iso
     (Responses i)
     (Responses i)
     (Map (IterationID, RequestID) i)
     (Map (IterationID, RequestID) i)
forall s a b t. (s -&gt; a) -&gt; (b -&gt; t) -&gt; Iso s t a b
</span><span class="hs-identifier hs-var">iso</span></span><span> </span><span class="annot"><span class="annottext">Responses i -&gt; Map (IterationID, RequestID) i
forall i. Responses i -&gt; Map (IterationID, RequestID) i
</span><a href="Plutus.Contract.Resumable.html#unResponses"><span class="hs-identifier hs-var hs-var">unResponses</span></a></span><span> </span><span class="annot"><span class="annottext">Map (IterationID, RequestID) i -&gt; Responses i
forall i. Map (IterationID, RequestID) i -&gt; Responses i
</span><a href="Plutus.Contract.Resumable.html#Responses"><span class="hs-identifier hs-var">Responses</span></a></span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span class="hs-comment">-- | A list of all responses ordered by iteration and request ID</span><span>
</span><span id="line-204"></span><span id="local-6989586621680548078"><span class="annot"><a href="Plutus.Contract.Resumable.html#responses"><span class="hs-identifier hs-type">responses</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Responses"><span class="hs-identifier hs-type">Responses</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548078"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Response"><span class="hs-identifier hs-type">Response</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548078"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-205"></span><span id="responses"><span class="annot"><span class="annottext">responses :: Responses i -&gt; [Response i]
</span><a href="Plutus.Contract.Resumable.html#responses"><span class="hs-identifier hs-var hs-var">responses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-206"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680548077"><span class="annot"><span class="annottext">mkResp :: (IterationID, RequestID) -&gt; i -&gt; Response i
</span><a href="#local-6989586621680548077"><span class="hs-identifier hs-var hs-var">mkResp</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680548076"><span class="annot"><span class="annottext">IterationID
</span><a href="#local-6989586621680548076"><span class="hs-identifier hs-var">itId</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548075"><span class="annot"><span class="annottext">RequestID
</span><a href="#local-6989586621680548075"><span class="hs-identifier hs-var">rqId</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680548074"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621680548074"><span class="hs-identifier hs-var">evt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Response :: forall i. RequestID -&gt; IterationID -&gt; i -&gt; Response i
</span><a href="Plutus.Contract.Resumable.html#Response"><span class="hs-identifier hs-type">Response</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">rspRqID :: RequestID
</span><a href="Plutus.Contract.Resumable.html#rspRqID"><span class="hs-identifier hs-var">rspRqID</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RequestID
</span><a href="#local-6989586621680548075"><span class="hs-identifier hs-var">rqId</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rspItID :: IterationID
</span><a href="Plutus.Contract.Resumable.html#rspItID"><span class="hs-identifier hs-var">rspItID</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IterationID
</span><a href="#local-6989586621680548076"><span class="hs-identifier hs-var">itId</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rspResponse :: i
</span><a href="Plutus.Contract.Resumable.html#rspResponse"><span class="hs-identifier hs-var">rspResponse</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621680548074"><span class="hs-identifier hs-var">evt</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-207"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(((IterationID, RequestID), i) -&gt; Response i)
-&gt; [((IterationID, RequestID), i)] -&gt; [Response i]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((IterationID, RequestID) -&gt; i -&gt; Response i)
-&gt; ((IterationID, RequestID), i) -&gt; Response i
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">uncurry</span></a></span><span> </span><span class="annot"><span class="annottext">(IterationID, RequestID) -&gt; i -&gt; Response i
forall i. (IterationID, RequestID) -&gt; i -&gt; Response i
</span><a href="#local-6989586621680548077"><span class="hs-identifier hs-var">mkResp</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([((IterationID, RequestID), i)] -&gt; [Response i])
-&gt; (Responses i -&gt; [((IterationID, RequestID), i)])
-&gt; Responses i
-&gt; [Response i]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Map (IterationID, RequestID) i -&gt; [((IterationID, RequestID), i)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">Map.toAscList</span></span><span> </span><span class="annot"><span class="annottext">(Map (IterationID, RequestID) i -&gt; [((IterationID, RequestID), i)])
-&gt; (Responses i -&gt; Map (IterationID, RequestID) i)
-&gt; Responses i
-&gt; [((IterationID, RequestID), i)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Responses i -&gt; Map (IterationID, RequestID) i
forall i. Responses i -&gt; Map (IterationID, RequestID) i
</span><a href="Plutus.Contract.Resumable.html#unResponses"><span class="hs-identifier hs-var hs-var">unResponses</span></a></span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span id="local-6989586621680548070"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680548067"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="#local-6989586621680548070"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Responses"><span class="hs-identifier hs-type">Responses</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548070"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-210"></span><span>    </span><span id="local-6989586621680548066"><span class="annot"><span class="annottext">pretty :: Responses i -&gt; Doc ann
</span><a href="#local-6989586621680548066"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Responses"><span class="hs-identifier hs-type">Responses</span></a></span><span> </span><span id="local-6989586621680548065"><span class="annot"><span class="annottext">Map (IterationID, RequestID) i
</span><a href="#local-6989586621680548065"><span class="hs-identifier hs-var">mp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-211"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680548064"><span class="annot"><span class="annottext">entries :: [((IterationID, RequestID), i)]
</span><a href="#local-6989586621680548064"><span class="hs-identifier hs-var hs-var">entries</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map (IterationID, RequestID) i -&gt; [((IterationID, RequestID), i)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">Map.toList</span></span><span> </span><span class="annot"><span class="annottext">Map (IterationID, RequestID) i
</span><a href="#local-6989586621680548065"><span class="hs-identifier hs-var">mp</span></a></span><span>
</span><span id="line-212"></span><span>            </span><span id="local-6989586621680548062"><span class="annot"><span class="annottext">prettyEntry :: ((a, a), a) -&gt; Doc ann
</span><a href="#local-6989586621680548062"><span class="hs-identifier hs-var hs-var">prettyEntry</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621680548061"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680548061"><span class="hs-identifier hs-var">itID</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548060"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680548060"><span class="hs-identifier hs-var">reqID</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548059"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680548059"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-213"></span><span>                </span><span class="annot"><span class="annottext">Int -&gt; Doc ann -&gt; Doc ann
forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">hang</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;IterationID:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680548061"><span class="hs-identifier hs-var">itID</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;RequestID:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680548060"><span class="hs-identifier hs-var">reqID</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Event:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680548059"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-214"></span><span>        </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((IterationID, RequestID), i) -&gt; Doc ann
forall a a a ann.
(Pretty a, Pretty a, Pretty a) =&gt;
((a, a), a) -&gt; Doc ann
</span><a href="#local-6989586621680548062"><span class="hs-identifier hs-var">prettyEntry</span></a></span><span> </span><span class="annot"><span class="annottext">(((IterationID, RequestID), i) -&gt; Doc ann)
-&gt; [((IterationID, RequestID), i)] -&gt; [Doc ann]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[((IterationID, RequestID), i)]
</span><a href="#local-6989586621680548064"><span class="hs-identifier hs-var">entries</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span class="hs-comment">{- Note [Running resumable programs]

Running 'Resumable' programs involves two stages. First we transform the programs
into ones that use the 'NonDet' and 'Yield' effects that come with
'freer-simple'. Then we interpret the resulting program with 'Reader' and
'State' effects to capture the state of open requests.

#### Stage 1

Stage 1 is implemented in 'handleResumable'. The result is a program that uses
'NonDet' and 'Yield' in a very specific way to implement the resumable
functionality. The reason why we don't say something like @type Resumable effs
= Members '[NonDet, Yield] effs@ instead of the 'Resumable' data type is that
'NonDet' allows for backtracking, which we do not want to expose to the users.

The programs produced by 'handleResumable' have at most one level of
backtracking (to the next call to 'prompt'). There is no 'empty'
constructor (and no 'Alternative' instance for contracts) because the only
thing that can cause backtracking to happen is the provisioning of an answer
to a 'prompt' call from the environment.

#### Stage 2

Stage 2 is implemented in 'suspendNonDet'. Here we handle the 'Yield' and
'NonDet' effects that were introduced in the previous stage. In this stage we
assign two numbers to each request issued by the contract, a 'RequestID' and an
'IterationID'. The request ID is simply a consecutive numbering of every
request that is made during the lifetime of the contract. The iteration ID is
unique for each group of open requests that the contract produces.

Of particular importance is the 'runStep' function, which deals with the
'Status' values that we get from 'runC'. It uses the 'ResumableEffs' effects:

&gt;&gt;&gt; type ResumableEffs i o effs = State IterationID ': NonDet ': State RequestID ': effs

Note that the 'IterationID' state comes before 'NonDet', and the 'RequestID'
state comes after 'NonDet'. This is done so that we increase the 'RequestID'
whenever a request is made, and the 'IterationID' only when a request is
answered.

-}</span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span class="hs-comment">-- Effects that are used to interpret the Yield/NonDet combination</span><span>
</span><span id="line-259"></span><span class="hs-comment">-- produced by 'handleResumable'.</span><span>
</span><span id="line-260"></span><span class="hs-keyword">type</span><span> </span><span id="ResumableEffs"><span class="annot"><a href="Plutus.Contract.Resumable.html#ResumableEffs"><span class="hs-identifier hs-var">ResumableEffs</span></a></span></span><span> </span><span id="local-6989586621680548057"><span class="annot"><a href="#local-6989586621680548057"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621680548056"><span class="annot"><a href="#local-6989586621680548056"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span id="local-6989586621680548055"><span class="annot"><a href="#local-6989586621680548055"><span class="hs-identifier hs-type">effs</span></a></span></span><span> </span><span id="local-6989586621680548054"><span class="annot"><a href="#local-6989586621680548054"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-261"></span><span>    </span><span class="hs-comment">-- anything that comes before 'NonDet' can be backtracked.</span><span>
</span><span id="line-262"></span><span>     </span><span class="annot"><span class="hs-identifier hs-type">NonDet</span></span><span>
</span><span id="line-263"></span><span>     </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><span class="hs-identifier hs-type">State</span></span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#IterationID"><span class="hs-identifier hs-type">IterationID</span></a></span><span>
</span><span id="line-264"></span><span>     </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><span class="hs-identifier hs-type">State</span></span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#RequestID"><span class="hs-identifier hs-type">RequestID</span></a></span><span>
</span><span id="line-265"></span><span>     </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><span class="hs-identifier hs-type">State</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#ReqMap"><span class="hs-identifier hs-type">ReqMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548057"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548056"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548055"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548054"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-266"></span><span>     </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><span class="hs-identifier hs-type">State</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Requests"><span class="hs-identifier hs-type">Requests</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548056"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span>     </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621680548055"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-268"></span><span>
</span><span id="line-269"></span><span class="hs-comment">-- | Interpret the 'Resumable' effect in terms of the 'Yield' and 'NonDet'</span><span>
</span><span id="line-270"></span><span class="hs-comment">--   effects.</span><span>
</span><span id="line-271"></span><span class="annot"><a href="Plutus.Contract.Resumable.html#handleResumable"><span class="hs-identifier hs-type">handleResumable</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-272"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680548053"><span class="annot"><a href="#local-6989586621680548053"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621680548052"><span class="annot"><a href="#local-6989586621680548052"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span id="local-6989586621680548051"><span class="annot"><a href="#local-6989586621680548051"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-273"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Member</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Yield</span></span><span> </span><span class="annot"><a href="#local-6989586621680548052"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548053"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680548051"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-274"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Member</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonDet</span></span><span> </span><span class="annot"><a href="#local-6989586621680548051"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-275"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-276"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eff</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Resumable"><span class="hs-identifier hs-type">Resumable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548053"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548052"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621680548051"><span class="hs-identifier hs-type">effs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-277"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eff</span></span><span> </span><span class="annot"><a href="#local-6989586621680548051"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-278"></span><span id="handleResumable"><span class="annot"><span class="annottext">handleResumable :: Eff (Resumable i o : effs) ~&gt; Eff effs
</span><a href="Plutus.Contract.Resumable.html#handleResumable"><span class="hs-identifier hs-var hs-var">handleResumable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Resumable i o ~&gt; Eff effs)
-&gt; Eff (Resumable i o : effs) ~&gt; Eff effs
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><span class="hs-identifier hs-var">interpret</span></span><span> </span><span class="annot"><span class="annottext">((Resumable i o ~&gt; Eff effs)
 -&gt; Eff (Resumable i o : effs) ~&gt; Eff effs)
-&gt; (Resumable i o ~&gt; Eff effs)
-&gt; Eff (Resumable i o : effs) ~&gt; Eff effs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-279"></span><span>    </span><span class="annot"><a href="Plutus.Contract.Resumable.html#RRequest"><span class="hs-identifier hs-type">RRequest</span></a></span><span> </span><span id="local-6989586621680548049"><span class="annot"><a href="#local-6989586621680548049"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">o -&gt; (x -&gt; x) -&gt; Eff effs x
forall a b (effs :: [* -&gt; *]) c.
Member (Yield a b) effs =&gt;
a -&gt; (b -&gt; c) -&gt; Eff effs c
</span><span class="hs-identifier hs-var">yield</span></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621680548049"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">x -&gt; x
forall a. a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-280"></span><span>    </span><span class="annot"><span class="annottext">Resumable i o x
</span><a href="Plutus.Contract.Resumable.html#RSelect"><span class="hs-identifier hs-var">RSelect</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NonDet Bool -&gt; Eff effs Bool
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><span class="hs-identifier hs-var">send</span></span><span> </span><span class="annot"><span class="annottext">NonDet Bool
</span><span class="hs-identifier hs-var">MPlus</span></span><span>
</span><span id="line-281"></span><span>    </span><span class="annot"><span class="annottext">Resumable i o x
</span><a href="Plutus.Contract.Resumable.html#RZero"><span class="hs-identifier hs-var">RZero</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NonDet x -&gt; Eff effs x
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><span class="hs-identifier hs-var">send</span></span><span> </span><span class="annot"><span class="annottext">NonDet x
forall a. NonDet a
</span><span class="hs-identifier hs-var">MZero</span></span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span class="hs-comment">-- | Status of a suspended 'MultiRequestContinuation'.</span><span>
</span><span id="line-284"></span><span class="hs-keyword">data</span><span> </span><span id="MultiRequestContStatus"><span class="annot"><a href="Plutus.Contract.Resumable.html#MultiRequestContStatus"><span class="hs-identifier hs-var">MultiRequestContStatus</span></a></span></span><span> </span><span id="local-6989586621680548780"><span class="annot"><a href="#local-6989586621680548780"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621680548779"><span class="annot"><a href="#local-6989586621680548779"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span id="local-6989586621680548778"><span class="annot"><a href="#local-6989586621680548778"><span class="hs-identifier hs-type">effs</span></a></span></span><span> </span><span id="local-6989586621680548777"><span class="annot"><a href="#local-6989586621680548777"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-285"></span><span>    </span><span class="hs-comment">-- | Done</span><span>
</span><span id="line-286"></span><span>    </span><span id="AResult"><span class="annot"><a href="Plutus.Contract.Resumable.html#AResult"><span class="hs-identifier hs-var">AResult</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680548777"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-287"></span><span>     </span><span class="hs-comment">-- | Waiting for inputs</span><span>
</span><span id="line-288"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="AContinuation"><span class="annot"><a href="Plutus.Contract.Resumable.html#AContinuation"><span class="hs-identifier hs-var">AContinuation</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#MultiRequestContinuation"><span class="hs-identifier hs-type">MultiRequestContinuation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548780"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548779"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548778"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548777"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span>
</span><span id="line-290"></span><span class="hs-comment">-- | A continuation that accepts a response to one of several requests.</span><span>
</span><span id="line-291"></span><span class="hs-keyword">data</span><span> </span><span id="MultiRequestContinuation"><span class="annot"><a href="Plutus.Contract.Resumable.html#MultiRequestContinuation"><span class="hs-identifier hs-var">MultiRequestContinuation</span></a></span></span><span> </span><span id="local-6989586621680548776"><span class="annot"><a href="#local-6989586621680548776"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621680548774"><span class="annot"><a href="#local-6989586621680548774"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span id="local-6989586621680548775"><span class="annot"><a href="#local-6989586621680548775"><span class="hs-identifier hs-type">effs</span></a></span></span><span> </span><span id="local-6989586621680548773"><span class="annot"><a href="#local-6989586621680548773"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-292"></span><span>    </span><span id="MultiRequestContinuation"><span class="annot"><a href="Plutus.Contract.Resumable.html#MultiRequestContinuation"><span class="hs-identifier hs-var">MultiRequestContinuation</span></a></span></span><span>
</span><span id="line-293"></span><span>        </span><span class="hs-special">{</span><span> </span><span id="ndcCont"><span class="annot"><span class="annottext">MultiRequestContinuation i o effs a
-&gt; Response i
-&gt; Eff effs (Maybe (MultiRequestContStatus i o effs a))
</span><a href="Plutus.Contract.Resumable.html#ndcCont"><span class="hs-identifier hs-var hs-var">ndcCont</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Response"><span class="hs-identifier hs-type">Response</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548776"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eff</span></span><span> </span><span class="annot"><a href="#local-6989586621680548775"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#MultiRequestContStatus"><span class="hs-identifier hs-type">MultiRequestContStatus</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548776"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548774"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548775"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548773"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ Continuation for the response</span><span>
</span><span id="line-294"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="ndcRequests"><span class="annot"><span class="annottext">MultiRequestContinuation i o effs a -&gt; Requests o
</span><a href="Plutus.Contract.Resumable.html#ndcRequests"><span class="hs-identifier hs-var hs-var">ndcRequests</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Requests"><span class="hs-identifier hs-type">Requests</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548774"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-comment">-- ^ The list of all open requests.</span><span>
</span><span id="line-295"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span class="hs-comment">-- | A map of requests to continuations. For each request, identified by</span><span>
</span><span id="line-298"></span><span class="hs-comment">--   a pair of 'RequestID' and 'IterationID', 'ReqMap' contains the</span><span>
</span><span id="line-299"></span><span class="hs-comment">--   continuation that takes the response to the request.</span><span>
</span><span id="line-300"></span><span class="hs-keyword">newtype</span><span> </span><span id="ReqMap"><span class="annot"><a href="Plutus.Contract.Resumable.html#ReqMap"><span class="hs-identifier hs-var">ReqMap</span></a></span></span><span> </span><span id="local-6989586621680548811"><span class="annot"><a href="#local-6989586621680548811"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621680548810"><span class="annot"><a href="#local-6989586621680548810"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span id="local-6989586621680548809"><span class="annot"><a href="#local-6989586621680548809"><span class="hs-identifier hs-type">effs</span></a></span></span><span> </span><span id="local-6989586621680548808"><span class="annot"><a href="#local-6989586621680548808"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ReqMap"><span class="annot"><a href="Plutus.Contract.Resumable.html#ReqMap"><span class="hs-identifier hs-var">ReqMap</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unReqMap"><span class="annot"><span class="annottext">ReqMap i o effs a
-&gt; Map
     (RequestID, IterationID) (i -&gt; Eff (ResumableEffs i o effs a) a)
</span><a href="Plutus.Contract.Resumable.html#unReqMap"><span class="hs-identifier hs-var hs-var">unReqMap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#RequestID"><span class="hs-identifier hs-type">RequestID</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#IterationID"><span class="hs-identifier hs-type">IterationID</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680548811"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eff</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#ResumableEffs"><span class="hs-identifier hs-type">ResumableEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548811"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548810"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548809"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548808"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680548808"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span id="local-6989586621680548754"><span id="local-6989586621680548755"><span id="local-6989586621680548756"><span id="local-6989586621680548757"><span class="annot"><a href="Plutus.Contract.Resumable.html#insertRequest"><span class="hs-identifier hs-type">insertRequest</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#RequestID"><span class="hs-identifier hs-type">RequestID</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#IterationID"><span class="hs-identifier hs-type">IterationID</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680548757"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eff</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#ResumableEffs"><span class="hs-identifier hs-type">ResumableEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548757"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548756"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548755"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548754"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680548754"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#ReqMap"><span class="hs-identifier hs-type">ReqMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548757"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548756"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548755"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548754"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#ReqMap"><span class="hs-identifier hs-type">ReqMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548757"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548756"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548755"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548754"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-303"></span><span id="insertRequest"><span class="annot"><span class="annottext">insertRequest :: (RequestID, IterationID)
-&gt; (i -&gt; Eff (ResumableEffs i o effs a) a)
-&gt; ReqMap i o effs a
-&gt; ReqMap i o effs a
</span><a href="Plutus.Contract.Resumable.html#insertRequest"><span class="hs-identifier hs-var hs-var">insertRequest</span></a></span></span><span> </span><span id="local-6989586621680548036"><span class="annot"><span class="annottext">(RequestID, IterationID)
</span><a href="#local-6989586621680548036"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621680548035"><span class="annot"><span class="annottext">i -&gt; Eff (ResumableEffs i o effs a) a
</span><a href="#local-6989586621680548035"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map
  (RequestID, IterationID) (i -&gt; Eff (ResumableEffs i o effs a) a)
-&gt; ReqMap i o effs a
forall i o (effs :: [* -&gt; *]) a.
Map
  (RequestID, IterationID) (i -&gt; Eff (ResumableEffs i o effs a) a)
-&gt; ReqMap i o effs a
</span><a href="Plutus.Contract.Resumable.html#ReqMap"><span class="hs-identifier hs-var">ReqMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Map
   (RequestID, IterationID) (i -&gt; Eff (ResumableEffs i o effs a) a)
 -&gt; ReqMap i o effs a)
-&gt; (ReqMap i o effs a
    -&gt; Map
         (RequestID, IterationID) (i -&gt; Eff (ResumableEffs i o effs a) a))
-&gt; ReqMap i o effs a
-&gt; ReqMap i o effs a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(RequestID, IterationID)
-&gt; (i -&gt; Eff (ResumableEffs i o effs a) a)
-&gt; Map
     (RequestID, IterationID) (i -&gt; Eff (ResumableEffs i o effs a) a)
-&gt; Map
     (RequestID, IterationID) (i -&gt; Eff (ResumableEffs i o effs a) a)
forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><span class="hs-identifier hs-var">Map.insert</span></span><span> </span><span class="annot"><span class="annottext">(RequestID, IterationID)
</span><a href="#local-6989586621680548036"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; Eff (ResumableEffs i o effs a) a
</span><a href="#local-6989586621680548035"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">(Map
   (RequestID, IterationID) (i -&gt; Eff (ResumableEffs i o effs a) a)
 -&gt; Map
      (RequestID, IterationID) (i -&gt; Eff (ResumableEffs i o effs a) a))
-&gt; (ReqMap i o effs a
    -&gt; Map
         (RequestID, IterationID) (i -&gt; Eff (ResumableEffs i o effs a) a))
-&gt; ReqMap i o effs a
-&gt; Map
     (RequestID, IterationID) (i -&gt; Eff (ResumableEffs i o effs a) a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ReqMap i o effs a
-&gt; Map
     (RequestID, IterationID) (i -&gt; Eff (ResumableEffs i o effs a) a)
forall i o (effs :: [* -&gt; *]) a.
ReqMap i o effs a
-&gt; Map
     (RequestID, IterationID) (i -&gt; Eff (ResumableEffs i o effs a) a)
</span><a href="Plutus.Contract.Resumable.html#unReqMap"><span class="hs-identifier hs-var hs-var">unReqMap</span></a></span><span>
</span><span id="line-304"></span><span>
</span><span id="line-305"></span><span class="hs-comment">-- | Handle the 'ResumableEffs' effects, returning a new suspended</span><span>
</span><span id="line-306"></span><span class="hs-comment">--   computation.</span><span>
</span><span id="line-307"></span><span class="annot"><a href="Plutus.Contract.Resumable.html#runSuspInt"><span class="hs-identifier hs-type">runSuspInt</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-308"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680548747"><span class="annot"><a href="#local-6989586621680548747"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621680548746"><span class="annot"><a href="#local-6989586621680548746"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span id="local-6989586621680548744"><span class="annot"><a href="#local-6989586621680548744"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621680548745"><span class="annot"><a href="#local-6989586621680548745"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-309"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Eff</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#ResumableEffs"><span class="hs-identifier hs-type">ResumableEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548747"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548746"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548745"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548744"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680548744"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-310"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eff</span></span><span> </span><span class="annot"><a href="#local-6989586621680548745"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#MultiRequestContStatus"><span class="hs-identifier hs-type">MultiRequestContStatus</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548747"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548746"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548745"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548744"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-311"></span><span id="runSuspInt"><span class="annot"><span class="annottext">runSuspInt :: Eff (ResumableEffs i o effs a) a
-&gt; Eff effs (Maybe (MultiRequestContStatus i o effs a))
</span><a href="Plutus.Contract.Resumable.html#runSuspInt"><span class="hs-identifier hs-var hs-var">runSuspInt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IterationID
-&gt; Eff (ResumableEffs i o effs a) a
-&gt; Eff effs (Maybe (MultiRequestContStatus i o effs a))
</span><a href="#local-6989586621680548032"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">IterationID
</span><span class="hs-number">1</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-312"></span><span>    </span><span id="local-6989586621680548032"><span class="annot"><span class="annottext">go :: IterationID
-&gt; Eff (ResumableEffs i o effs a) a
-&gt; Eff effs (Maybe (MultiRequestContStatus i o effs a))
</span><a href="#local-6989586621680548032"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621680548031"><span class="annot"><span class="annottext">IterationID
</span><a href="#local-6989586621680548031"><span class="hs-identifier hs-var">currentIteration</span></a></span></span><span> </span><span id="local-6989586621680548030"><span class="annot"><span class="annottext">Eff (ResumableEffs i o effs a) a
</span><a href="#local-6989586621680548030"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-313"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680548029"><span class="annot"><span class="annottext">suspMap :: ReqMap i o effs a
</span><a href="#local-6989586621680548029"><span class="hs-identifier hs-var hs-var">suspMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map
  (RequestID, IterationID) (i -&gt; Eff (ResumableEffs i o effs a) a)
-&gt; ReqMap i o effs a
forall i o (effs :: [* -&gt; *]) a.
Map
  (RequestID, IterationID) (i -&gt; Eff (ResumableEffs i o effs a) a)
-&gt; ReqMap i o effs a
</span><a href="Plutus.Contract.Resumable.html#ReqMap"><span class="hs-identifier hs-var">ReqMap</span></a></span><span> </span><span class="annot"><span class="annottext">Map
  (RequestID, IterationID) (i -&gt; Eff (ResumableEffs i o effs a) a)
forall k a. Map k a
</span><span class="hs-identifier hs-var">Map.empty</span></span><span> </span><span class="hs-comment">-- start with a fresh map in every step to make sure that the old continuations are discarded</span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span>        </span><span class="hs-comment">-- handle the @ResumableEffs@ effects to get the result or</span><span>
</span><span id="line-316"></span><span>        </span><span class="hs-comment">-- the @ReqMap@ with continuations for the next response.</span><span>
</span><span id="line-317"></span><span>        </span><span id="local-6989586621680548027"><span class="annot"><span class="annottext">(((Maybe a, IterationID), ReqMap i o effs a), Requests o)
</span><a href="#local-6989586621680548027"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Requests o
-&gt; Eff
     (State (Requests o) : effs)
     ((Maybe a, IterationID), ReqMap i o effs a)
-&gt; Eff
     effs (((Maybe a, IterationID), ReqMap i o effs a), Requests o)
forall s (effs :: [* -&gt; *]) a.
s -&gt; Eff (State s : effs) a -&gt; Eff effs (a, s)
</span><span class="hs-identifier hs-var">runState</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Requests"><span class="hs-identifier hs-type">Requests</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548746"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Requests o
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-318"></span><span>                    </span><span class="annot"><span class="annottext">(Eff
   (State (Requests o) : effs)
   ((Maybe a, IterationID), ReqMap i o effs a)
 -&gt; Eff
      effs (((Maybe a, IterationID), ReqMap i o effs a), Requests o))
-&gt; Eff
     (State (Requests o) : effs)
     ((Maybe a, IterationID), ReqMap i o effs a)
-&gt; Eff
     effs (((Maybe a, IterationID), ReqMap i o effs a), Requests o)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ReqMap i o effs a
-&gt; Eff
     (State (ReqMap i o effs a) : State (Requests o) : effs)
     (Maybe a, IterationID)
-&gt; Eff
     (State (Requests o) : effs)
     ((Maybe a, IterationID), ReqMap i o effs a)
forall s (effs :: [* -&gt; *]) a.
s -&gt; Eff (State s : effs) a -&gt; Eff effs (a, s)
</span><span class="hs-identifier hs-var">runState</span></span><span> </span><span class="annot"><span class="annottext">ReqMap i o effs a
forall i o (effs :: [* -&gt; *]) a. ReqMap i o effs a
</span><a href="#local-6989586621680548029"><span class="hs-identifier hs-var">suspMap</span></a></span><span>
</span><span id="line-319"></span><span>                    </span><span class="annot"><span class="annottext">(Eff
   (State (ReqMap i o effs a) : State (Requests o) : effs)
   (Maybe a, IterationID)
 -&gt; Eff
      (State (Requests o) : effs)
      ((Maybe a, IterationID), ReqMap i o effs a))
-&gt; Eff
     (State (ReqMap i o effs a) : State (Requests o) : effs)
     (Maybe a, IterationID)
-&gt; Eff
     (State (Requests o) : effs)
     ((Maybe a, IterationID), ReqMap i o effs a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RequestID
-&gt; Eff
     (State RequestID
        : State (ReqMap i o effs a) : State (Requests o) : effs)
     (Maybe a, IterationID)
-&gt; Eff
     (State (ReqMap i o effs a) : State (Requests o) : effs)
     (Maybe a, IterationID)
forall s (effs :: [* -&gt; *]) a.
s -&gt; Eff (State s : effs) a -&gt; Eff effs a
</span><span class="hs-identifier hs-var">evalState</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Natural -&gt; RequestID
</span><a href="Plutus.Contract.Resumable.html#RequestID"><span class="hs-identifier hs-var">RequestID</span></a></span><span> </span><span class="annot"><span class="annottext">Natural
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span>                    </span><span class="annot"><span class="annottext">(Eff
   (State RequestID
      : State (ReqMap i o effs a) : State (Requests o) : effs)
   (Maybe a, IterationID)
 -&gt; Eff
      (State (ReqMap i o effs a) : State (Requests o) : effs)
      (Maybe a, IterationID))
-&gt; Eff
     (State RequestID
        : State (ReqMap i o effs a) : State (Requests o) : effs)
     (Maybe a, IterationID)
-&gt; Eff
     (State (ReqMap i o effs a) : State (Requests o) : effs)
     (Maybe a, IterationID)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IterationID
-&gt; Eff
     (State IterationID
        : State RequestID : State (ReqMap i o effs a) : State (Requests o)
        : effs)
     (Maybe a)
-&gt; Eff
     (State RequestID
        : State (ReqMap i o effs a) : State (Requests o) : effs)
     (Maybe a, IterationID)
forall s (effs :: [* -&gt; *]) a.
s -&gt; Eff (State s : effs) a -&gt; Eff effs (a, s)
</span><span class="hs-identifier hs-var">runState</span></span><span> </span><span class="annot"><span class="annottext">IterationID
</span><a href="#local-6989586621680548031"><span class="hs-identifier hs-var">currentIteration</span></a></span><span>
</span><span id="line-321"></span><span>                    </span><span class="annot"><span class="annottext">(Eff
   (State IterationID
      : State RequestID : State (ReqMap i o effs a) : State (Requests o)
      : effs)
   (Maybe a)
 -&gt; Eff
      (State RequestID
         : State (ReqMap i o effs a) : State (Requests o) : effs)
      (Maybe a, IterationID))
-&gt; Eff
     (State IterationID
        : State RequestID : State (ReqMap i o effs a) : State (Requests o)
        : effs)
     (Maybe a)
-&gt; Eff
     (State RequestID
        : State (ReqMap i o effs a) : State (Requests o) : effs)
     (Maybe a, IterationID)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]) a.
Alternative Maybe =&gt;
Eff (NonDet : effs) a -&gt; Eff effs (Maybe a)
forall (f :: * -&gt; *) (effs :: [* -&gt; *]) a.
Alternative f =&gt;
Eff (NonDet : effs) a -&gt; Eff effs (f a)
</span><span class="hs-identifier hs-var">makeChoiceA</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span>
</span><span id="line-322"></span><span>                    </span><span class="annot"><span class="annottext">(Eff (ResumableEffs i o effs a) a
 -&gt; Eff
      (State IterationID
         : State RequestID : State (ReqMap i o effs a) : State (Requests o)
         : effs)
      (Maybe a))
-&gt; Eff (ResumableEffs i o effs a) a
-&gt; Eff
     (State IterationID
        : State RequestID : State (ReqMap i o effs a) : State (Requests o)
        : effs)
     (Maybe a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (ResumableEffs i o effs a) a
</span><a href="#local-6989586621680548030"><span class="hs-identifier hs-var">action</span></a></span><span>
</span><span id="line-323"></span><span>        </span><span class="hs-keyword">case</span><span>  </span><span class="annot"><span class="annottext">(((Maybe a, IterationID), ReqMap i o effs a), Requests o)
</span><a href="#local-6989586621680548027"><span class="hs-identifier hs-var">result</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-324"></span><span>            </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548023"><span class="annot"><span class="annottext">IterationID
</span><a href="#local-6989586621680548023"><span class="hs-identifier hs-var">it</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#ReqMap"><span class="hs-identifier hs-type">ReqMap</span></a></span><span> </span><span id="local-6989586621680548022"><span class="annot"><span class="annottext">Map
  (RequestID, IterationID) (i -&gt; Eff (ResumableEffs i o effs a) a)
</span><a href="#local-6989586621680548022"><span class="hs-identifier hs-var">mp</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548021"><span class="annot"><span class="annottext">Requests o
</span><a href="#local-6989586621680548021"><span class="hs-identifier hs-var">rqs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-325"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680548020"><span class="annot"><span class="annottext">k :: Response i -&gt; Eff effs (Maybe (MultiRequestContStatus i o effs a))
</span><a href="#local-6989586621680548020"><span class="hs-identifier hs-var hs-var">k</span></a></span></span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Response"><span class="hs-identifier hs-type">Response</span></a></span><span class="hs-special">{</span><span id="local-6989586621680548019"><span class="annot"><span class="annottext">RequestID
rspRqID :: RequestID
rspRqID :: forall i. Response i -&gt; RequestID
</span><a href="#local-6989586621680548019"><span class="hs-identifier hs-var hs-var">rspRqID</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548018"><span class="annot"><span class="annottext">IterationID
rspItID :: IterationID
rspItID :: forall i. Response i -&gt; IterationID
</span><a href="#local-6989586621680548018"><span class="hs-identifier hs-var hs-var">rspItID</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680548017"><span class="annot"><span class="annottext">i
rspResponse :: i
rspResponse :: forall i. Response i -&gt; i
</span><a href="#local-6989586621680548017"><span class="hs-identifier hs-var hs-var">rspResponse</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-326"></span><span>                        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(RequestID, IterationID)
-&gt; Map
     (RequestID, IterationID) (i -&gt; Eff (ResumableEffs i o effs a) a)
-&gt; Maybe (i -&gt; Eff (ResumableEffs i o effs a) a)
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RequestID
</span><a href="#local-6989586621680548019"><span class="hs-identifier hs-var">rspRqID</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IterationID
</span><a href="#local-6989586621680548018"><span class="hs-identifier hs-var">rspItID</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map
  (RequestID, IterationID) (i -&gt; Eff (ResumableEffs i o effs a) a)
</span><a href="#local-6989586621680548022"><span class="hs-identifier hs-var">mp</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-327"></span><span>                            </span><span class="annot"><span class="annottext">Maybe (i -&gt; Eff (ResumableEffs i o effs a) a)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (MultiRequestContStatus i o effs a)
-&gt; Eff effs (Maybe (MultiRequestContStatus i o effs a))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (MultiRequestContStatus i o effs a)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-328"></span><span>                            </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680548015"><span class="annot"><span class="annottext">i -&gt; Eff (ResumableEffs i o effs a) a
</span><a href="#local-6989586621680548015"><span class="hs-identifier hs-var">k'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-329"></span><span>                                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680548014"><span class="annot"><span class="annottext">nextIteration :: IterationID
</span><a href="#local-6989586621680548014"><span class="hs-identifier hs-var hs-var">nextIteration</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IterationID -&gt; IterationID
forall a. Enum a =&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">succ</span></a></span><span> </span><span class="annot"><span class="annottext">IterationID
</span><a href="#local-6989586621680548023"><span class="hs-identifier hs-var">it</span></a></span><span>
</span><span id="line-330"></span><span>                                </span><span class="annot"><span class="annottext">IterationID
-&gt; Eff (ResumableEffs i o effs a) a
-&gt; Eff effs (Maybe (MultiRequestContStatus i o effs a))
</span><a href="#local-6989586621680548032"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">IterationID
</span><a href="#local-6989586621680548014"><span class="hs-identifier hs-var">nextIteration</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i -&gt; Eff (ResumableEffs i o effs a) a
</span><a href="#local-6989586621680548015"><span class="hs-identifier hs-var">k'</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621680548017"><span class="hs-identifier hs-var">rspResponse</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-331"></span><span>                </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Maybe (MultiRequestContStatus i o effs a)
-&gt; Eff effs (Maybe (MultiRequestContStatus i o effs a))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (MultiRequestContStatus i o effs a)
 -&gt; Eff effs (Maybe (MultiRequestContStatus i o effs a)))
-&gt; Maybe (MultiRequestContStatus i o effs a)
-&gt; Eff effs (Maybe (MultiRequestContStatus i o effs a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MultiRequestContStatus i o effs a
-&gt; Maybe (MultiRequestContStatus i o effs a)
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(MultiRequestContStatus i o effs a
 -&gt; Maybe (MultiRequestContStatus i o effs a))
-&gt; MultiRequestContStatus i o effs a
-&gt; Maybe (MultiRequestContStatus i o effs a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MultiRequestContinuation i o effs a
-&gt; MultiRequestContStatus i o effs a
forall i o (effs :: [* -&gt; *]) a.
MultiRequestContinuation i o effs a
-&gt; MultiRequestContStatus i o effs a
</span><a href="Plutus.Contract.Resumable.html#AContinuation"><span class="hs-identifier hs-var">AContinuation</span></a></span><span> </span><span class="annot"><span class="annottext">(MultiRequestContinuation i o effs a
 -&gt; MultiRequestContStatus i o effs a)
-&gt; MultiRequestContinuation i o effs a
-&gt; MultiRequestContStatus i o effs a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MultiRequestContinuation :: forall i o (effs :: [* -&gt; *]) a.
(Response i
 -&gt; Eff effs (Maybe (MultiRequestContStatus i o effs a)))
-&gt; Requests o -&gt; MultiRequestContinuation i o effs a
</span><a href="Plutus.Contract.Resumable.html#MultiRequestContinuation"><span class="hs-identifier hs-type">MultiRequestContinuation</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ndcCont :: Response i -&gt; Eff effs (Maybe (MultiRequestContStatus i o effs a))
</span><a href="Plutus.Contract.Resumable.html#ndcCont"><span class="hs-identifier hs-var">ndcCont</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Response i -&gt; Eff effs (Maybe (MultiRequestContStatus i o effs a))
</span><a href="#local-6989586621680548020"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ndcRequests :: Requests o
</span><a href="Plutus.Contract.Resumable.html#ndcRequests"><span class="hs-identifier hs-var">ndcRequests</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Requests o
</span><a href="#local-6989586621680548021"><span class="hs-identifier hs-var">rqs</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-332"></span><span>            </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680548012"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680548012"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IterationID
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ReqMap i o effs a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Requests o
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (MultiRequestContStatus i o effs a)
-&gt; Eff effs (Maybe (MultiRequestContStatus i o effs a))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (MultiRequestContStatus i o effs a)
 -&gt; Eff effs (Maybe (MultiRequestContStatus i o effs a)))
-&gt; Maybe (MultiRequestContStatus i o effs a)
-&gt; Eff effs (Maybe (MultiRequestContStatus i o effs a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MultiRequestContStatus i o effs a
-&gt; Maybe (MultiRequestContStatus i o effs a)
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(MultiRequestContStatus i o effs a
 -&gt; Maybe (MultiRequestContStatus i o effs a))
-&gt; MultiRequestContStatus i o effs a
-&gt; Maybe (MultiRequestContStatus i o effs a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; MultiRequestContStatus i o effs a
forall i o (effs :: [* -&gt; *]) a.
a -&gt; MultiRequestContStatus i o effs a
</span><a href="Plutus.Contract.Resumable.html#AResult"><span class="hs-identifier hs-var">AResult</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680548012"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-333"></span><span>
</span><span id="line-334"></span><span class="hs-comment">-- | Given the status of a suspended computation, either</span><span>
</span><span id="line-335"></span><span class="hs-comment">--   return the result or record the request and store</span><span>
</span><span id="line-336"></span><span class="hs-comment">--   the continuation in the 'ReqMap'</span><span>
</span><span id="line-337"></span><span class="annot"><a href="Plutus.Contract.Resumable.html#runStep"><span class="hs-identifier hs-type">runStep</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-338"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680548763"><span class="annot"><a href="#local-6989586621680548763"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621680548762"><span class="annot"><a href="#local-6989586621680548762"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span id="local-6989586621680548760"><span class="annot"><a href="#local-6989586621680548760"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621680548761"><span class="annot"><a href="#local-6989586621680548761"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-339"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Status</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#ResumableEffs"><span class="hs-identifier hs-type">ResumableEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548763"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548762"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548761"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548760"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680548762"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548763"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548760"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-340"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eff</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#ResumableEffs"><span class="hs-identifier hs-type">ResumableEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548763"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548762"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548761"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548760"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680548760"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-341"></span><span id="runStep"><span class="annot"><span class="annottext">runStep :: Status (ResumableEffs i o effs a) o i a
-&gt; Eff (ResumableEffs i o effs a) a
</span><a href="Plutus.Contract.Resumable.html#runStep"><span class="hs-identifier hs-var hs-var">runStep</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-342"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Done</span></span><span> </span><span id="local-6989586621680548009"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680548009"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Eff (ResumableEffs i o effs a) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680548009"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-343"></span><span>
</span><span id="line-344"></span><span>    </span><span class="hs-comment">-- We have reached a point where we need more input.</span><span>
</span><span id="line-345"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Continue</span></span><span> </span><span id="local-6989586621680548007"><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621680548007"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621680548006"><span class="annot"><span class="annottext">i
-&gt; Eff
     (ResumableEffs i o effs a)
     (Status (ResumableEffs i o effs a) o i a)
</span><a href="#local-6989586621680548006"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-346"></span><span>
</span><span id="line-347"></span><span>        </span><span class="hs-comment">-- Store the request @o@ and get the keys identifying it</span><span>
</span><span id="line-348"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621680548005"><span class="annot"><span class="annottext">IterationID
</span><a href="#local-6989586621680548005"><span class="hs-identifier hs-var">iid</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680548004"><span class="annot"><span class="annottext">RequestID
</span><a href="#local-6989586621680548004"><span class="hs-identifier hs-var">nid</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">o -&gt; Eff (ResumableEffs i o effs a) (IterationID, RequestID)
forall o (effs :: [* -&gt; *]).
(Member (State (Requests o)) effs, Member (State IterationID) effs,
 Member (State RequestID) effs) =&gt;
o -&gt; Eff effs (IterationID, RequestID)
</span><a href="Plutus.Contract.Resumable.html#nextRequestID"><span class="hs-identifier hs-var">nextRequestID</span></a></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621680548007"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-349"></span><span>
</span><span id="line-350"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680548002"><span class="annot"><span class="annottext">onResponse :: i -&gt; Eff (ResumableEffs i o effs a) a
</span><a href="#local-6989586621680548002"><span class="hs-identifier hs-var hs-var">onResponse</span></a></span></span><span> </span><span id="local-6989586621680548001"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621680548001"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-351"></span><span>                </span><span class="hs-comment">-- when we get a response @i@, we</span><span>
</span><span id="line-352"></span><span>
</span><span id="line-353"></span><span>                </span><span class="hs-comment">-- clear the requests,</span><span>
</span><span id="line-354"></span><span>                </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (State (Requests o)) effs =&gt;
Eff effs ()
forall o (effs :: [* -&gt; *]).
Member (State (Requests o)) effs =&gt;
Eff effs ()
</span><a href="Plutus.Contract.Resumable.html#clearRequests"><span class="hs-identifier hs-var">clearRequests</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680548762"><span class="hs-identifier hs-type">o</span></a></span><span>
</span><span id="line-355"></span><span>
</span><span id="line-356"></span><span>                </span><span class="hs-comment">-- compute the next 'Status'</span><span>
</span><span id="line-357"></span><span>                </span><span id="local-6989586621680547999"><span class="annot"><span class="annottext">Status (ResumableEffs i o effs a) o i a
</span><a href="#local-6989586621680547999"><span class="hs-identifier hs-var">status</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Status</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#ResumableEffs"><span class="hs-identifier hs-type">ResumableEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548763"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548762"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548761"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548760"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680548762"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548763"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548760"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">i
-&gt; Eff
     (ResumableEffs i o effs a)
     (Status (ResumableEffs i o effs a) o i a)
</span><a href="#local-6989586621680548006"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621680548001"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span>                </span><span class="hs-comment">-- repeat</span><span>
</span><span id="line-360"></span><span>                </span><span class="annot"><span class="annottext">Status (ResumableEffs i o effs a) o i a
-&gt; Eff (ResumableEffs i o effs a) a
forall i o a (effs :: [* -&gt; *]).
Status (ResumableEffs i o effs a) o i a
-&gt; Eff (ResumableEffs i o effs a) a
</span><a href="Plutus.Contract.Resumable.html#runStep"><span class="hs-identifier hs-var">runStep</span></a></span><span> </span><span class="annot"><span class="annottext">Status (ResumableEffs i o effs a) o i a
</span><a href="#local-6989586621680547999"><span class="hs-identifier hs-var">status</span></a></span><span>
</span><span id="line-361"></span><span>
</span><span id="line-362"></span><span>        </span><span class="annot"><span class="annottext">(ReqMap i o effs a -&gt; ReqMap i o effs a)
-&gt; Eff (ResumableEffs i o effs a) ()
forall s (effs :: [* -&gt; *]).
Member (State s) effs =&gt;
(s -&gt; s) -&gt; Eff effs ()
</span><span class="hs-identifier hs-var">modify</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#ReqMap"><span class="hs-identifier hs-type">ReqMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548763"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548762"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548761"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548760"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(RequestID, IterationID)
-&gt; (i -&gt; Eff (ResumableEffs i o effs a) a)
-&gt; ReqMap i o effs a
-&gt; ReqMap i o effs a
forall i o (effs :: [* -&gt; *]) a.
(RequestID, IterationID)
-&gt; (i -&gt; Eff (ResumableEffs i o effs a) a)
-&gt; ReqMap i o effs a
-&gt; ReqMap i o effs a
</span><a href="Plutus.Contract.Resumable.html#insertRequest"><span class="hs-identifier hs-var">insertRequest</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RequestID
</span><a href="#local-6989586621680548004"><span class="hs-identifier hs-var">nid</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IterationID
</span><a href="#local-6989586621680548005"><span class="hs-identifier hs-var">iid</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">i -&gt; Eff (ResumableEffs i o effs a) a
</span><a href="#local-6989586621680548002"><span class="hs-identifier hs-var">onResponse</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span>        </span><span class="hs-comment">-- Stop evaluating this branch. We can resume it later by running</span><span>
</span><span id="line-365"></span><span>        </span><span class="hs-comment">-- the continuation associated with @(iid, nid)@ in the @ReqMap@.</span><span>
</span><span id="line-366"></span><span>        </span><span class="annot"><span class="annottext">Eff (ResumableEffs i o effs a) a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-367"></span><span>
</span><span id="line-368"></span><span class="hs-comment">-- | Interpret 'Yield' as a prompt-type effect using 'NonDet' to</span><span>
</span><span id="line-369"></span><span class="hs-comment">--   branch out and choose a branch, and the 'State' effects to</span><span>
</span><span id="line-370"></span><span class="hs-comment">--   keep track of request IDs.</span><span>
</span><span id="line-371"></span><span class="annot"><a href="Plutus.Contract.Resumable.html#suspendNonDet"><span class="hs-identifier hs-type">suspendNonDet</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-372"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680547996"><span class="annot"><a href="#local-6989586621680547996"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621680547995"><span class="annot"><a href="#local-6989586621680547995"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span id="local-6989586621680547994"><span class="annot"><a href="#local-6989586621680547994"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621680547993"><span class="annot"><a href="#local-6989586621680547993"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-373"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Eff</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Yield</span></span><span> </span><span class="annot"><a href="#local-6989586621680547995"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680547996"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#ResumableEffs"><span class="hs-identifier hs-type">ResumableEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680547996"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680547995"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680547993"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680547994"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680547994"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-374"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eff</span></span><span> </span><span class="annot"><a href="#local-6989586621680547993"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#MultiRequestContStatus"><span class="hs-identifier hs-type">MultiRequestContStatus</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680547996"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680547995"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680547993"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680547994"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-375"></span><span id="suspendNonDet"><span class="annot"><span class="annottext">suspendNonDet :: Eff (Yield o i : ResumableEffs i o effs a) a
-&gt; Eff effs (Maybe (MultiRequestContStatus i o effs a))
</span><a href="Plutus.Contract.Resumable.html#suspendNonDet"><span class="hs-identifier hs-var hs-var">suspendNonDet</span></a></span></span><span> </span><span id="local-6989586621680547992"><span class="annot"><span class="annottext">Eff (Yield o i : ResumableEffs i o effs a) a
</span><a href="#local-6989586621680547992"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Eff (ResumableEffs i o effs a) a
-&gt; Eff effs (Maybe (MultiRequestContStatus i o effs a))
forall i o a (effs :: [* -&gt; *]).
Eff (ResumableEffs i o effs a) a
-&gt; Eff effs (Maybe (MultiRequestContStatus i o effs a))
</span><a href="Plutus.Contract.Resumable.html#runSuspInt"><span class="hs-identifier hs-var">runSuspInt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Eff (Yield o i : ResumableEffs i o effs a) a
-&gt; Eff
     (ResumableEffs i o effs a)
     (Status (ResumableEffs i o effs a) o i a)
forall a b (effs :: [* -&gt; *]) r.
Eff (Yield a b : effs) r -&gt; Eff effs (Status effs a b r)
</span><span class="hs-identifier hs-var">runC</span></span><span> </span><span class="annot"><span class="annottext">Eff (Yield o i : ResumableEffs i o effs a) a
</span><a href="#local-6989586621680547992"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">Eff
  (ResumableEffs i o effs a)
  (Status (ResumableEffs i o effs a) o i a)
-&gt; (Status (ResumableEffs i o effs a) o i a
    -&gt; Eff (ResumableEffs i o effs a) a)
-&gt; Eff (ResumableEffs i o effs a) a
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Status (ResumableEffs i o effs a) o i a
-&gt; Eff (ResumableEffs i o effs a) a
forall i o a (effs :: [* -&gt; *]).
Status (ResumableEffs i o effs a) o i a
-&gt; Eff (ResumableEffs i o effs a) a
</span><a href="Plutus.Contract.Resumable.html#runStep"><span class="hs-identifier hs-var">runStep</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-376"></span><span>
</span><span id="line-377"></span><span id="local-6989586621680547990"><span class="annot"><a href="Plutus.Contract.Resumable.html#insertResponse"><span class="hs-identifier hs-type">insertResponse</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Response"><span class="hs-identifier hs-type">Response</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680547990"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Responses"><span class="hs-identifier hs-type">Responses</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680547990"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Responses"><span class="hs-identifier hs-type">Responses</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680547990"><span class="hs-identifier hs-type">i</span></a></span></span><span>
</span><span id="line-378"></span><span id="insertResponse"><span class="annot"><span class="annottext">insertResponse :: Response i -&gt; Responses i -&gt; Responses i
</span><a href="Plutus.Contract.Resumable.html#insertResponse"><span class="hs-identifier hs-var hs-var">insertResponse</span></a></span></span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Response"><span class="hs-identifier hs-type">Response</span></a></span><span class="hs-special">{</span><span id="local-6989586621680547989"><span class="annot"><span class="annottext">RequestID
rspRqID :: RequestID
rspRqID :: forall i. Response i -&gt; RequestID
</span><a href="#local-6989586621680547989"><span class="hs-identifier hs-var hs-var">rspRqID</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680547988"><span class="annot"><span class="annottext">IterationID
rspItID :: IterationID
rspItID :: forall i. Response i -&gt; IterationID
</span><a href="#local-6989586621680547988"><span class="hs-identifier hs-var hs-var">rspItID</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680547987"><span class="annot"><span class="annottext">i
rspResponse :: i
rspResponse :: forall i. Response i -&gt; i
</span><a href="#local-6989586621680547987"><span class="hs-identifier hs-var hs-var">rspResponse</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Responses"><span class="hs-identifier hs-type">Responses</span></a></span><span> </span><span id="local-6989586621680547986"><span class="annot"><span class="annottext">Map (IterationID, RequestID) i
</span><a href="#local-6989586621680547986"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-379"></span><span>    </span><span class="annot"><span class="annottext">Map (IterationID, RequestID) i -&gt; Responses i
forall i. Map (IterationID, RequestID) i -&gt; Responses i
</span><a href="Plutus.Contract.Resumable.html#Responses"><span class="hs-identifier hs-var">Responses</span></a></span><span> </span><span class="annot"><span class="annottext">(Map (IterationID, RequestID) i -&gt; Responses i)
-&gt; Map (IterationID, RequestID) i -&gt; Responses i
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(IterationID, RequestID)
-&gt; i
-&gt; Map (IterationID, RequestID) i
-&gt; Map (IterationID, RequestID) i
forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><span class="hs-identifier hs-var">Map.insert</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IterationID
</span><a href="#local-6989586621680547988"><span class="hs-identifier hs-var">rspItID</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RequestID
</span><a href="#local-6989586621680547989"><span class="hs-identifier hs-var">rspRqID</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621680547987"><span class="hs-identifier hs-var">rspResponse</span></a></span><span> </span><span class="annot"><span class="annottext">Map (IterationID, RequestID) i
</span><a href="#local-6989586621680547986"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-380"></span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span class="hs-comment">-- Generate a pair of 'RequestID' and 'IterationID' for</span><span>
</span><span id="line-383"></span><span class="hs-comment">-- the given request @o@. It writes the request, to the</span><span>
</span><span id="line-384"></span><span class="hs-comment">-- 'Requests' state alongside the two identifiers.</span><span>
</span><span id="line-385"></span><span id="local-6989586621680548766"><span id="local-6989586621680548767"><span class="annot"><a href="Plutus.Contract.Resumable.html#nextRequestID"><span class="hs-identifier hs-type">nextRequestID</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-386"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Member</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">State</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Requests"><span class="hs-identifier hs-type">Requests</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548767"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680548766"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-387"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Member</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">State</span></span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#IterationID"><span class="hs-identifier hs-type">IterationID</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680548766"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-388"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Member</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">State</span></span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#RequestID"><span class="hs-identifier hs-type">RequestID</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680548766"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-389"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-390"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680548767"><span class="hs-identifier hs-type">o</span></a></span><span>
</span><span id="line-391"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eff</span></span><span> </span><span class="annot"><a href="#local-6989586621680548766"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#IterationID"><span class="hs-identifier hs-type">IterationID</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#RequestID"><span class="hs-identifier hs-type">RequestID</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-392"></span><span id="nextRequestID"><span class="annot"><span class="annottext">nextRequestID :: o -&gt; Eff effs (IterationID, RequestID)
</span><a href="Plutus.Contract.Resumable.html#nextRequestID"><span class="hs-identifier hs-var hs-var">nextRequestID</span></a></span></span><span> </span><span id="local-6989586621680547985"><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621680547985"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-393"></span><span>    </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Requests"><span class="hs-identifier hs-type">Requests</span></a></span><span class="hs-special">{</span><span id="local-6989586621680547984"><span class="annot"><span class="annottext">[Request o]
unRequests :: [Request o]
unRequests :: forall o. Requests o -&gt; [Request o]
</span><a href="#local-6989586621680547984"><span class="hs-identifier hs-var hs-var">unRequests</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Eff effs (Requests o)
forall s (effs :: [* -&gt; *]). Member (State s) effs =&gt; Eff effs s
</span><span class="hs-identifier hs-var">get</span></span><span>
</span><span id="line-394"></span><span>    </span><span id="local-6989586621680547982"><span class="annot"><span class="annottext">RequestID
</span><a href="#local-6989586621680547982"><span class="hs-identifier hs-var">requestID</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (State RequestID) effs =&gt;
Eff effs RequestID
forall s (effs :: [* -&gt; *]). Member (State s) effs =&gt; Eff effs s
</span><span class="hs-identifier hs-var">get</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.Contract.Resumable.html#RequestID"><span class="hs-identifier hs-type">RequestID</span></a></span><span>
</span><span id="line-395"></span><span>    </span><span id="local-6989586621680547981"><span class="annot"><span class="annottext">IterationID
</span><a href="#local-6989586621680547981"><span class="hs-identifier hs-var">iid</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (State IterationID) effs =&gt;
Eff effs IterationID
forall s (effs :: [* -&gt; *]). Member (State s) effs =&gt; Eff effs s
</span><span class="hs-identifier hs-var">get</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.Contract.Resumable.html#IterationID"><span class="hs-identifier hs-type">IterationID</span></a></span><span>
</span><span id="line-396"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680547980"><span class="annot"><span class="annottext">nid :: RequestID
</span><a href="#local-6989586621680547980"><span class="hs-identifier hs-var hs-var">nid</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RequestID -&gt; RequestID
forall a. Enum a =&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">succ</span></a></span><span> </span><span class="annot"><span class="annottext">RequestID
</span><a href="#local-6989586621680547982"><span class="hs-identifier hs-var">requestID</span></a></span><span>
</span><span id="line-397"></span><span>    </span><span class="annot"><span class="annottext">Requests o -&gt; Eff effs ()
forall s (effs :: [* -&gt; *]).
Member (State s) effs =&gt;
s -&gt; Eff effs ()
</span><span class="hs-identifier hs-var">put</span></span><span> </span><span class="annot"><span class="annottext">(Requests o -&gt; Eff effs ()) -&gt; Requests o -&gt; Eff effs ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Requests :: forall o. [Request o] -&gt; Requests o
</span><a href="Plutus.Contract.Resumable.html#Requests"><span class="hs-identifier hs-type">Requests</span></a></span><span>
</span><span id="line-398"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">unRequests :: [Request o]
</span><a href="Plutus.Contract.Resumable.html#unRequests"><span class="hs-identifier hs-var">unRequests</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Request :: forall o. RequestID -&gt; IterationID -&gt; o -&gt; Request o
</span><a href="Plutus.Contract.Resumable.html#Request"><span class="hs-identifier hs-type">Request</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">rqRequest :: o
</span><a href="Plutus.Contract.Resumable.html#rqRequest"><span class="hs-identifier hs-var">rqRequest</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621680547985"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">rqID :: RequestID
</span><a href="Plutus.Contract.Resumable.html#rqID"><span class="hs-identifier hs-var">rqID</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">RequestID
</span><a href="#local-6989586621680547980"><span class="hs-identifier hs-var">nid</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">itID :: IterationID
</span><a href="Plutus.Contract.Resumable.html#itID"><span class="hs-identifier hs-var">itID</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">IterationID
</span><a href="#local-6989586621680547981"><span class="hs-identifier hs-var">iid</span></a></span><span class="hs-special">}</span><span> </span><span class="annot"><span class="annottext">Request o -&gt; [Request o] -&gt; [Request o]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[Request o]
</span><a href="#local-6989586621680547984"><span class="hs-identifier hs-var">unRequests</span></a></span><span>
</span><span id="line-399"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-400"></span><span>    </span><span class="annot"><span class="annottext">RequestID -&gt; Eff effs ()
forall s (effs :: [* -&gt; *]).
Member (State s) effs =&gt;
s -&gt; Eff effs ()
</span><span class="hs-identifier hs-var">put</span></span><span> </span><span class="annot"><span class="annottext">RequestID
</span><a href="#local-6989586621680547980"><span class="hs-identifier hs-var">nid</span></a></span><span>
</span><span id="line-401"></span><span>    </span><span class="annot"><span class="annottext">(IterationID, RequestID) -&gt; Eff effs (IterationID, RequestID)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IterationID
</span><a href="#local-6989586621680547981"><span class="hs-identifier hs-var">iid</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RequestID
</span><a href="#local-6989586621680547980"><span class="hs-identifier hs-var">nid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-402"></span><span>
</span><span id="line-403"></span><span class="annot"><a href="Plutus.Contract.Resumable.html#clearRequests"><span class="hs-identifier hs-type">clearRequests</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680548764"><span class="annot"><a href="#local-6989586621680548764"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span id="local-6989586621680548765"><span class="annot"><a href="#local-6989586621680548765"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Member</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">State</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Requests"><span class="hs-identifier hs-type">Requests</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548764"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680548765"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eff</span></span><span> </span><span class="annot"><a href="#local-6989586621680548765"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-404"></span><span id="clearRequests"><span class="annot"><span class="annottext">clearRequests :: Eff effs ()
</span><a href="Plutus.Contract.Resumable.html#clearRequests"><span class="hs-identifier hs-var hs-var">clearRequests</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Requests o -&gt; Requests o) -&gt; Eff effs ()
forall s (effs :: [* -&gt; *]).
Member (State s) effs =&gt;
(s -&gt; s) -&gt; Eff effs ()
</span><span class="hs-identifier hs-var">modify</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Requests"><span class="hs-identifier hs-type">Requests</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680548764"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680547978"><span class="annot"><span class="annottext">Requests o
</span><a href="#local-6989586621680547978"><span class="hs-identifier hs-var">rq</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Requests o
</span><a href="#local-6989586621680547978"><span class="hs-identifier hs-var">rq</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">unRequests :: [Request o]
</span><a href="Plutus.Contract.Resumable.html#unRequests"><span class="hs-identifier hs-var">unRequests</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-405"></span></pre></body></html>