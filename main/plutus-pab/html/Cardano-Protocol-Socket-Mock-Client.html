<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Cardano.Protocol.Socket.Mock.Client</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">plutus-pab-1.2.0.0</span><ul class="links" id="page-menu"><li><a href="src/Cardano.Protocol.Socket.Mock.Client.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Cardano.Protocol.Socket.Mock.Client</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This mock client has been used to test the PAB while we had no real node available.
   Since now we do, this will be phased out and eventually removed in favor of the
   <code><a href="Cardano-Protocol-Socket.html#v:Client" title="Cardano.Protocol.Socket">Client</a></code> module which connects to a real cardano node.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">newtype</span> <a href="#t:TxSendHandle">TxSendHandle</a> = <a href="#v:TxSendHandle">TxSendHandle</a> {<ul class="subs"><li><a href="#v:tshQueue">tshQueue</a> :: TQueue (Tx BabbageEra)</li></ul>}</li><li class="src short"><a href="#v:queueTx">queueTx</a> :: <a href="Cardano-Protocol-Socket-Mock-Client.html#t:TxSendHandle" title="Cardano.Protocol.Socket.Mock.Client">TxSendHandle</a> -&gt; Tx BabbageEra -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:getCurrentSlot">getCurrentSlot</a> :: ChainSyncHandle Block -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> Slot</li><li class="src short"><a href="#v:runChainSync-39-">runChainSync'</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; SlotConfig -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (ChainSyncHandle Block)</li><li class="src short"><a href="#v:runChainSync">runChainSync</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; SlotConfig -&gt; (Block -&gt; Slot -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (ChainSyncHandle Block)</li><li class="src short"><a href="#v:chainSyncClient">chainSyncClient</a> :: <span class="keyword">forall</span> block. SlotConfig -&gt; (block -&gt; Slot -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; ChainSyncClient block (Point block) Tip <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:runTxSender">runTxSender</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; NetworkId -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Cardano-Protocol-Socket-Mock-Client.html#t:TxSendHandle" title="Cardano.Protocol.Socket.Mock.Client">TxSendHandle</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:TxSendHandle" class="def">TxSendHandle</a> <a href="src/Cardano.Protocol.Socket.Mock.Client.html#TxSendHandle" class="link">Source</a> <a href="#t:TxSendHandle" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TxSendHandle" class="def">TxSendHandle</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:tshQueue" class="def">tshQueue</a> :: TQueue (Tx BabbageEra)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:queueTx" class="def">queueTx</a> :: <a href="Cardano-Protocol-Socket-Mock-Client.html#t:TxSendHandle" title="Cardano.Protocol.Socket.Mock.Client">TxSendHandle</a> -&gt; Tx BabbageEra -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Cardano.Protocol.Socket.Mock.Client.html#queueTx" class="link">Source</a> <a href="#v:queueTx" class="selflink">#</a></p><div class="doc"><p>Queue a transaction to be sent to the server.</p></div></div><div class="top"><p class="src"><a id="v:getCurrentSlot" class="def">getCurrentSlot</a> :: ChainSyncHandle Block -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> Slot <a href="src/Cardano.Protocol.Socket.Mock.Client.html#getCurrentSlot" class="link">Source</a> <a href="#v:getCurrentSlot" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:runChainSync-39-" class="def">runChainSync'</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; SlotConfig -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (ChainSyncHandle Block) <a href="src/Cardano.Protocol.Socket.Mock.Client.html#runChainSync%27" class="link">Source</a> <a href="#v:runChainSync-39-" class="selflink">#</a></p><div class="doc"><p>Run the chain sync protocol to get access to the current slot number.</p></div></div><div class="top"><p class="src"><a id="v:runChainSync" class="def">runChainSync</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; SlotConfig -&gt; (Block -&gt; Slot -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (ChainSyncHandle Block) <a href="src/Cardano.Protocol.Socket.Mock.Client.html#runChainSync" class="link">Source</a> <a href="#v:runChainSync" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:chainSyncClient" class="def">chainSyncClient</a> :: <span class="keyword">forall</span> block. SlotConfig -&gt; (block -&gt; Slot -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; ChainSyncClient block (Point block) Tip <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Cardano.Protocol.Socket.Mock.Client.html#chainSyncClient" class="link">Source</a> <a href="#v:chainSyncClient" class="selflink">#</a></p><div class="doc"><p>The client updates the application state when the protocol state changes.</p></div></div><div class="top"><p class="src"><a id="v:runTxSender" class="def">runTxSender</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; NetworkId -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Cardano-Protocol-Socket-Mock-Client.html#t:TxSendHandle" title="Cardano.Protocol.Socket.Mock.Client">TxSendHandle</a> <a href="src/Cardano.Protocol.Socket.Mock.Client.html#runTxSender" class="link">Source</a> <a href="#v:runTxSender" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>