<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DeriveAnyClass        #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric         #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DerivingStrategies    #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns        #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE NoImplicitPrelude     #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings     #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE TemplateHaskell       #-}</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-orphans        #-}</span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.Node.Emulator.Internal.Node.TimeSlot</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-13"></span><span>  </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#SlotConfig"><span class="hs-identifier">SlotConfig</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#SlotConversionError"><span class="hs-identifier">SlotConversionError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotRangeToPOSIXTimeRange"><span class="hs-identifier">slotRangeToPOSIXTimeRange</span></a></span><span>
</span><span id="line-16"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotToPOSIXTimeRange"><span class="hs-identifier">slotToPOSIXTimeRange</span></a></span><span>
</span><span id="line-17"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotToBeginPOSIXTime"><span class="hs-identifier">slotToBeginPOSIXTime</span></a></span><span>
</span><span id="line-18"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotToEndPOSIXTime"><span class="hs-identifier">slotToEndPOSIXTime</span></a></span><span>
</span><span id="line-19"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#posixTimeRangeToContainedSlotRange"><span class="hs-identifier">posixTimeRangeToContainedSlotRange</span></a></span><span>
</span><span id="line-20"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#posixTimeToEnclosingSlot"><span class="hs-identifier">posixTimeToEnclosingSlot</span></a></span><span>
</span><span id="line-21"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#currentSlot"><span class="hs-identifier">currentSlot</span></a></span><span>
</span><span id="line-22"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#utcTimeToPOSIXTime"><span class="hs-identifier">utcTimeToPOSIXTime</span></a></span><span>
</span><span id="line-23"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#posixTimeToUTCTime"><span class="hs-identifier">posixTimeToUTCTime</span></a></span><span>
</span><span id="line-24"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#nominalDiffTimeToPOSIXTime"><span class="hs-identifier">nominalDiffTimeToPOSIXTime</span></a></span><span>
</span><span id="line-25"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#posixTimeToNominalDiffTime"><span class="hs-identifier">posixTimeToNominalDiffTime</span></a></span><span>
</span><span id="line-26"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Codec.Serialise</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Serialise</span></span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">FromJSON</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ToJSON</span></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Default</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Default</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">def</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Time.Clock</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Time</span></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Time.Clock.POSIX</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Time</span></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">GHC.Generics</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Ledger.Orphans</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Ledger.Slot</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Slot</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Slot</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">SlotRange</span></span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutus.V1.Ledger.Interval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Extended</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Finite</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Interval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Interval</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">LowerBound</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">LowerBound</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>                                  </span><span class="annot"><span class="hs-identifier">UpperBound</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">UpperBound</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">interval</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">member</span></span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutus.V1.Ledger.Time</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">POSIXTime</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">POSIXTime</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">getPOSIXTime</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">POSIXTimeRange</span></span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.Lift</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">makeLift</span></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.Prelude</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier">Integer</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">divide</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">fmap</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">($)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(*)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(+)</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(.)</span></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier">Eq</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier">IO</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Show</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator">(&lt;$&gt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Haskell</span></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prettyprinter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">pretty</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(&lt;+&gt;)</span></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="hs-comment">-- | Datatype to configure the length (ms) of one slot and the beginning of the</span><span>
</span><span id="line-46"></span><span class="hs-comment">-- first slot.</span><span>
</span><span id="line-47"></span><span id="local-6989586621679390290"><span id="local-6989586621679390291"></span></span><span class="hs-keyword">data</span><span> </span><span id="SlotConfig"><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#SlotConfig"><span class="hs-identifier hs-var">SlotConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-48"></span><span>    </span><span id="SlotConfig"><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#SlotConfig"><span class="hs-identifier hs-var">SlotConfig</span></a></span></span><span>
</span><span id="line-49"></span><span>        </span><span class="hs-special">{</span><span> </span><span id="scSlotLength"><span class="annot"><span class="annottext">SlotConfig -&gt; Integer
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#scSlotLength"><span class="hs-identifier hs-var hs-var">scSlotLength</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="../../../../ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="hs-comment">-- ^ Length (number of milliseconds) of one slot</span><span>
</span><span id="line-50"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="scSlotZeroTime"><span class="annot"><span class="annottext">SlotConfig -&gt; POSIXTime
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#scSlotZeroTime"><span class="hs-identifier hs-var hs-var">scSlotZeroTime</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">POSIXTime</span></span><span> </span><span class="hs-comment">-- ^ Beginning of slot 0 (in milliseconds)</span><span>
</span><span id="line-51"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679390283"><span id="local-6989586621679390285"><span class="annot"><span class="annottext">SlotConfig -&gt; SlotConfig -&gt; Bool
(SlotConfig -&gt; SlotConfig -&gt; Bool)
-&gt; (SlotConfig -&gt; SlotConfig -&gt; Bool) -&gt; Eq SlotConfig
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SlotConfig -&gt; SlotConfig -&gt; Bool
$c/= :: SlotConfig -&gt; SlotConfig -&gt; Bool
== :: SlotConfig -&gt; SlotConfig -&gt; Bool
$c== :: SlotConfig -&gt; SlotConfig -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679390276"><span id="local-6989586621679390278"><span id="local-6989586621679390280"><span class="annot"><span class="annottext">Int -&gt; SlotConfig -&gt; ShowS
[SlotConfig] -&gt; ShowS
SlotConfig -&gt; String
(Int -&gt; SlotConfig -&gt; ShowS)
-&gt; (SlotConfig -&gt; String)
-&gt; ([SlotConfig] -&gt; ShowS)
-&gt; Show SlotConfig
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SlotConfig] -&gt; ShowS
$cshowList :: [SlotConfig] -&gt; ShowS
show :: SlotConfig -&gt; String
$cshow :: SlotConfig -&gt; String
showsPrec :: Int -&gt; SlotConfig -&gt; ShowS
$cshowsPrec :: Int -&gt; SlotConfig -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. SlotConfig -&gt; Rep SlotConfig x)
-&gt; (forall x. Rep SlotConfig x -&gt; SlotConfig) -&gt; Generic SlotConfig
forall x. Rep SlotConfig x -&gt; SlotConfig
forall x. SlotConfig -&gt; Rep SlotConfig x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep SlotConfig x -&gt; SlotConfig
$cfrom :: forall x. SlotConfig -&gt; Rep SlotConfig x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679390264"><span id="local-6989586621679390266"><span id="local-6989586621679390268"><span id="local-6989586621679390270"><span class="annot"><span class="annottext">[SlotConfig] -&gt; Encoding
[SlotConfig] -&gt; Value
SlotConfig -&gt; Encoding
SlotConfig -&gt; Value
(SlotConfig -&gt; Value)
-&gt; (SlotConfig -&gt; Encoding)
-&gt; ([SlotConfig] -&gt; Value)
-&gt; ([SlotConfig] -&gt; Encoding)
-&gt; ToJSON SlotConfig
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [SlotConfig] -&gt; Encoding
$ctoEncodingList :: [SlotConfig] -&gt; Encoding
toJSONList :: [SlotConfig] -&gt; Value
$ctoJSONList :: [SlotConfig] -&gt; Value
toEncoding :: SlotConfig -&gt; Encoding
$ctoEncoding :: SlotConfig -&gt; Encoding
toJSON :: SlotConfig -&gt; Value
$ctoJSON :: SlotConfig -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679390259"><span id="local-6989586621679390261"><span class="annot"><span class="annottext">Value -&gt; Parser [SlotConfig]
Value -&gt; Parser SlotConfig
(Value -&gt; Parser SlotConfig)
-&gt; (Value -&gt; Parser [SlotConfig]) -&gt; FromJSON SlotConfig
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [SlotConfig]
$cparseJSONList :: Value -&gt; Parser [SlotConfig]
parseJSON :: Value -&gt; Parser SlotConfig
$cparseJSON :: Value -&gt; Parser SlotConfig
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679390250"><span id="local-6989586621679390252"><span id="local-6989586621679390254"><span id="local-6989586621679390256"><span class="annot"><span class="annottext">[SlotConfig] -&gt; Encoding
SlotConfig -&gt; Encoding
(SlotConfig -&gt; Encoding)
-&gt; (forall s. Decoder s SlotConfig)
-&gt; ([SlotConfig] -&gt; Encoding)
-&gt; (forall s. Decoder s [SlotConfig])
-&gt; Serialise SlotConfig
forall s. Decoder s [SlotConfig]
forall s. Decoder s SlotConfig
forall a.
(a -&gt; Encoding)
-&gt; (forall s. Decoder s a)
-&gt; ([a] -&gt; Encoding)
-&gt; (forall s. Decoder s [a])
-&gt; Serialise a
decodeList :: Decoder s [SlotConfig]
$cdecodeList :: forall s. Decoder s [SlotConfig]
encodeList :: [SlotConfig] -&gt; Encoding
$cencodeList :: [SlotConfig] -&gt; Encoding
decode :: Decoder s SlotConfig
$cdecode :: forall s. Decoder s SlotConfig
encode :: SlotConfig -&gt; Encoding
$cencode :: SlotConfig -&gt; Encoding
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Serialise</span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span id="local-6989586621679390245"><span id="local-6989586621679390247"><span class="hs-identifier">makeLift</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">SlotConfig</span></span></span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Default</span></span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#SlotConfig"><span class="hs-identifier hs-type">SlotConfig</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-58"></span><span>    </span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">def</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-59"></span><span>    </span><span id="local-6989586621679390238"><span class="annot"><span class="annottext">def :: SlotConfig
</span><a href="#local-6989586621679390238"><span class="hs-identifier hs-var hs-var hs-var hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SlotConfig :: Integer -&gt; POSIXTime -&gt; SlotConfig
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#SlotConfig"><span class="hs-identifier hs-type">SlotConfig</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">scSlotLength :: Integer
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#scSlotLength"><span class="hs-identifier hs-var">scSlotLength</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1000</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">scSlotZeroTime :: POSIXTime
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#scSlotZeroTime"><span class="hs-identifier hs-var">scSlotZeroTime</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; POSIXTime
</span><span class="hs-identifier hs-var">POSIXTime</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#beginningOfTime"><span class="hs-identifier hs-var">beginningOfTime</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679390234"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#SlotConfig"><span class="hs-identifier hs-type">SlotConfig</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-62"></span><span>    </span><span id="local-6989586621679390232"><span class="annot"><span class="annottext">pretty :: SlotConfig -&gt; Doc ann
</span><a href="#local-6989586621679390232"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#SlotConfig"><span class="hs-identifier hs-type">SlotConfig</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679390231"><span class="annot"><span class="annottext">Integer
scSlotLength :: Integer
scSlotLength :: SlotConfig -&gt; Integer
</span><a href="#local-6989586621679390231"><span class="hs-identifier hs-var hs-var">scSlotLength</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679390230"><span class="annot"><span class="annottext">POSIXTime
scSlotZeroTime :: POSIXTime
scSlotZeroTime :: SlotConfig -&gt; POSIXTime
</span><a href="#local-6989586621679390230"><span class="hs-identifier hs-var hs-var">scSlotZeroTime</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-63"></span><span>            </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Slot 0 starts at&quot;</span></span><span>
</span><span id="line-64"></span><span>        </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">POSIXTime -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">POSIXTime
</span><a href="#local-6989586621679390230"><span class="hs-identifier hs-var">scSlotZeroTime</span></a></span><span>
</span><span id="line-65"></span><span>        </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;and one slot has length of&quot;</span></span><span>
</span><span id="line-66"></span><span>        </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679390231"><span class="hs-identifier hs-var">scSlotLength</span></a></span><span>
</span><span id="line-67"></span><span>        </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;ms&quot;</span></span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span id="local-6989586621679390228"><span id="local-6989586621679390229"></span></span><span class="hs-keyword">data</span><span> </span><span id="SlotConversionError"><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#SlotConversionError"><span class="hs-identifier hs-var">SlotConversionError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-70"></span><span>    </span><span id="SlotOutOfRange"><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#SlotOutOfRange"><span class="hs-identifier hs-var">SlotOutOfRange</span></a></span></span><span>
</span><span id="line-71"></span><span>        </span><span class="hs-special">{</span><span> </span><span id="requestedSlot"><span class="annot"><span class="annottext">SlotConversionError -&gt; Slot
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#requestedSlot"><span class="hs-identifier hs-var hs-var">requestedSlot</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Slot</span></span><span>
</span><span id="line-72"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="horizon"><span class="annot"><span class="annottext">SlotConversionError -&gt; (Slot, POSIXTime)
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#horizon"><span class="hs-identifier hs-var hs-var">horizon</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Slot</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POSIXTime</span></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-74"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679390221"><span id="local-6989586621679390223"><span class="annot"><span class="annottext">SlotConversionError -&gt; SlotConversionError -&gt; Bool
(SlotConversionError -&gt; SlotConversionError -&gt; Bool)
-&gt; (SlotConversionError -&gt; SlotConversionError -&gt; Bool)
-&gt; Eq SlotConversionError
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SlotConversionError -&gt; SlotConversionError -&gt; Bool
$c/= :: SlotConversionError -&gt; SlotConversionError -&gt; Bool
== :: SlotConversionError -&gt; SlotConversionError -&gt; Bool
$c== :: SlotConversionError -&gt; SlotConversionError -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679390215"><span id="local-6989586621679390217"><span id="local-6989586621679390219"><span class="annot"><span class="annottext">Int -&gt; SlotConversionError -&gt; ShowS
[SlotConversionError] -&gt; ShowS
SlotConversionError -&gt; String
(Int -&gt; SlotConversionError -&gt; ShowS)
-&gt; (SlotConversionError -&gt; String)
-&gt; ([SlotConversionError] -&gt; ShowS)
-&gt; Show SlotConversionError
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SlotConversionError] -&gt; ShowS
$cshowList :: [SlotConversionError] -&gt; ShowS
show :: SlotConversionError -&gt; String
$cshow :: SlotConversionError -&gt; String
showsPrec :: Int -&gt; SlotConversionError -&gt; ShowS
$cshowsPrec :: Int -&gt; SlotConversionError -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. SlotConversionError -&gt; Rep SlotConversionError x)
-&gt; (forall x. Rep SlotConversionError x -&gt; SlotConversionError)
-&gt; Generic SlotConversionError
forall x. Rep SlotConversionError x -&gt; SlotConversionError
forall x. SlotConversionError -&gt; Rep SlotConversionError x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep SlotConversionError x -&gt; SlotConversionError
$cfrom :: forall x. SlotConversionError -&gt; Rep SlotConversionError x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679390205"><span id="local-6989586621679390207"><span id="local-6989586621679390209"><span id="local-6989586621679390211"><span class="annot"><span class="annottext">[SlotConversionError] -&gt; Encoding
[SlotConversionError] -&gt; Value
SlotConversionError -&gt; Encoding
SlotConversionError -&gt; Value
(SlotConversionError -&gt; Value)
-&gt; (SlotConversionError -&gt; Encoding)
-&gt; ([SlotConversionError] -&gt; Value)
-&gt; ([SlotConversionError] -&gt; Encoding)
-&gt; ToJSON SlotConversionError
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [SlotConversionError] -&gt; Encoding
$ctoEncodingList :: [SlotConversionError] -&gt; Encoding
toJSONList :: [SlotConversionError] -&gt; Value
$ctoJSONList :: [SlotConversionError] -&gt; Value
toEncoding :: SlotConversionError -&gt; Encoding
$ctoEncoding :: SlotConversionError -&gt; Encoding
toJSON :: SlotConversionError -&gt; Value
$ctoJSON :: SlotConversionError -&gt; Value
</span><a href="#local-6989586621679390205"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679390201"><span id="local-6989586621679390203"><span class="annot"><span class="annottext">Value -&gt; Parser [SlotConversionError]
Value -&gt; Parser SlotConversionError
(Value -&gt; Parser SlotConversionError)
-&gt; (Value -&gt; Parser [SlotConversionError])
-&gt; FromJSON SlotConversionError
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [SlotConversionError]
$cparseJSONList :: Value -&gt; Parser [SlotConversionError]
parseJSON :: Value -&gt; Parser SlotConversionError
$cparseJSON :: Value -&gt; Parser SlotConversionError
</span><a href="#local-6989586621679390201"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679390198"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#SlotConversionError"><span class="hs-identifier hs-type">SlotConversionError</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-78"></span><span>    </span><span id="local-6989586621679390197"><span class="annot"><span class="annottext">pretty :: SlotConversionError -&gt; Doc ann
</span><a href="#local-6989586621679390197"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#SlotOutOfRange"><span class="hs-identifier hs-type">SlotOutOfRange</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621679390196"><span class="annot"><span class="annottext">Slot
requestedSlot :: Slot
requestedSlot :: SlotConversionError -&gt; Slot
</span><a href="#local-6989586621679390196"><span class="hs-identifier hs-var hs-var">requestedSlot</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679390195"><span class="annot"><span class="annottext">(Slot, POSIXTime)
horizon :: (Slot, POSIXTime)
horizon :: SlotConversionError -&gt; (Slot, POSIXTime)
</span><a href="#local-6989586621679390195"><span class="hs-identifier hs-var hs-var">horizon</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-79"></span><span>            </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Slot out of range:&quot;</span></span><span>
</span><span id="line-80"></span><span>        </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Slot -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679390196"><span class="hs-identifier hs-var">requestedSlot</span></a></span><span>
</span><span id="line-81"></span><span>        </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Horizon:&quot;</span></span><span>
</span><span id="line-82"></span><span>        </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Slot, POSIXTime) -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">(Slot, POSIXTime)
</span><a href="#local-6989586621679390195"><span class="hs-identifier hs-var">horizon</span></a></span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#beginningOfTime"><span class="hs-pragma hs-type">beginningOfTime</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-85"></span><span class="hs-comment">-- | 'beginningOfTime' corresponds to the Shelley launch date</span><span>
</span><span id="line-86"></span><span class="hs-comment">-- (2020-07-29T21:44:51Z) which is 1596059091000 in POSIX time</span><span>
</span><span id="line-87"></span><span class="hs-comment">-- (number of milliseconds since 1970-01-01T00:00:00Z).</span><span>
</span><span id="line-88"></span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#beginningOfTime"><span class="hs-identifier hs-type">beginningOfTime</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span>
</span><span id="line-89"></span><span id="beginningOfTime"><span class="annot"><span class="annottext">beginningOfTime :: Integer
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#beginningOfTime"><span class="hs-identifier hs-var hs-var">beginningOfTime</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1596059091000</span></span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotRangeToPOSIXTimeRange"><span class="hs-pragma hs-type">slotRangeToPOSIXTimeRange</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-92"></span><span class="hs-comment">-- | Convert a 'SlotRange' to a 'POSIXTimeRange' given a 'SlotConfig'. The</span><span>
</span><span id="line-93"></span><span class="hs-comment">-- resulting 'POSIXTimeRange' refers to the starting time of the lower bound of</span><span>
</span><span id="line-94"></span><span class="hs-comment">-- the 'SlotRange' and the ending time of the upper bound of the 'SlotRange'.</span><span>
</span><span id="line-95"></span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotRangeToPOSIXTimeRange"><span class="hs-identifier hs-type">slotRangeToPOSIXTimeRange</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#SlotConfig"><span class="hs-identifier hs-type">SlotConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SlotRange</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POSIXTimeRange</span></span><span>
</span><span id="line-96"></span><span id="slotRangeToPOSIXTimeRange"><span class="annot"><span class="annottext">slotRangeToPOSIXTimeRange :: SlotConfig -&gt; SlotRange -&gt; POSIXTimeRange
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotRangeToPOSIXTimeRange"><span class="hs-identifier hs-var hs-var">slotRangeToPOSIXTimeRange</span></a></span></span><span> </span><span id="local-6989586621679390194"><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621679390194"><span class="hs-identifier hs-var">sc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Interval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LowerBound</span></span><span> </span><span id="local-6989586621679390193"><span class="annot"><span class="annottext">Extended Slot
</span><a href="#local-6989586621679390193"><span class="hs-identifier hs-var">start</span></a></span></span><span> </span><span id="local-6989586621679390192"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679390192"><span class="hs-identifier hs-var">startIncl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UpperBound</span></span><span> </span><span id="local-6989586621679390191"><span class="annot"><span class="annottext">Extended Slot
</span><a href="#local-6989586621679390191"><span class="hs-identifier hs-var">end</span></a></span></span><span> </span><span id="local-6989586621679390190"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679390190"><span class="hs-identifier hs-var">endIncl</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-97"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679390189"><span class="annot"><span class="annottext">lbound :: Extended POSIXTime
</span><a href="#local-6989586621679390189"><span class="hs-identifier hs-var hs-var">lbound</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Slot -&gt; POSIXTime) -&gt; Extended Slot -&gt; Extended POSIXTime
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679390192"><span class="hs-identifier hs-var">startIncl</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">SlotConfig -&gt; Slot -&gt; POSIXTime
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotToBeginPOSIXTime"><span class="hs-identifier hs-var">slotToBeginPOSIXTime</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621679390194"><span class="hs-identifier hs-var">sc</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">SlotConfig -&gt; Slot -&gt; POSIXTime
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotToEndPOSIXTime"><span class="hs-identifier hs-var">slotToEndPOSIXTime</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621679390194"><span class="hs-identifier hs-var">sc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Extended Slot
</span><a href="#local-6989586621679390193"><span class="hs-identifier hs-var">start</span></a></span><span>
</span><span id="line-98"></span><span>      </span><span id="local-6989586621679390188"><span class="annot"><span class="annottext">ubound :: Extended POSIXTime
</span><a href="#local-6989586621679390188"><span class="hs-identifier hs-var hs-var">ubound</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Slot -&gt; POSIXTime) -&gt; Extended Slot -&gt; Extended POSIXTime
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679390190"><span class="hs-identifier hs-var">endIncl</span></a></span><span>   </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">SlotConfig -&gt; Slot -&gt; POSIXTime
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotToEndPOSIXTime"><span class="hs-identifier hs-var">slotToEndPOSIXTime</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621679390194"><span class="hs-identifier hs-var">sc</span></a></span><span>   </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">SlotConfig -&gt; Slot -&gt; POSIXTime
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotToBeginPOSIXTime"><span class="hs-identifier hs-var">slotToBeginPOSIXTime</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621679390194"><span class="hs-identifier hs-var">sc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Extended Slot
</span><a href="#local-6989586621679390191"><span class="hs-identifier hs-var">end</span></a></span><span>
</span><span id="line-99"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">LowerBound POSIXTime -&gt; UpperBound POSIXTime -&gt; POSIXTimeRange
forall a. LowerBound a -&gt; UpperBound a -&gt; Interval a
</span><span class="hs-identifier hs-var">Interval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Extended POSIXTime -&gt; Bool -&gt; LowerBound POSIXTime
forall a. Extended a -&gt; Bool -&gt; LowerBound a
</span><span class="hs-identifier hs-var">LowerBound</span></span><span> </span><span class="annot"><span class="annottext">Extended POSIXTime
</span><a href="#local-6989586621679390189"><span class="hs-identifier hs-var">lbound</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679390192"><span class="hs-identifier hs-var">startIncl</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Extended POSIXTime -&gt; Bool -&gt; UpperBound POSIXTime
forall a. Extended a -&gt; Bool -&gt; UpperBound a
</span><span class="hs-identifier hs-var">UpperBound</span></span><span> </span><span class="annot"><span class="annottext">Extended POSIXTime
</span><a href="#local-6989586621679390188"><span class="hs-identifier hs-var">ubound</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679390190"><span class="hs-identifier hs-var">endIncl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotToPOSIXTimeRange"><span class="hs-pragma hs-type">slotToPOSIXTimeRange</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-102"></span><span class="hs-comment">-- | Convert a 'Slot' to a 'POSIXTimeRange' given a 'SlotConfig'. Each 'Slot'</span><span>
</span><span id="line-103"></span><span class="hs-comment">-- can be represented by an interval of time.</span><span>
</span><span id="line-104"></span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotToPOSIXTimeRange"><span class="hs-identifier hs-type">slotToPOSIXTimeRange</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#SlotConfig"><span class="hs-identifier hs-type">SlotConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Slot</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POSIXTimeRange</span></span><span>
</span><span id="line-105"></span><span id="slotToPOSIXTimeRange"><span class="annot"><span class="annottext">slotToPOSIXTimeRange :: SlotConfig -&gt; Slot -&gt; POSIXTimeRange
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotToPOSIXTimeRange"><span class="hs-identifier hs-var hs-var">slotToPOSIXTimeRange</span></a></span></span><span> </span><span id="local-6989586621679390187"><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621679390187"><span class="hs-identifier hs-var">sc</span></a></span></span><span> </span><span id="local-6989586621679390186"><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679390186"><span class="hs-identifier hs-var">slot</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-106"></span><span>  </span><span class="annot"><span class="annottext">POSIXTime -&gt; POSIXTime -&gt; POSIXTimeRange
forall a. a -&gt; a -&gt; Interval a
</span><span class="hs-identifier hs-var">interval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SlotConfig -&gt; Slot -&gt; POSIXTime
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotToBeginPOSIXTime"><span class="hs-identifier hs-var">slotToBeginPOSIXTime</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621679390187"><span class="hs-identifier hs-var">sc</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679390186"><span class="hs-identifier hs-var">slot</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SlotConfig -&gt; Slot -&gt; POSIXTime
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotToEndPOSIXTime"><span class="hs-identifier hs-var">slotToEndPOSIXTime</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621679390187"><span class="hs-identifier hs-var">sc</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679390186"><span class="hs-identifier hs-var">slot</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotToBeginPOSIXTime"><span class="hs-pragma hs-type">slotToBeginPOSIXTime</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-109"></span><span class="hs-comment">-- | Get the starting 'POSIXTime' of a 'Slot' given a 'SlotConfig'.</span><span>
</span><span id="line-110"></span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotToBeginPOSIXTime"><span class="hs-identifier hs-type">slotToBeginPOSIXTime</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#SlotConfig"><span class="hs-identifier hs-type">SlotConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Slot</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POSIXTime</span></span><span>
</span><span id="line-111"></span><span id="slotToBeginPOSIXTime"><span class="annot"><span class="annottext">slotToBeginPOSIXTime :: SlotConfig -&gt; Slot -&gt; POSIXTime
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotToBeginPOSIXTime"><span class="hs-identifier hs-var hs-var">slotToBeginPOSIXTime</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#SlotConfig"><span class="hs-identifier hs-type">SlotConfig</span></a></span><span class="hs-special">{</span><span id="local-6989586621679390185"><span class="annot"><span class="annottext">Integer
scSlotLength :: Integer
scSlotLength :: SlotConfig -&gt; Integer
</span><a href="#local-6989586621679390185"><span class="hs-identifier hs-var hs-var">scSlotLength</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679390184"><span class="annot"><span class="annottext">POSIXTime
scSlotZeroTime :: POSIXTime
scSlotZeroTime :: SlotConfig -&gt; POSIXTime
</span><a href="#local-6989586621679390184"><span class="hs-identifier hs-var hs-var">scSlotZeroTime</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Slot</span></span><span> </span><span id="local-6989586621679390183"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679390183"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679390182"><span class="annot"><span class="annottext">msAfterBegin :: Integer
</span><a href="#local-6989586621679390182"><span class="hs-identifier hs-var hs-var">msAfterBegin</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679390183"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. MultiplicativeSemigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679390185"><span class="hs-identifier hs-var">scSlotLength</span></a></span><span>
</span><span id="line-113"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; POSIXTime
</span><span class="hs-identifier hs-var">POSIXTime</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; POSIXTime) -&gt; Integer -&gt; POSIXTime
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">POSIXTime -&gt; Integer
</span><span class="hs-identifier hs-var hs-var">getPOSIXTime</span></span><span> </span><span class="annot"><span class="annottext">POSIXTime
</span><a href="#local-6989586621679390184"><span class="hs-identifier hs-var">scSlotZeroTime</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. AdditiveSemigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679390182"><span class="hs-identifier hs-var">msAfterBegin</span></a></span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotToEndPOSIXTime"><span class="hs-pragma hs-type">slotToEndPOSIXTime</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-116"></span><span class="hs-comment">-- | Get the ending 'POSIXTime' of a 'Slot' given a 'SlotConfig'.</span><span>
</span><span id="line-117"></span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotToEndPOSIXTime"><span class="hs-identifier hs-type">slotToEndPOSIXTime</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#SlotConfig"><span class="hs-identifier hs-type">SlotConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Slot</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POSIXTime</span></span><span>
</span><span id="line-118"></span><span id="slotToEndPOSIXTime"><span class="annot"><span class="annottext">slotToEndPOSIXTime :: SlotConfig -&gt; Slot -&gt; POSIXTime
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotToEndPOSIXTime"><span class="hs-identifier hs-var hs-var">slotToEndPOSIXTime</span></a></span></span><span> </span><span id="local-6989586621679390181"><span class="annot"><span class="annottext">sc :: SlotConfig
</span><a href="#local-6989586621679390181"><span class="hs-identifier hs-var">sc</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#SlotConfig"><span class="hs-identifier hs-type">SlotConfig</span></a></span><span class="hs-special">{</span><span id="local-6989586621679390180"><span class="annot"><span class="annottext">Integer
scSlotLength :: Integer
scSlotLength :: SlotConfig -&gt; Integer
</span><a href="#local-6989586621679390180"><span class="hs-identifier hs-var hs-var">scSlotLength</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621679390179"><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679390179"><span class="hs-identifier hs-var">slot</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-119"></span><span>  </span><span class="annot"><span class="annottext">SlotConfig -&gt; Slot -&gt; POSIXTime
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotToBeginPOSIXTime"><span class="hs-identifier hs-var">slotToBeginPOSIXTime</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621679390181"><span class="hs-identifier hs-var">sc</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679390179"><span class="hs-identifier hs-var">slot</span></a></span><span> </span><span class="annot"><span class="annottext">POSIXTime -&gt; POSIXTime -&gt; POSIXTime
forall a. AdditiveSemigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; POSIXTime
</span><span class="hs-identifier hs-var">POSIXTime</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679390180"><span class="hs-identifier hs-var">scSlotLength</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. AdditiveGroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#posixTimeRangeToContainedSlotRange"><span class="hs-pragma hs-type">posixTimeRangeToContainedSlotRange</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-122"></span><span class="hs-comment">-- | Convert a 'POSIXTimeRange' to 'SlotRange' given a 'SlotConfig'. This gives</span><span>
</span><span id="line-123"></span><span class="hs-comment">-- the biggest slot range that is entirely contained by the given time range.</span><span>
</span><span id="line-124"></span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#posixTimeRangeToContainedSlotRange"><span class="hs-identifier hs-type">posixTimeRangeToContainedSlotRange</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#SlotConfig"><span class="hs-identifier hs-type">SlotConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POSIXTimeRange</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SlotRange</span></span><span>
</span><span id="line-125"></span><span id="posixTimeRangeToContainedSlotRange"><span class="annot"><span class="annottext">posixTimeRangeToContainedSlotRange :: SlotConfig -&gt; POSIXTimeRange -&gt; SlotRange
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#posixTimeRangeToContainedSlotRange"><span class="hs-identifier hs-var hs-var">posixTimeRangeToContainedSlotRange</span></a></span></span><span> </span><span id="local-6989586621679390178"><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621679390178"><span class="hs-identifier hs-var">sc</span></a></span></span><span> </span><span id="local-6989586621679390177"><span class="annot"><span class="annottext">POSIXTimeRange
</span><a href="#local-6989586621679390177"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(POSIXTime -&gt; Slot) -&gt; POSIXTimeRange -&gt; SlotRange
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SlotConfig -&gt; POSIXTime -&gt; Slot
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#posixTimeToEnclosingSlot"><span class="hs-identifier hs-var">posixTimeToEnclosingSlot</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621679390178"><span class="hs-identifier hs-var">sc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">POSIXTimeRange
</span><a href="#local-6989586621679390177"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-126"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Interval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LowerBound</span></span><span> </span><span id="local-6989586621679390176"><span class="annot"><span class="annottext">Extended Slot
</span><a href="#local-6989586621679390176"><span class="hs-identifier hs-var">start</span></a></span></span><span> </span><span id="local-6989586621679390175"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679390175"><span class="hs-identifier hs-var">startIncl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UpperBound</span></span><span> </span><span id="local-6989586621679390174"><span class="annot"><span class="annottext">Extended Slot
</span><a href="#local-6989586621679390174"><span class="hs-identifier hs-var">end</span></a></span></span><span> </span><span id="local-6989586621679390173"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679390173"><span class="hs-identifier hs-var">endIncl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-127"></span><span>    </span><span class="annot"><span class="annottext">LowerBound Slot -&gt; UpperBound Slot -&gt; SlotRange
forall a. LowerBound a -&gt; UpperBound a -&gt; Interval a
</span><span class="hs-identifier hs-var">Interval</span></span><span>
</span><span id="line-128"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Extended Slot -&gt; Bool -&gt; LowerBound Slot
forall a. Extended a -&gt; Bool -&gt; LowerBound a
</span><span class="hs-identifier hs-var">LowerBound</span></span><span> </span><span class="annot"><span class="annottext">Extended Slot
</span><a href="#local-6989586621679390176"><span class="hs-identifier hs-var">start</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Extended Slot
</span><a href="#local-6989586621679390176"><span class="hs-identifier hs-var">start</span></a></span><span> </span><span class="hs-keyword">of</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Finite</span></span><span> </span><span id="local-6989586621679390172"><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679390172"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SlotConfig -&gt; Slot -&gt; POSIXTime
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotToBeginPOSIXTime"><span class="hs-identifier hs-var">slotToBeginPOSIXTime</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621679390178"><span class="hs-identifier hs-var">sc</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679390172"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">POSIXTime -&gt; POSIXTimeRange -&gt; Bool
forall a. Ord a =&gt; a -&gt; Interval a -&gt; Bool
</span><span class="hs-operator hs-var">`member`</span></span><span> </span><span class="annot"><span class="annottext">POSIXTimeRange
</span><a href="#local-6989586621679390177"><span class="hs-identifier hs-var">ptr</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Extended Slot
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679390175"><span class="hs-identifier hs-var">startIncl</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Extended Slot -&gt; Bool -&gt; UpperBound Slot
forall a. Extended a -&gt; Bool -&gt; UpperBound a
</span><span class="hs-identifier hs-var">UpperBound</span></span><span> </span><span class="annot"><span class="annottext">Extended Slot
</span><a href="#local-6989586621679390174"><span class="hs-identifier hs-var">end</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Extended Slot
</span><a href="#local-6989586621679390174"><span class="hs-identifier hs-var">end</span></a></span><span> </span><span class="hs-keyword">of</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Finite</span></span><span> </span><span id="local-6989586621679390171"><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679390171"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SlotConfig -&gt; Slot -&gt; POSIXTime
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#slotToEndPOSIXTime"><span class="hs-identifier hs-var">slotToEndPOSIXTime</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621679390178"><span class="hs-identifier hs-var">sc</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679390171"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">POSIXTime -&gt; POSIXTimeRange -&gt; Bool
forall a. Ord a =&gt; a -&gt; Interval a -&gt; Bool
</span><span class="hs-operator hs-var">`member`</span></span><span> </span><span class="annot"><span class="annottext">POSIXTimeRange
</span><a href="#local-6989586621679390177"><span class="hs-identifier hs-var">ptr</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Extended Slot
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679390173"><span class="hs-identifier hs-var">endIncl</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#posixTimeToEnclosingSlot"><span class="hs-pragma hs-type">posixTimeToEnclosingSlot</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-132"></span><span class="hs-comment">-- | Convert a 'POSIXTime' to 'Slot' given a 'SlotConfig'.</span><span>
</span><span id="line-133"></span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#posixTimeToEnclosingSlot"><span class="hs-identifier hs-type">posixTimeToEnclosingSlot</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#SlotConfig"><span class="hs-identifier hs-type">SlotConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POSIXTime</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Slot</span></span><span>
</span><span id="line-134"></span><span id="posixTimeToEnclosingSlot"><span class="annot"><span class="annottext">posixTimeToEnclosingSlot :: SlotConfig -&gt; POSIXTime -&gt; Slot
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#posixTimeToEnclosingSlot"><span class="hs-identifier hs-var hs-var">posixTimeToEnclosingSlot</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#SlotConfig"><span class="hs-identifier hs-type">SlotConfig</span></a></span><span class="hs-special">{</span><span id="local-6989586621679390170"><span class="annot"><span class="annottext">Integer
scSlotLength :: Integer
scSlotLength :: SlotConfig -&gt; Integer
</span><a href="#local-6989586621679390170"><span class="hs-identifier hs-var hs-var">scSlotLength</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679390169"><span class="annot"><span class="annottext">POSIXTime
scSlotZeroTime :: POSIXTime
scSlotZeroTime :: SlotConfig -&gt; POSIXTime
</span><a href="#local-6989586621679390169"><span class="hs-identifier hs-var hs-var">scSlotZeroTime</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POSIXTime</span></span><span> </span><span id="local-6989586621679390168"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679390168"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-135"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679390167"><span class="annot"><span class="annottext">timePassed :: Integer
</span><a href="#local-6989586621679390167"><span class="hs-identifier hs-var hs-var">timePassed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679390168"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. AdditiveGroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">POSIXTime -&gt; Integer
</span><span class="hs-identifier hs-var hs-var">getPOSIXTime</span></span><span> </span><span class="annot"><span class="annottext">POSIXTime
</span><a href="#local-6989586621679390169"><span class="hs-identifier hs-var">scSlotZeroTime</span></a></span><span>
</span><span id="line-136"></span><span>      </span><span id="local-6989586621679390166"><span class="annot"><span class="annottext">slotsPassed :: Integer
</span><a href="#local-6989586621679390166"><span class="hs-identifier hs-var hs-var">slotsPassed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
</span><span class="hs-identifier hs-var">divide</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679390167"><span class="hs-identifier hs-var">timePassed</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679390170"><span class="hs-identifier hs-var">scSlotLength</span></a></span><span>
</span><span id="line-137"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Slot
</span><span class="hs-identifier hs-var">Slot</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679390166"><span class="hs-identifier hs-var">slotsPassed</span></a></span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span class="hs-comment">-- | Get the current slot number</span><span>
</span><span id="line-140"></span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#currentSlot"><span class="hs-identifier hs-type">currentSlot</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#SlotConfig"><span class="hs-identifier hs-type">SlotConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Slot</span></span><span>
</span><span id="line-141"></span><span id="currentSlot"><span class="annot"><span class="annottext">currentSlot :: SlotConfig -&gt; IO Slot
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#currentSlot"><span class="hs-identifier hs-var hs-var">currentSlot</span></a></span></span><span> </span><span id="local-6989586621679390165"><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621679390165"><span class="hs-identifier hs-var">sc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; Slot
</span><a href="#local-6989586621679390164"><span class="hs-identifier hs-var">timeToSlot</span></a></span><span> </span><span class="annot"><span class="annottext">(NominalDiffTime -&gt; Slot) -&gt; IO NominalDiffTime -&gt; IO Slot
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO NominalDiffTime
</span><span class="hs-identifier hs-var">Time.getPOSIXTime</span></span><span>
</span><span id="line-142"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-143"></span><span>      </span><span id="local-6989586621679390164"><span class="annot"><span class="annottext">timeToSlot :: NominalDiffTime -&gt; Slot
</span><a href="#local-6989586621679390164"><span class="hs-identifier hs-var hs-var">timeToSlot</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SlotConfig -&gt; POSIXTime -&gt; Slot
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#posixTimeToEnclosingSlot"><span class="hs-identifier hs-var">posixTimeToEnclosingSlot</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621679390165"><span class="hs-identifier hs-var">sc</span></a></span><span>
</span><span id="line-144"></span><span>                 </span><span class="annot"><span class="annottext">(POSIXTime -&gt; Slot)
-&gt; (NominalDiffTime -&gt; POSIXTime) -&gt; NominalDiffTime -&gt; Slot
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; POSIXTime
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#nominalDiffTimeToPOSIXTime"><span class="hs-identifier hs-var">nominalDiffTimeToPOSIXTime</span></a></span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#utcTimeToPOSIXTime"><span class="hs-identifier hs-type">utcTimeToPOSIXTime</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Time.UTCTime</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POSIXTime</span></span><span>
</span><span id="line-147"></span><span id="utcTimeToPOSIXTime"><span class="annot"><span class="annottext">utcTimeToPOSIXTime :: UTCTime -&gt; POSIXTime
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#utcTimeToPOSIXTime"><span class="hs-identifier hs-var hs-var">utcTimeToPOSIXTime</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; POSIXTime
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#nominalDiffTimeToPOSIXTime"><span class="hs-identifier hs-var">nominalDiffTimeToPOSIXTime</span></a></span><span> </span><span class="annot"><span class="annottext">(NominalDiffTime -&gt; POSIXTime)
-&gt; (UTCTime -&gt; NominalDiffTime) -&gt; UTCTime -&gt; POSIXTime
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; NominalDiffTime
</span><span class="hs-identifier hs-var">Time.utcTimeToPOSIXSeconds</span></span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#posixTimeToUTCTime"><span class="hs-identifier hs-type">posixTimeToUTCTime</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POSIXTime</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Time.UTCTime</span></span><span>
</span><span id="line-150"></span><span id="posixTimeToUTCTime"><span class="annot"><span class="annottext">posixTimeToUTCTime :: POSIXTime -&gt; UTCTime
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#posixTimeToUTCTime"><span class="hs-identifier hs-var hs-var">posixTimeToUTCTime</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; UTCTime
</span><span class="hs-identifier hs-var">Time.posixSecondsToUTCTime</span></span><span> </span><span class="annot"><span class="annottext">(NominalDiffTime -&gt; UTCTime)
-&gt; (POSIXTime -&gt; NominalDiffTime) -&gt; POSIXTime -&gt; UTCTime
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">POSIXTime -&gt; NominalDiffTime
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#posixTimeToNominalDiffTime"><span class="hs-identifier hs-var">posixTimeToNominalDiffTime</span></a></span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#nominalDiffTimeToPOSIXTime"><span class="hs-identifier hs-type">nominalDiffTimeToPOSIXTime</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Time.NominalDiffTime</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POSIXTime</span></span><span>
</span><span id="line-153"></span><span id="nominalDiffTimeToPOSIXTime"><span class="annot"><span class="annottext">nominalDiffTimeToPOSIXTime :: NominalDiffTime -&gt; POSIXTime
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#nominalDiffTimeToPOSIXTime"><span class="hs-identifier hs-var hs-var">nominalDiffTimeToPOSIXTime</span></a></span></span><span>
</span><span id="line-154"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; POSIXTime
</span><span class="hs-identifier hs-var">POSIXTime</span></span><span>
</span><span id="line-155"></span><span>  </span><span class="annot"><span class="annottext">(Integer -&gt; POSIXTime)
-&gt; (NominalDiffTime -&gt; Integer) -&gt; NominalDiffTime -&gt; POSIXTime
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Pico -&gt; Integer
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Haskell.truncate</span></a></span><span>
</span><span id="line-156"></span><span>  </span><span class="annot"><span class="annottext">(Pico -&gt; Integer)
-&gt; (NominalDiffTime -&gt; Pico) -&gt; NominalDiffTime -&gt; Integer
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pico -&gt; Pico -&gt; Pico
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">Haskell.*</span></a></span><span> </span><span class="annot"><span class="annottext">Pico
</span><span class="hs-number">1000</span></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Convert to ms</span><span>
</span><span id="line-157"></span><span>  </span><span class="annot"><span class="annottext">(Pico -&gt; Pico)
-&gt; (NominalDiffTime -&gt; Pico) -&gt; NominalDiffTime -&gt; Pico
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; Pico
</span><span class="hs-identifier hs-var">Time.nominalDiffTimeToSeconds</span></span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="annot"><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#posixTimeToNominalDiffTime"><span class="hs-identifier hs-type">posixTimeToNominalDiffTime</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POSIXTime</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Time.NominalDiffTime</span></span><span>
</span><span id="line-160"></span><span id="posixTimeToNominalDiffTime"><span class="annot"><span class="annottext">posixTimeToNominalDiffTime :: POSIXTime -&gt; NominalDiffTime
</span><a href="Cardano.Node.Emulator.Internal.Node.TimeSlot.html#posixTimeToNominalDiffTime"><span class="hs-identifier hs-var hs-var">posixTimeToNominalDiffTime</span></a></span></span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pico -&gt; NominalDiffTime
</span><span class="hs-identifier hs-var">Time.secondsToNominalDiffTime</span></span><span>
</span><span id="line-162"></span><span>  </span><span class="annot"><span class="annottext">(Pico -&gt; NominalDiffTime)
-&gt; (POSIXTime -&gt; Pico) -&gt; POSIXTime -&gt; NominalDiffTime
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pico -&gt; Pico -&gt; Pico
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">Haskell./</span></a></span><span> </span><span class="annot"><span class="annottext">Pico
</span><span class="hs-number">1000</span></span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>  </span><span class="annot"><span class="annottext">(Pico -&gt; Pico) -&gt; (POSIXTime -&gt; Pico) -&gt; POSIXTime -&gt; Pico
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Pico
forall a. Num a =&gt; Integer -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Haskell.fromInteger</span></a></span><span>
</span><span id="line-164"></span><span>  </span><span class="annot"><span class="annottext">(Integer -&gt; Pico) -&gt; (POSIXTime -&gt; Integer) -&gt; POSIXTime -&gt; Pico
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">POSIXTime -&gt; Integer
</span><span class="hs-identifier hs-var hs-var">getPOSIXTime</span></span><span>
</span><span id="line-165"></span></pre></body></html>