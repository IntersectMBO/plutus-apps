<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Cardano.Node.Emulator.Generators</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">cardano-node-emulator-1.2.0.0</span><ul class="links" id="page-menu"><li><a href="src/Cardano.Node.Emulator.Generators.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Cardano.Node.Emulator.Generators</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Mockchain</a></li><li><a href="#g:2">Transactions</a></li><li><a href="#g:3">Assertions</a></li><li><a href="#g:4">Time</a></li><li><a href="#g:5">Etc.</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Generators for constructing blockchains and transactions for use in property-based testing.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Mockchain">Mockchain</a> = <a href="#v:Mockchain">Mockchain</a> {<ul class="subs"><li><a href="#v:mockchainInitialTxPool">mockchainInitialTxPool</a> :: [CardanoTx]</li><li><a href="#v:mockchainUtxo">mockchainUtxo</a> :: Map TxIn TxOut</li><li><a href="#v:mockchainParams">mockchainParams</a> :: <a href="Cardano-Node-Emulator-Internal-Node-Params.html#t:Params" title="Cardano.Node.Emulator.Internal.Node.Params">Params</a></li></ul>}</li><li class="src short"><a href="#v:genMockchain">genMockchain</a> :: Gen <a href="Cardano-Node-Emulator-Generators.html#t:Mockchain" title="Cardano.Node.Emulator.Generators">Mockchain</a></li><li class="src short"><a href="#v:genMockchain-39-">genMockchain'</a> :: <a href="Cardano-Node-Emulator-Generators.html#t:GeneratorModel" title="Cardano.Node.Emulator.Generators">GeneratorModel</a> -&gt; Gen <a href="Cardano-Node-Emulator-Generators.html#t:Mockchain" title="Cardano.Node.Emulator.Generators">Mockchain</a></li><li class="src short"><a href="#v:emptyChain">emptyChain</a> :: <a href="Cardano-Node-Emulator-Generators.html#t:Mockchain" title="Cardano.Node.Emulator.Generators">Mockchain</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:GeneratorModel">GeneratorModel</a> = <a href="#v:GeneratorModel">GeneratorModel</a> {<ul class="subs"><li><a href="#v:gmInitialBalance">gmInitialBalance</a> :: !(Map PaymentPubKey Lovelace)</li><li><a href="#v:gmPubKeys">gmPubKeys</a> :: !(Set PaymentPubKey)</li><li><a href="#v:gmMaxCollateralInputs">gmMaxCollateralInputs</a> :: !(<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Natural.html#t:Natural" title="GHC.Natural">Natural</a>)</li></ul>}</li><li class="src short"><a href="#v:generatorModel">generatorModel</a> :: <a href="Cardano-Node-Emulator-Generators.html#t:GeneratorModel" title="Cardano.Node.Emulator.Generators">GeneratorModel</a></li><li class="src short"><a href="#v:genValidTransaction">genValidTransaction</a> :: <a href="Cardano-Node-Emulator-Generators.html#t:Mockchain" title="Cardano.Node.Emulator.Generators">Mockchain</a> -&gt; Gen CardanoTx</li><li class="src short"><a href="#v:genValidTransactionBody">genValidTransactionBody</a> :: <a href="Cardano-Node-Emulator-Generators.html#t:Mockchain" title="Cardano.Node.Emulator.Generators">Mockchain</a> -&gt; Gen (TxBodyContent BuildTx BabbageEra)</li><li class="src short"><a href="#v:genValidTransaction-39-">genValidTransaction'</a> :: <a href="Cardano-Node-Emulator-Generators.html#t:GeneratorModel" title="Cardano.Node.Emulator.Generators">GeneratorModel</a> -&gt; <a href="Cardano-Node-Emulator-Generators.html#t:Mockchain" title="Cardano.Node.Emulator.Generators">Mockchain</a> -&gt; Gen CardanoTx</li><li class="src short"><a href="#v:genValidTransactionSpending">genValidTransactionSpending</a> :: [TxIn] -&gt; Value -&gt; Gen CardanoTx</li><li class="src short"><a href="#v:genValidTransactionSpending-39-">genValidTransactionSpending'</a> :: <a href="Cardano-Node-Emulator-Generators.html#t:GeneratorModel" title="Cardano.Node.Emulator.Generators">GeneratorModel</a> -&gt; [TxIn] -&gt; Value -&gt; Gen CardanoTx</li><li class="src short"><a href="#v:genInitialTransaction">genInitialTransaction</a> :: <a href="Cardano-Node-Emulator-Generators.html#t:GeneratorModel" title="Cardano.Node.Emulator.Generators">GeneratorModel</a> -&gt; Gen (CardanoTx, [TxOut])</li><li class="src short"><a href="#v:makeTx">makeTx</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m =&gt; TxBodyContent BuildTx BabbageEra -&gt; m CardanoTx</li><li class="src short"><a href="#v:assertValid">assertValid</a> :: (MonadTest m, <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>) =&gt; CardanoTx -&gt; <a href="Cardano-Node-Emulator-Generators.html#t:Mockchain" title="Cardano.Node.Emulator.Generators">Mockchain</a> -&gt; m ()</li><li class="src short"><a href="#v:genInterval">genInterval</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m, <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a) =&gt; m a -&gt; m (Interval a)</li><li class="src short"><a href="#v:genSlotRange">genSlotRange</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m, MonadGen m) =&gt; m SlotRange</li><li class="src short"><a href="#v:genTimeRange">genTimeRange</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m, MonadGen m) =&gt; <a href="Cardano-Node-Emulator-Internal-Node-TimeSlot.html#t:SlotConfig" title="Cardano.Node.Emulator.Internal.Node.TimeSlot">SlotConfig</a> -&gt; m POSIXTimeRange</li><li class="src short"><a href="#v:genSlot">genSlot</a> :: MonadGen m =&gt; m Slot</li><li class="src short"><a href="#v:genPOSIXTime">genPOSIXTime</a> :: MonadGen m =&gt; <a href="Cardano-Node-Emulator-Internal-Node-TimeSlot.html#t:SlotConfig" title="Cardano.Node.Emulator.Internal.Node.TimeSlot">SlotConfig</a> -&gt; m POSIXTime</li><li class="src short"><a href="#v:genSlotConfig">genSlotConfig</a> :: MonadGen m =&gt; m <a href="Cardano-Node-Emulator-Internal-Node-TimeSlot.html#t:SlotConfig" title="Cardano.Node.Emulator.Internal.Node.TimeSlot">SlotConfig</a></li><li class="src short"><a href="#v:failOnCardanoError">failOnCardanoError</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> ToCardanoError a -&gt; m a</li><li class="src short"><a href="#v:genPolicyId">genPolicyId</a> :: Gen PolicyId</li><li class="src short"><a href="#v:genAssetId">genAssetId</a> :: Gen AssetId</li><li class="src short"><a href="#v:genAssetName">genAssetName</a> :: Gen AssetName</li><li class="src short"><a href="#v:genSingleton">genSingleton</a> :: Range <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Integer" title="Prelude">Integer</a> -&gt; Gen Value</li><li class="src short"><a href="#v:genValue">genValue</a> :: Gen Value</li><li class="src short"><a href="#v:genValueNonNegative">genValueNonNegative</a> :: Gen Value</li><li class="src short"><a href="#v:genSizedByteString">genSizedByteString</a> :: <span class="keyword">forall</span> m. MonadGen m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m ByteString</li><li class="src short"><a href="#v:genSeed">genSeed</a> :: MonadGen m =&gt; m ByteString</li><li class="src short"><a href="#v:genPassphrase">genPassphrase</a> :: MonadGen m =&gt; m Passphrase</li><li class="src short"><a href="#v:splitVal">splitVal</a> :: (MonadGen m, <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Integral" title="Prelude">Integral</a> n) =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; n -&gt; m [n]</li><li class="src short"><a href="#v:validateMockchain">validateMockchain</a> :: <a href="Cardano-Node-Emulator-Generators.html#t:Mockchain" title="Cardano.Node.Emulator.Generators">Mockchain</a> -&gt; CardanoTx -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ValidationErrorInPhase</li><li class="src short"><a href="#v:signAll">signAll</a> :: CardanoTx -&gt; CardanoTx</li><li class="src short"><a href="#v:knownAddresses">knownAddresses</a> :: [CardanoAddress]</li><li class="src short"><a href="#v:knownPaymentPublicKeys">knownPaymentPublicKeys</a> :: [PaymentPubKey]</li><li class="src short"><a href="#v:knownPaymentPrivateKeys">knownPaymentPrivateKeys</a> :: [PaymentPrivateKey]</li><li class="src short"><a href="#v:knownPaymentKeys">knownPaymentKeys</a> :: Map PaymentPubKey PaymentPrivateKey</li><li class="src short"><a href="#v:knownXPrvs">knownXPrvs</a> :: [XPrv]</li><li class="src short"><a href="#v:alwaysSucceedPolicy">alwaysSucceedPolicy</a> :: MintingPolicy</li><li class="src short"><a href="#v:alwaysSucceedPolicyId">alwaysSucceedPolicyId</a> :: PolicyId</li><li class="src short"><a href="#v:someTokenValue">someTokenValue</a> :: AssetName -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Integer" title="Prelude">Integer</a> -&gt; Value</li><li class="src short"><a href="#v:emptyTxBodyContent">emptyTxBodyContent</a> :: TxBodyContent BuildTx BabbageEra</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Mockchain</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Mockchain" class="def">Mockchain</a> <a href="src/Cardano.Node.Emulator.Generators.html#Mockchain" class="link">Source</a> <a href="#t:Mockchain" class="selflink">#</a></p><div class="doc"><p>Blockchain for testing the emulator implementation and traces.</p><p>To avoid having to rely on functions from the implementation of
   plutus-ledger (in particular, <code><a href="Ledger-Tx.html#v:unspentOutputs" title="Ledger.Tx">unspentOutputs</a></code>) we note the
   unspent outputs of the chain when it is first created.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Mockchain" class="def">Mockchain</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:mockchainInitialTxPool" class="def">mockchainInitialTxPool</a> :: [CardanoTx]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:mockchainUtxo" class="def">mockchainUtxo</a> :: Map TxIn TxOut</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:mockchainParams" class="def">mockchainParams</a> :: <a href="Cardano-Node-Emulator-Internal-Node-Params.html#t:Params" title="Cardano.Node.Emulator.Internal.Node.Params">Params</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Mockchain">Instances</h4><details id="i:Mockchain" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Mockchain:Show:1"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Cardano-Node-Emulator-Generators.html#t:Mockchain" title="Cardano.Node.Emulator.Generators">Mockchain</a></span> <a href="src/Cardano.Node.Emulator.Generators.html#line-140" class="link">Source</a> <a href="#t:Mockchain" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Mockchain:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Node-Emulator-Generators.html">Cardano.Node.Emulator.Generators</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Cardano-Node-Emulator-Generators.html#t:Mockchain" title="Cardano.Node.Emulator.Generators">Mockchain</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Cardano-Node-Emulator-Generators.html#t:Mockchain" title="Cardano.Node.Emulator.Generators">Mockchain</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Cardano-Node-Emulator-Generators.html#t:Mockchain" title="Cardano.Node.Emulator.Generators">Mockchain</a>] -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:genMockchain" class="def">genMockchain</a> :: Gen <a href="Cardano-Node-Emulator-Generators.html#t:Mockchain" title="Cardano.Node.Emulator.Generators">Mockchain</a> <a href="src/Cardano.Node.Emulator.Generators.html#genMockchain" class="link">Source</a> <a href="#v:genMockchain" class="selflink">#</a></p><div class="doc"><p>Generate a mockchain using the default <code><a href="Cardano-Node-Emulator-Generators.html#t:GeneratorModel" title="Cardano.Node.Emulator.Generators">GeneratorModel</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:genMockchain-39-" class="def">genMockchain'</a> :: <a href="Cardano-Node-Emulator-Generators.html#t:GeneratorModel" title="Cardano.Node.Emulator.Generators">GeneratorModel</a> -&gt; Gen <a href="Cardano-Node-Emulator-Generators.html#t:Mockchain" title="Cardano.Node.Emulator.Generators">Mockchain</a> <a href="src/Cardano.Node.Emulator.Generators.html#genMockchain%27" class="link">Source</a> <a href="#v:genMockchain-39-" class="selflink">#</a></p><div class="doc"><p>Generate a mockchain.</p><p>TODO: Generate more than 1 txn</p></div></div><div class="top"><p class="src"><a id="v:emptyChain" class="def">emptyChain</a> :: <a href="Cardano-Node-Emulator-Generators.html#t:Mockchain" title="Cardano.Node.Emulator.Generators">Mockchain</a> <a href="src/Cardano.Node.Emulator.Generators.html#emptyChain" class="link">Source</a> <a href="#v:emptyChain" class="selflink">#</a></p><div class="doc"><p>The empty mockchain.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:GeneratorModel" class="def">GeneratorModel</a> <a href="src/Cardano.Node.Emulator.Generators.html#GeneratorModel" class="link">Source</a> <a href="#t:GeneratorModel" class="selflink">#</a></p><div class="doc"><p>The parameters for the generators in this module.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:GeneratorModel" class="def">GeneratorModel</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:gmInitialBalance" class="def">gmInitialBalance</a> :: !(Map PaymentPubKey Lovelace)</dfn><div class="doc"><p>Value created at the beginning of the blockchain.</p></div></li><li><dfn class="src"><a id="v:gmPubKeys" class="def">gmPubKeys</a> :: !(Set PaymentPubKey)</dfn><div class="doc"><p>Public keys that are to be used for generating transactions.</p></div></li><li><dfn class="src"><a id="v:gmMaxCollateralInputs" class="def">gmMaxCollateralInputs</a> :: !(<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Natural.html#t:Natural" title="GHC.Natural">Natural</a>)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:GeneratorModel">Instances</h4><details id="i:GeneratorModel" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:GeneratorModel:Show:1"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Cardano-Node-Emulator-Generators.html#t:GeneratorModel" title="Cardano.Node.Emulator.Generators">GeneratorModel</a></span> <a href="src/Cardano.Node.Emulator.Generators.html#line-116" class="link">Source</a> <a href="#t:GeneratorModel" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:GeneratorModel:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Node-Emulator-Generators.html">Cardano.Node.Emulator.Generators</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Cardano-Node-Emulator-Generators.html#t:GeneratorModel" title="Cardano.Node.Emulator.Generators">GeneratorModel</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Cardano-Node-Emulator-Generators.html#t:GeneratorModel" title="Cardano.Node.Emulator.Generators">GeneratorModel</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Cardano-Node-Emulator-Generators.html#t:GeneratorModel" title="Cardano.Node.Emulator.Generators">GeneratorModel</a>] -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:generatorModel" class="def">generatorModel</a> :: <a href="Cardano-Node-Emulator-Generators.html#t:GeneratorModel" title="Cardano.Node.Emulator.Generators">GeneratorModel</a> <a href="src/Cardano.Node.Emulator.Generators.html#generatorModel" class="link">Source</a> <a href="#v:generatorModel" class="selflink">#</a></p><div class="doc"><p>A generator model with some sensible defaults.</p></div></div><a href="#g:2" id="g:2"><h1>Transactions</h1></a><div class="top"><p class="src"><a id="v:genValidTransaction" class="def">genValidTransaction</a> :: <a href="Cardano-Node-Emulator-Generators.html#t:Mockchain" title="Cardano.Node.Emulator.Generators">Mockchain</a> -&gt; Gen CardanoTx <a href="src/Cardano.Node.Emulator.Generators.html#genValidTransaction" class="link">Source</a> <a href="#v:genValidTransaction" class="selflink">#</a></p><div class="doc"><p>Generate a valid transaction, using the unspent outputs provided.
   Fails if the there are no unspent outputs, or if the total value
   of the unspent outputs is smaller than the minimum fee.</p></div></div><div class="top"><p class="src"><a id="v:genValidTransactionBody" class="def">genValidTransactionBody</a> :: <a href="Cardano-Node-Emulator-Generators.html#t:Mockchain" title="Cardano.Node.Emulator.Generators">Mockchain</a> -&gt; Gen (TxBodyContent BuildTx BabbageEra) <a href="src/Cardano.Node.Emulator.Generators.html#genValidTransactionBody" class="link">Source</a> <a href="#v:genValidTransactionBody" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:genValidTransaction-39-" class="def">genValidTransaction'</a> :: <a href="Cardano-Node-Emulator-Generators.html#t:GeneratorModel" title="Cardano.Node.Emulator.Generators">GeneratorModel</a> -&gt; <a href="Cardano-Node-Emulator-Generators.html#t:Mockchain" title="Cardano.Node.Emulator.Generators">Mockchain</a> -&gt; Gen CardanoTx <a href="src/Cardano.Node.Emulator.Generators.html#genValidTransaction%27" class="link">Source</a> <a href="#v:genValidTransaction-39-" class="selflink">#</a></p><div class="doc"><p>Generate a valid transaction, using the unspent outputs provided.
   Fails if the there are no unspent outputs, or if the total value
   of the unspent outputs is smaller than the estimated fee.</p></div></div><div class="top"><p class="src"><a id="v:genValidTransactionSpending" class="def">genValidTransactionSpending</a> :: [TxIn] -&gt; Value -&gt; Gen CardanoTx <a href="src/Cardano.Node.Emulator.Generators.html#genValidTransactionSpending" class="link">Source</a> <a href="#v:genValidTransactionSpending" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:genValidTransactionSpending-39-" class="def">genValidTransactionSpending'</a> :: <a href="Cardano-Node-Emulator-Generators.html#t:GeneratorModel" title="Cardano.Node.Emulator.Generators">GeneratorModel</a> -&gt; [TxIn] -&gt; Value -&gt; Gen CardanoTx <a href="src/Cardano.Node.Emulator.Generators.html#genValidTransactionSpending%27" class="link">Source</a> <a href="#v:genValidTransactionSpending-39-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:genInitialTransaction" class="def">genInitialTransaction</a> :: <a href="Cardano-Node-Emulator-Generators.html#t:GeneratorModel" title="Cardano.Node.Emulator.Generators">GeneratorModel</a> -&gt; Gen (CardanoTx, [TxOut]) <a href="src/Cardano.Node.Emulator.Generators.html#genInitialTransaction" class="link">Source</a> <a href="#v:genInitialTransaction" class="selflink">#</a></p><div class="doc"><p>A transaction with no inputs that mints some value (to be used at the
   beginning of a blockchain).</p></div></div><div class="top"><p class="src"><a id="v:makeTx" class="def">makeTx</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m =&gt; TxBodyContent BuildTx BabbageEra -&gt; m CardanoTx <a href="src/Cardano.Node.Emulator.Generators.html#makeTx" class="link">Source</a> <a href="#v:makeTx" class="selflink">#</a></p></div><a href="#g:3" id="g:3"><h1>Assertions</h1></a><div class="top"><p class="src"><a id="v:assertValid" class="def">assertValid</a> :: (MonadTest m, <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>) =&gt; CardanoTx -&gt; <a href="Cardano-Node-Emulator-Generators.html#t:Mockchain" title="Cardano.Node.Emulator.Generators">Mockchain</a> -&gt; m () <a href="src/Cardano.Node.Emulator.Generators.html#assertValid" class="link">Source</a> <a href="#v:assertValid" class="selflink">#</a></p><div class="doc"><p>Assert that a transaction is valid in a chain.</p></div></div><a href="#g:4" id="g:4"><h1>Time</h1></a><div class="top"><p class="src"><a id="v:genInterval" class="def">genInterval</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m, <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a) =&gt; m a -&gt; m (Interval a) <a href="src/Cardano.Node.Emulator.Generators.html#genInterval" class="link">Source</a> <a href="#v:genInterval" class="selflink">#</a></p><div class="doc"><p>Generate an 'Interval where the lower bound if less or equal than the
 upper bound.</p></div></div><div class="top"><p class="src"><a id="v:genSlotRange" class="def">genSlotRange</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m, MonadGen m) =&gt; m SlotRange <a href="src/Cardano.Node.Emulator.Generators.html#genSlotRange" class="link">Source</a> <a href="#v:genSlotRange" class="selflink">#</a></p><div class="doc"><p>Generate a <code>SlotRange</code> where the lower bound if less or equal than the
 upper bound.</p></div></div><div class="top"><p class="src"><a id="v:genTimeRange" class="def">genTimeRange</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m, MonadGen m) =&gt; <a href="Cardano-Node-Emulator-Internal-Node-TimeSlot.html#t:SlotConfig" title="Cardano.Node.Emulator.Internal.Node.TimeSlot">SlotConfig</a> -&gt; m POSIXTimeRange <a href="src/Cardano.Node.Emulator.Generators.html#genTimeRange" class="link">Source</a> <a href="#v:genTimeRange" class="selflink">#</a></p><div class="doc"><p>Generate a <code>POSIXTimeRange</code> where the lower bound if less or equal than the
 upper bound.</p></div></div><div class="top"><p class="src"><a id="v:genSlot" class="def">genSlot</a> :: MonadGen m =&gt; m Slot <a href="src/Cardano.Node.Emulator.Generators.html#genSlot" class="link">Source</a> <a href="#v:genSlot" class="selflink">#</a></p><div class="doc"><p>Generate a <code>Slot</code> where the lowest slot number is 0.</p></div></div><div class="top"><p class="src"><a id="v:genPOSIXTime" class="def">genPOSIXTime</a> :: MonadGen m =&gt; <a href="Cardano-Node-Emulator-Internal-Node-TimeSlot.html#t:SlotConfig" title="Cardano.Node.Emulator.Internal.Node.TimeSlot">SlotConfig</a> -&gt; m POSIXTime <a href="src/Cardano.Node.Emulator.Generators.html#genPOSIXTime" class="link">Source</a> <a href="#v:genPOSIXTime" class="selflink">#</a></p><div class="doc"><p>Generate a <code>POSIXTime</code> where the lowest value is <code>scSlotZeroTime</code> given a
 <code><a href="Cardano-Node-Emulator-Internal-Node-TimeSlot.html#t:SlotConfig" title="Cardano.Node.Emulator.Internal.Node.TimeSlot">SlotConfig</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:genSlotConfig" class="def">genSlotConfig</a> :: MonadGen m =&gt; m <a href="Cardano-Node-Emulator-Internal-Node-TimeSlot.html#t:SlotConfig" title="Cardano.Node.Emulator.Internal.Node.TimeSlot">SlotConfig</a> <a href="src/Cardano.Node.Emulator.Generators.html#genSlotConfig" class="link">Source</a> <a href="#v:genSlotConfig" class="selflink">#</a></p><div class="doc"><p>Generate a <code><a href="Cardano-Node-Emulator-Internal-Node-TimeSlot.html#t:SlotConfig" title="Cardano.Node.Emulator.Internal.Node.TimeSlot">SlotConfig</a></code> where the slot length goes from 1 to 100000
 ms and the time of Slot 0 is the default <code>scSlotZeroTime</code>.</p></div></div><a href="#g:5" id="g:5"><h1>Etc.</h1></a><div class="top"><p class="src"><a id="v:failOnCardanoError" class="def">failOnCardanoError</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> ToCardanoError a -&gt; m a <a href="src/Cardano.Node.Emulator.Generators.html#failOnCardanoError" class="link">Source</a> <a href="#v:failOnCardanoError" class="selflink">#</a></p><div class="doc"><p>Catch cardano error and fail wi it</p></div></div><div class="top"><p class="src"><a id="v:genPolicyId" class="def">genPolicyId</a> :: Gen PolicyId <a href="src/Cardano.Node.Emulator.Generators.html#genPolicyId" class="link">Source</a> <a href="#v:genPolicyId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:genAssetId" class="def">genAssetId</a> :: Gen AssetId <a href="src/Cardano.Node.Emulator.Generators.html#genAssetId" class="link">Source</a> <a href="#v:genAssetId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:genAssetName" class="def">genAssetName</a> :: Gen AssetName <a href="#v:genAssetName" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:genSingleton" class="def">genSingleton</a> :: Range <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Integer" title="Prelude">Integer</a> -&gt; Gen Value <a href="src/Cardano.Node.Emulator.Generators.html#genSingleton" class="link">Source</a> <a href="#v:genSingleton" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:genValue" class="def">genValue</a> :: Gen Value <a href="src/Cardano.Node.Emulator.Generators.html#genValue" class="link">Source</a> <a href="#v:genValue" class="selflink">#</a></p><div class="doc"><p>Generate a <code>Value</code> with a value range of <code>minBound .. maxBound</code>.</p></div></div><div class="top"><p class="src"><a id="v:genValueNonNegative" class="def">genValueNonNegative</a> :: Gen Value <a href="src/Cardano.Node.Emulator.Generators.html#genValueNonNegative" class="link">Source</a> <a href="#v:genValueNonNegative" class="selflink">#</a></p><div class="doc"><p>Generate a <code>Value</code> with a value range of <code>0 .. maxBound</code>.</p></div></div><div class="top"><p class="src"><a id="v:genSizedByteString" class="def">genSizedByteString</a> :: <span class="keyword">forall</span> m. MonadGen m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m ByteString <a href="src/Cardano.Node.Emulator.Generators.html#genSizedByteString" class="link">Source</a> <a href="#v:genSizedByteString" class="selflink">#</a></p><div class="doc"><p>Generate a 'ByteString s' of up to <code>s</code> bytes.</p></div></div><div class="top"><p class="src"><a id="v:genSeed" class="def">genSeed</a> :: MonadGen m =&gt; m ByteString <a href="src/Cardano.Node.Emulator.Generators.html#genSeed" class="link">Source</a> <a href="#v:genSeed" class="selflink">#</a></p><div class="doc"><p>Seed suitable for testing a seed but not for actual wallets as ScrubbedBytes isn't used to ensure
  memory isn't inspectable</p></div></div><div class="top"><p class="src"><a id="v:genPassphrase" class="def">genPassphrase</a> :: MonadGen m =&gt; m Passphrase <a href="src/Cardano.Node.Emulator.Generators.html#genPassphrase" class="link">Source</a> <a href="#v:genPassphrase" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:splitVal" class="def">splitVal</a> :: (MonadGen m, <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Integral" title="Prelude">Integral</a> n) =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; n -&gt; m [n] <a href="src/Cardano.Node.Emulator.Generators.html#splitVal" class="link">Source</a> <a href="#v:splitVal" class="selflink">#</a></p><div class="doc"><p>Split a value into max. n positive-valued parts such that the sum of the
     parts equals the original value. Each part should contain the required
     minimum amount of Ada.</p><p>I noticed how for values of <code>mx</code> &gt; 1000 the resulting lists are much smaller than
     one would expect. I think this may be caused by the way we select the next value
     for the split. It looks like the available funds get exhausted quite fast, which
     makes the function return before generating anything close to <code>mx</code> values.</p></div></div><div class="top"><p class="src"><a id="v:validateMockchain" class="def">validateMockchain</a> :: <a href="Cardano-Node-Emulator-Generators.html#t:Mockchain" title="Cardano.Node.Emulator.Generators">Mockchain</a> -&gt; CardanoTx -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ValidationErrorInPhase <a href="src/Cardano.Node.Emulator.Generators.html#validateMockchain" class="link">Source</a> <a href="#v:validateMockchain" class="selflink">#</a></p><div class="doc"><p>Validate a transaction in a mockchain.</p></div></div><div class="top"><p class="src"><a id="v:signAll" class="def">signAll</a> :: CardanoTx -&gt; CardanoTx <a href="src/Cardano.Node.Emulator.Generators.html#signAll" class="link">Source</a> <a href="#v:signAll" class="selflink">#</a></p><div class="doc"><p>Attach signatures of all known private keys to a transaction.</p></div></div><div class="top"><p class="src"><a id="v:knownAddresses" class="def">knownAddresses</a> :: [CardanoAddress] <a href="#v:knownAddresses" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:knownPaymentPublicKeys" class="def">knownPaymentPublicKeys</a> :: [PaymentPubKey] <a href="#v:knownPaymentPublicKeys" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:knownPaymentPrivateKeys" class="def">knownPaymentPrivateKeys</a> :: [PaymentPrivateKey] <a href="#v:knownPaymentPrivateKeys" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:knownPaymentKeys" class="def">knownPaymentKeys</a> :: Map PaymentPubKey PaymentPrivateKey <a href="#v:knownPaymentKeys" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:knownXPrvs" class="def">knownXPrvs</a> :: [XPrv] <a href="src/Cardano.Node.Emulator.Generators.html#knownXPrvs" class="link">Source</a> <a href="#v:knownXPrvs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:alwaysSucceedPolicy" class="def">alwaysSucceedPolicy</a> :: MintingPolicy <a href="src/Cardano.Node.Emulator.Generators.html#alwaysSucceedPolicy" class="link">Source</a> <a href="#v:alwaysSucceedPolicy" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:alwaysSucceedPolicyId" class="def">alwaysSucceedPolicyId</a> :: PolicyId <a href="src/Cardano.Node.Emulator.Generators.html#alwaysSucceedPolicyId" class="link">Source</a> <a href="#v:alwaysSucceedPolicyId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:someTokenValue" class="def">someTokenValue</a> :: AssetName -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Integer" title="Prelude">Integer</a> -&gt; Value <a href="src/Cardano.Node.Emulator.Generators.html#someTokenValue" class="link">Source</a> <a href="#v:someTokenValue" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:emptyTxBodyContent" class="def">emptyTxBodyContent</a> :: TxBodyContent BuildTx BabbageEra <a href="#v:emptyTxBodyContent" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>