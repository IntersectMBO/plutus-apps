<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DeriveAnyClass     #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DerivingStrategies #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns     #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings  #-}</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-orphans #-}</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-comment">{-|
This module contains functions related to versioning scripts and BuiltinData, or more specifially,
'Datum's and 'Redeemer's. These functions do not depend on a particular version of Plutus.
-}</span><span>
</span><span id="line-12"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Plutus.Script.Utils.Scripts</span><span>
</span><span id="line-13"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Plutus language versioning</span></span><span>
</span><span id="line-14"></span><span>      </span><span class="annot"><span class="hs-identifier">Language</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#Versioned"><span class="hs-identifier">Versioned</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span>      </span><span class="annot"><span class="hs-comment">-- * Script hashing</span></span><span>
</span><span id="line-17"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#scriptHash"><span class="hs-identifier">scriptHash</span></a></span><span>
</span><span id="line-18"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#validatorHash"><span class="hs-identifier">validatorHash</span></a></span><span>
</span><span id="line-19"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#mintingPolicyHash"><span class="hs-identifier">mintingPolicyHash</span></a></span><span>
</span><span id="line-20"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#stakeValidatorHash"><span class="hs-identifier">stakeValidatorHash</span></a></span><span>
</span><span id="line-21"></span><span>      </span><span class="annot"><span class="hs-comment">-- * Script utilities</span></span><span>
</span><span id="line-22"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#scriptCurrencySymbol"><span class="hs-identifier">scriptCurrencySymbol</span></a></span><span>
</span><span id="line-23"></span><span>      </span><span class="annot"><span class="hs-comment">-- * Script data hashes</span></span><span>
</span><span id="line-24"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">PV1.Datum</span></span><span>
</span><span id="line-25"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">PV1.DatumHash</span></span><span>
</span><span id="line-26"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">PV1.Redeemer</span></span><span>
</span><span id="line-27"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">PV1.RedeemerHash</span></span><span>
</span><span id="line-28"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#datumHash"><span class="hs-identifier">datumHash</span></a></span><span>
</span><span id="line-29"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#redeemerHash"><span class="hs-identifier">redeemerHash</span></a></span><span>
</span><span id="line-30"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#dataHash"><span class="hs-identifier">dataHash</span></a></span><span>
</span><span id="line-31"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Api</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">C.Api</span></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Api.Shelley</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">C.Api</span></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Ledger.Alonzo.Language</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Language</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PlutusV1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">PlutusV2</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Codec.Serialise</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Serialise</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">serialise</span></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">FromJSON</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ToJSON</span></span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Lazy</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BSL</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Short</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SBS</span></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">GHC.Generics</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutus.V1.Ledger.Api</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PV1</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutus.V1.Ledger.Scripts</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PV1</span></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.Builtins</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Builtins</span></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prettyprinter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">pretty</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span id="local-6989586621679318853"><span id="local-6989586621679318855"><span id="local-6989586621679318857"><span id="local-6989586621679318859"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Serialise</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Language</span></span></span></span></span></span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679318849"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Language</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-49"></span><span>  </span><span id="local-6989586621679318847"><span class="annot"><span class="annottext">pretty :: Language -&gt; Doc ann
</span><a href="#local-6989586621679318847"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="annot"><span class="annottext">Language
</span><span class="hs-identifier hs-var">PlutusV1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Plutus V1&quot;</span></span><span>
</span><span id="line-50"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Language
</span><span class="hs-identifier hs-var">PlutusV2</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Plutus V2&quot;</span></span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span class="hs-comment">-- | A script of some kind with its Plutus language version</span><span>
</span><span id="line-53"></span><span id="local-6989586621679318845"><span id="local-6989586621679318846"></span></span><span class="hs-keyword">data</span><span> </span><span id="Versioned"><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#Versioned"><span class="hs-identifier hs-var">Versioned</span></a></span></span><span> </span><span id="local-6989586621679318916"><span class="annot"><a href="#local-6989586621679318916"><span class="hs-identifier hs-type">script</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Versioned"><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#Versioned"><span class="hs-identifier hs-var">Versioned</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unversioned"><span class="annot"><span class="annottext">Versioned script -&gt; script
</span><a href="Plutus.Script.Utils.Scripts.html#unversioned"><span class="hs-identifier hs-var hs-var">unversioned</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679318916"><span class="hs-identifier hs-type">script</span></a></span><span class="hs-special">,</span><span> </span><span id="version"><span class="annot"><span class="annottext">Versioned script -&gt; Language
</span><a href="Plutus.Script.Utils.Scripts.html#version"><span class="hs-identifier hs-var hs-var">version</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Language</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679318836"><span id="local-6989586621679318838"><span id="local-6989586621679318840"><span class="annot"><span class="annottext">Int -&gt; Versioned script -&gt; ShowS
[Versioned script] -&gt; ShowS
Versioned script -&gt; String
(Int -&gt; Versioned script -&gt; ShowS)
-&gt; (Versioned script -&gt; String)
-&gt; ([Versioned script] -&gt; ShowS)
-&gt; Show (Versioned script)
forall script. Show script =&gt; Int -&gt; Versioned script -&gt; ShowS
forall script. Show script =&gt; [Versioned script] -&gt; ShowS
forall script. Show script =&gt; Versioned script -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Versioned script] -&gt; ShowS
$cshowList :: forall script. Show script =&gt; [Versioned script] -&gt; ShowS
show :: Versioned script -&gt; String
$cshow :: forall script. Show script =&gt; Versioned script -&gt; String
showsPrec :: Int -&gt; Versioned script -&gt; ShowS
$cshowsPrec :: forall script. Show script =&gt; Int -&gt; Versioned script -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679318831"><span id="local-6989586621679318833"><span class="annot"><span class="annottext">Versioned script -&gt; Versioned script -&gt; Bool
(Versioned script -&gt; Versioned script -&gt; Bool)
-&gt; (Versioned script -&gt; Versioned script -&gt; Bool)
-&gt; Eq (Versioned script)
forall script.
Eq script =&gt;
Versioned script -&gt; Versioned script -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Versioned script -&gt; Versioned script -&gt; Bool
$c/= :: forall script.
Eq script =&gt;
Versioned script -&gt; Versioned script -&gt; Bool
== :: Versioned script -&gt; Versioned script -&gt; Bool
$c== :: forall script.
Eq script =&gt;
Versioned script -&gt; Versioned script -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679318815"><span id="local-6989586621679318817"><span id="local-6989586621679318819"><span id="local-6989586621679318821"><span id="local-6989586621679318823"><span id="local-6989586621679318825"><span id="local-6989586621679318827"><span class="annot"><span class="annottext">Eq (Versioned script)
Eq (Versioned script)
-&gt; (Versioned script -&gt; Versioned script -&gt; Ordering)
-&gt; (Versioned script -&gt; Versioned script -&gt; Bool)
-&gt; (Versioned script -&gt; Versioned script -&gt; Bool)
-&gt; (Versioned script -&gt; Versioned script -&gt; Bool)
-&gt; (Versioned script -&gt; Versioned script -&gt; Bool)
-&gt; (Versioned script -&gt; Versioned script -&gt; Versioned script)
-&gt; (Versioned script -&gt; Versioned script -&gt; Versioned script)
-&gt; Ord (Versioned script)
Versioned script -&gt; Versioned script -&gt; Bool
Versioned script -&gt; Versioned script -&gt; Ordering
Versioned script -&gt; Versioned script -&gt; Versioned script
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall script. Ord script =&gt; Eq (Versioned script)
forall script.
Ord script =&gt;
Versioned script -&gt; Versioned script -&gt; Bool
forall script.
Ord script =&gt;
Versioned script -&gt; Versioned script -&gt; Ordering
forall script.
Ord script =&gt;
Versioned script -&gt; Versioned script -&gt; Versioned script
min :: Versioned script -&gt; Versioned script -&gt; Versioned script
$cmin :: forall script.
Ord script =&gt;
Versioned script -&gt; Versioned script -&gt; Versioned script
max :: Versioned script -&gt; Versioned script -&gt; Versioned script
$cmax :: forall script.
Ord script =&gt;
Versioned script -&gt; Versioned script -&gt; Versioned script
&gt;= :: Versioned script -&gt; Versioned script -&gt; Bool
$c&gt;= :: forall script.
Ord script =&gt;
Versioned script -&gt; Versioned script -&gt; Bool
&gt; :: Versioned script -&gt; Versioned script -&gt; Bool
$c&gt; :: forall script.
Ord script =&gt;
Versioned script -&gt; Versioned script -&gt; Bool
&lt;= :: Versioned script -&gt; Versioned script -&gt; Bool
$c&lt;= :: forall script.
Ord script =&gt;
Versioned script -&gt; Versioned script -&gt; Bool
&lt; :: Versioned script -&gt; Versioned script -&gt; Bool
$c&lt; :: forall script.
Ord script =&gt;
Versioned script -&gt; Versioned script -&gt; Bool
compare :: Versioned script -&gt; Versioned script -&gt; Ordering
$ccompare :: forall script.
Ord script =&gt;
Versioned script -&gt; Versioned script -&gt; Ordering
$cp1Ord :: forall script. Ord script =&gt; Eq (Versioned script)
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679318810"><span id="local-6989586621679318812"><span class="annot"><span class="annottext">a -&gt; Versioned b -&gt; Versioned a
(a -&gt; b) -&gt; Versioned a -&gt; Versioned b
(forall a b. (a -&gt; b) -&gt; Versioned a -&gt; Versioned b)
-&gt; (forall a b. a -&gt; Versioned b -&gt; Versioned a)
-&gt; Functor Versioned
forall a b. a -&gt; Versioned b -&gt; Versioned a
forall a b. (a -&gt; b) -&gt; Versioned a -&gt; Versioned b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: a -&gt; Versioned b -&gt; Versioned a
$c&lt;$ :: forall a b. a -&gt; Versioned b -&gt; Versioned a
fmap :: (a -&gt; b) -&gt; Versioned a -&gt; Versioned b
$cfmap :: forall a b. (a -&gt; b) -&gt; Versioned a -&gt; Versioned b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. Versioned script -&gt; Rep (Versioned script) x)
-&gt; (forall x. Rep (Versioned script) x -&gt; Versioned script)
-&gt; Generic (Versioned script)
forall x. Rep (Versioned script) x -&gt; Versioned script
forall x. Versioned script -&gt; Rep (Versioned script) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall script x. Rep (Versioned script) x -&gt; Versioned script
forall script x. Versioned script -&gt; Rep (Versioned script) x
$cto :: forall script x. Rep (Versioned script) x -&gt; Versioned script
$cfrom :: forall script x. Versioned script -&gt; Rep (Versioned script) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679318798"><span id="local-6989586621679318800"><span id="local-6989586621679318802"><span id="local-6989586621679318804"><span class="annot"><span class="annottext">[Versioned script] -&gt; Encoding
[Versioned script] -&gt; Value
Versioned script -&gt; Encoding
Versioned script -&gt; Value
(Versioned script -&gt; Value)
-&gt; (Versioned script -&gt; Encoding)
-&gt; ([Versioned script] -&gt; Value)
-&gt; ([Versioned script] -&gt; Encoding)
-&gt; ToJSON (Versioned script)
forall script. ToJSON script =&gt; [Versioned script] -&gt; Encoding
forall script. ToJSON script =&gt; [Versioned script] -&gt; Value
forall script. ToJSON script =&gt; Versioned script -&gt; Encoding
forall script. ToJSON script =&gt; Versioned script -&gt; Value
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [Versioned script] -&gt; Encoding
$ctoEncodingList :: forall script. ToJSON script =&gt; [Versioned script] -&gt; Encoding
toJSONList :: [Versioned script] -&gt; Value
$ctoJSONList :: forall script. ToJSON script =&gt; [Versioned script] -&gt; Value
toEncoding :: Versioned script -&gt; Encoding
$ctoEncoding :: forall script. ToJSON script =&gt; Versioned script -&gt; Encoding
toJSON :: Versioned script -&gt; Value
$ctoJSON :: forall script. ToJSON script =&gt; Versioned script -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679318793"><span id="local-6989586621679318795"><span class="annot"><span class="annottext">Value -&gt; Parser [Versioned script]
Value -&gt; Parser (Versioned script)
(Value -&gt; Parser (Versioned script))
-&gt; (Value -&gt; Parser [Versioned script])
-&gt; FromJSON (Versioned script)
forall script.
FromJSON script =&gt;
Value -&gt; Parser [Versioned script]
forall script.
FromJSON script =&gt;
Value -&gt; Parser (Versioned script)
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [Versioned script]
$cparseJSONList :: forall script.
FromJSON script =&gt;
Value -&gt; Parser [Versioned script]
parseJSON :: Value -&gt; Parser (Versioned script)
$cparseJSON :: forall script.
FromJSON script =&gt;
Value -&gt; Parser (Versioned script)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679318784"><span id="local-6989586621679318786"><span id="local-6989586621679318788"><span id="local-6989586621679318790"><span class="annot"><span class="annottext">[Versioned script] -&gt; Encoding
Versioned script -&gt; Encoding
(Versioned script -&gt; Encoding)
-&gt; (forall s. Decoder s (Versioned script))
-&gt; ([Versioned script] -&gt; Encoding)
-&gt; (forall s. Decoder s [Versioned script])
-&gt; Serialise (Versioned script)
forall s. Decoder s [Versioned script]
forall s. Decoder s (Versioned script)
forall script. Serialise script =&gt; [Versioned script] -&gt; Encoding
forall script. Serialise script =&gt; Versioned script -&gt; Encoding
forall script s. Serialise script =&gt; Decoder s [Versioned script]
forall script s. Serialise script =&gt; Decoder s (Versioned script)
forall a.
(a -&gt; Encoding)
-&gt; (forall s. Decoder s a)
-&gt; ([a] -&gt; Encoding)
-&gt; (forall s. Decoder s [a])
-&gt; Serialise a
decodeList :: Decoder s [Versioned script]
$cdecodeList :: forall script s. Serialise script =&gt; Decoder s [Versioned script]
encodeList :: [Versioned script] -&gt; Encoding
$cencodeList :: forall script. Serialise script =&gt; [Versioned script] -&gt; Encoding
decode :: Decoder s (Versioned script)
$cdecode :: forall script s. Serialise script =&gt; Decoder s (Versioned script)
encode :: Versioned script -&gt; Encoding
$cencode :: forall script. Serialise script =&gt; Versioned script -&gt; Encoding
</span><a href="#local-6989586621679318784"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Serialise</span></a></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span id="local-6989586621679318783"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679318780"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="#local-6989586621679318783"><span class="hs-identifier hs-type">script</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#Versioned"><span class="hs-identifier hs-type">Versioned</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679318783"><span class="hs-identifier hs-type">script</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-58"></span><span>    </span><span id="local-6989586621679318779"><span class="annot"><span class="annottext">pretty :: Versioned script -&gt; Doc ann
</span><a href="#local-6989586621679318779"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#Versioned"><span class="hs-identifier hs-type">Versioned</span></a></span><span class="hs-special">{</span><span id="local-6989586621679318778"><span class="annot"><span class="annottext">script
unversioned :: script
unversioned :: forall script. Versioned script -&gt; script
</span><a href="#local-6989586621679318778"><span class="hs-identifier hs-var hs-var">unversioned</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679318777"><span class="annot"><span class="annottext">Language
version :: Language
version :: forall script. Versioned script -&gt; Language
</span><a href="#local-6989586621679318777"><span class="hs-identifier hs-var hs-var">version</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">script -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">script
</span><a href="#local-6989586621679318778"><span class="hs-identifier hs-var">unversioned</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot; (&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Language -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621679318777"><span class="hs-identifier hs-var">version</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;)&quot;</span></span></span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span class="hs-comment">-- | Hash a 'Versioned' 'Script'</span><span>
</span><span id="line-61"></span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#scriptHash"><span class="hs-identifier hs-type">scriptHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#Versioned"><span class="hs-identifier hs-type">Versioned</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PV1.Script</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PV1.ScriptHash</span></span><span>
</span><span id="line-62"></span><span id="scriptHash"><span class="annot"><span class="annottext">scriptHash :: Versioned Script -&gt; ScriptHash
</span><a href="Plutus.Script.Utils.Scripts.html#scriptHash"><span class="hs-identifier hs-var hs-var">scriptHash</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#Versioned"><span class="hs-identifier hs-type">Versioned</span></a></span><span> </span><span id="local-6989586621679318776"><span class="annot"><span class="annottext">Script
</span><a href="#local-6989586621679318776"><span class="hs-identifier hs-var">script</span></a></span></span><span> </span><span id="local-6989586621679318775"><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621679318775"><span class="hs-identifier hs-var">lang</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-63"></span><span>    </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; ScriptHash
</span><span class="hs-identifier hs-var">PV1.ScriptHash</span></span><span>
</span><span id="line-64"></span><span>    </span><span class="annot"><span class="annottext">(BuiltinByteString -&gt; ScriptHash)
-&gt; (Script -&gt; BuiltinByteString) -&gt; Script -&gt; ScriptHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; BuiltinByteString
forall a arep. ToBuiltin a arep =&gt; a -&gt; arep
</span><span class="hs-identifier hs-var">Builtins.toBuiltin</span></span><span>
</span><span id="line-65"></span><span>    </span><span class="annot"><span class="annottext">(ByteString -&gt; BuiltinByteString)
-&gt; (Script -&gt; ByteString) -&gt; Script -&gt; BuiltinByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptHash -&gt; ByteString
forall a. SerialiseAsRawBytes a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">C.Api.serialiseToRawBytes</span></span><span>
</span><span id="line-66"></span><span>    </span><span class="annot"><span class="annottext">(ScriptHash -&gt; ByteString)
-&gt; (Script -&gt; ScriptHash) -&gt; Script -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Language -&gt; ShortByteString -&gt; ScriptHash
</span><a href="#local-6989586621679318770"><span class="hs-identifier hs-var">hashInner</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621679318775"><span class="hs-identifier hs-var">lang</span></a></span><span>
</span><span id="line-67"></span><span>    </span><span class="annot"><span class="annottext">(ShortByteString -&gt; ScriptHash)
-&gt; (Script -&gt; ShortByteString) -&gt; Script -&gt; ScriptHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ShortByteString
</span><span class="hs-identifier hs-var">SBS.toShort</span></span><span>
</span><span id="line-68"></span><span>    </span><span class="annot"><span class="annottext">(ByteString -&gt; ShortByteString)
-&gt; (Script -&gt; ByteString) -&gt; Script -&gt; ShortByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">BSL.toStrict</span></span><span>
</span><span id="line-69"></span><span>    </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (Script -&gt; ByteString) -&gt; Script -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Script -&gt; ByteString
forall a. Serialise a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">serialise</span></span><span>
</span><span id="line-70"></span><span>    </span><span class="annot"><span class="annottext">(Script -&gt; ScriptHash) -&gt; Script -&gt; ScriptHash
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Script
</span><a href="#local-6989586621679318776"><span class="hs-identifier hs-var">script</span></a></span><span>
</span><span id="line-71"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-72"></span><span>      </span><span id="local-6989586621679318770"><span class="annot"><span class="annottext">hashInner :: Language -&gt; ShortByteString -&gt; ScriptHash
</span><a href="#local-6989586621679318770"><span class="hs-identifier hs-var hs-var">hashInner</span></a></span></span><span> </span><span class="annot"><span class="annottext">Language
</span><span class="hs-identifier hs-var">PlutusV1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Script PlutusScriptV1 -&gt; ScriptHash
forall lang. Script lang -&gt; ScriptHash
</span><span class="hs-identifier hs-var">C.Api.hashScript</span></span><span> </span><span class="annot"><span class="annottext">(Script PlutusScriptV1 -&gt; ScriptHash)
-&gt; (ShortByteString -&gt; Script PlutusScriptV1)
-&gt; ShortByteString
-&gt; ScriptHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusScriptVersion PlutusScriptV1
-&gt; PlutusScript PlutusScriptV1 -&gt; Script PlutusScriptV1
forall lang.
PlutusScriptVersion lang -&gt; PlutusScript lang -&gt; Script lang
</span><span class="hs-identifier hs-var">C.Api.PlutusScript</span></span><span> </span><span class="annot"><span class="annottext">PlutusScriptVersion PlutusScriptV1
</span><span class="hs-identifier hs-var">C.Api.PlutusScriptV1</span></span><span> </span><span class="annot"><span class="annottext">(PlutusScript PlutusScriptV1 -&gt; Script PlutusScriptV1)
-&gt; (ShortByteString -&gt; PlutusScript PlutusScriptV1)
-&gt; ShortByteString
-&gt; Script PlutusScriptV1
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ShortByteString -&gt; PlutusScript PlutusScriptV1
forall lang. ShortByteString -&gt; PlutusScript lang
</span><span class="hs-identifier hs-var">C.Api.PlutusScriptSerialised</span></span><span>
</span><span id="line-73"></span><span>      </span><span class="annot"><a href="#local-6989586621679318770"><span class="hs-identifier hs-var">hashInner</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><span class="hs-identifier hs-var">PlutusV2</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Script PlutusScriptV2 -&gt; ScriptHash
forall lang. Script lang -&gt; ScriptHash
</span><span class="hs-identifier hs-var">C.Api.hashScript</span></span><span> </span><span class="annot"><span class="annottext">(Script PlutusScriptV2 -&gt; ScriptHash)
-&gt; (ShortByteString -&gt; Script PlutusScriptV2)
-&gt; ShortByteString
-&gt; ScriptHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusScriptVersion PlutusScriptV2
-&gt; PlutusScript PlutusScriptV2 -&gt; Script PlutusScriptV2
forall lang.
PlutusScriptVersion lang -&gt; PlutusScript lang -&gt; Script lang
</span><span class="hs-identifier hs-var">C.Api.PlutusScript</span></span><span> </span><span class="annot"><span class="annottext">PlutusScriptVersion PlutusScriptV2
</span><span class="hs-identifier hs-var">C.Api.PlutusScriptV2</span></span><span> </span><span class="annot"><span class="annottext">(PlutusScript PlutusScriptV2 -&gt; Script PlutusScriptV2)
-&gt; (ShortByteString -&gt; PlutusScript PlutusScriptV2)
-&gt; ShortByteString
-&gt; Script PlutusScriptV2
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ShortByteString -&gt; PlutusScript PlutusScriptV2
forall lang. ShortByteString -&gt; PlutusScript lang
</span><span class="hs-identifier hs-var">C.Api.PlutusScriptSerialised</span></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-comment">-- | Hash a 'Versioned' 'PV1.Validator' script.</span><span>
</span><span id="line-76"></span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#validatorHash"><span class="hs-identifier hs-type">validatorHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#Versioned"><span class="hs-identifier hs-type">Versioned</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PV1.Validator</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PV1.ValidatorHash</span></span><span>
</span><span id="line-77"></span><span id="validatorHash"><span class="annot"><span class="annottext">validatorHash :: Versioned Validator -&gt; ValidatorHash
</span><a href="Plutus.Script.Utils.Scripts.html#validatorHash"><span class="hs-identifier hs-var hs-var">validatorHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-78"></span><span>    </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; ValidatorHash
</span><span class="hs-identifier hs-var">PV1.ValidatorHash</span></span><span>
</span><span id="line-79"></span><span>  </span><span class="annot"><span class="annottext">(BuiltinByteString -&gt; ValidatorHash)
-&gt; (Versioned Validator -&gt; BuiltinByteString)
-&gt; Versioned Validator
-&gt; ValidatorHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptHash -&gt; BuiltinByteString
</span><span class="hs-identifier hs-var hs-var">PV1.getScriptHash</span></span><span>
</span><span id="line-80"></span><span>  </span><span class="annot"><span class="annottext">(ScriptHash -&gt; BuiltinByteString)
-&gt; (Versioned Validator -&gt; ScriptHash)
-&gt; Versioned Validator
-&gt; BuiltinByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Versioned Script -&gt; ScriptHash
</span><a href="Plutus.Script.Utils.Scripts.html#scriptHash"><span class="hs-identifier hs-var">scriptHash</span></a></span><span>
</span><span id="line-81"></span><span>  </span><span class="annot"><span class="annottext">(Versioned Script -&gt; ScriptHash)
-&gt; (Versioned Validator -&gt; Versioned Script)
-&gt; Versioned Validator
-&gt; ScriptHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Validator -&gt; Script) -&gt; Versioned Validator -&gt; Versioned Script
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Validator -&gt; Script
</span><span class="hs-identifier hs-var hs-var">PV1.getValidator</span></span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span class="hs-comment">-- | Hash a 'Versioned' 'PV1.MintingPolicy' script.</span><span>
</span><span id="line-84"></span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#mintingPolicyHash"><span class="hs-identifier hs-type">mintingPolicyHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#Versioned"><span class="hs-identifier hs-type">Versioned</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PV1.MintingPolicy</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PV1.MintingPolicyHash</span></span><span>
</span><span id="line-85"></span><span id="mintingPolicyHash"><span class="annot"><span class="annottext">mintingPolicyHash :: Versioned MintingPolicy -&gt; MintingPolicyHash
</span><a href="Plutus.Script.Utils.Scripts.html#mintingPolicyHash"><span class="hs-identifier hs-var hs-var">mintingPolicyHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-86"></span><span>    </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; MintingPolicyHash
</span><span class="hs-identifier hs-var">PV1.MintingPolicyHash</span></span><span>
</span><span id="line-87"></span><span>  </span><span class="annot"><span class="annottext">(BuiltinByteString -&gt; MintingPolicyHash)
-&gt; (Versioned MintingPolicy -&gt; BuiltinByteString)
-&gt; Versioned MintingPolicy
-&gt; MintingPolicyHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptHash -&gt; BuiltinByteString
</span><span class="hs-identifier hs-var hs-var">PV1.getScriptHash</span></span><span>
</span><span id="line-88"></span><span>  </span><span class="annot"><span class="annottext">(ScriptHash -&gt; BuiltinByteString)
-&gt; (Versioned MintingPolicy -&gt; ScriptHash)
-&gt; Versioned MintingPolicy
-&gt; BuiltinByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Versioned Script -&gt; ScriptHash
</span><a href="Plutus.Script.Utils.Scripts.html#scriptHash"><span class="hs-identifier hs-var">scriptHash</span></a></span><span>
</span><span id="line-89"></span><span>  </span><span class="annot"><span class="annottext">(Versioned Script -&gt; ScriptHash)
-&gt; (Versioned MintingPolicy -&gt; Versioned Script)
-&gt; Versioned MintingPolicy
-&gt; ScriptHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(MintingPolicy -&gt; Script)
-&gt; Versioned MintingPolicy -&gt; Versioned Script
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">MintingPolicy -&gt; Script
</span><span class="hs-identifier hs-var hs-var">PV1.getMintingPolicy</span></span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="hs-comment">-- | Hash a 'Versioned' 'PV1.StakeValidator' script.</span><span>
</span><span id="line-92"></span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#stakeValidatorHash"><span class="hs-identifier hs-type">stakeValidatorHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#Versioned"><span class="hs-identifier hs-type">Versioned</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PV1.StakeValidator</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PV1.StakeValidatorHash</span></span><span>
</span><span id="line-93"></span><span id="stakeValidatorHash"><span class="annot"><span class="annottext">stakeValidatorHash :: Versioned StakeValidator -&gt; StakeValidatorHash
</span><a href="Plutus.Script.Utils.Scripts.html#stakeValidatorHash"><span class="hs-identifier hs-var hs-var">stakeValidatorHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-94"></span><span>    </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; StakeValidatorHash
</span><span class="hs-identifier hs-var">PV1.StakeValidatorHash</span></span><span>
</span><span id="line-95"></span><span>  </span><span class="annot"><span class="annottext">(BuiltinByteString -&gt; StakeValidatorHash)
-&gt; (Versioned StakeValidator -&gt; BuiltinByteString)
-&gt; Versioned StakeValidator
-&gt; StakeValidatorHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptHash -&gt; BuiltinByteString
</span><span class="hs-identifier hs-var hs-var">PV1.getScriptHash</span></span><span>
</span><span id="line-96"></span><span>  </span><span class="annot"><span class="annottext">(ScriptHash -&gt; BuiltinByteString)
-&gt; (Versioned StakeValidator -&gt; ScriptHash)
-&gt; Versioned StakeValidator
-&gt; BuiltinByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Versioned Script -&gt; ScriptHash
</span><a href="Plutus.Script.Utils.Scripts.html#scriptHash"><span class="hs-identifier hs-var">scriptHash</span></a></span><span>
</span><span id="line-97"></span><span>  </span><span class="annot"><span class="annottext">(Versioned Script -&gt; ScriptHash)
-&gt; (Versioned StakeValidator -&gt; Versioned Script)
-&gt; Versioned StakeValidator
-&gt; ScriptHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(StakeValidator -&gt; Script)
-&gt; Versioned StakeValidator -&gt; Versioned Script
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">StakeValidator -&gt; Script
</span><span class="hs-identifier hs-var hs-var">PV1.getStakeValidator</span></span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#scriptCurrencySymbol"><span class="hs-pragma hs-type">scriptCurrencySymbol</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-100"></span><span class="hs-comment">-- | The 'CurrencySymbol' of a 'MintingPolicy'.</span><span>
</span><span id="line-101"></span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#scriptCurrencySymbol"><span class="hs-identifier hs-type">scriptCurrencySymbol</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#Versioned"><span class="hs-identifier hs-type">Versioned</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PV1.MintingPolicy</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PV1.CurrencySymbol</span></span><span>
</span><span id="line-102"></span><span id="scriptCurrencySymbol"><span class="annot"><span class="annottext">scriptCurrencySymbol :: Versioned MintingPolicy -&gt; CurrencySymbol
</span><a href="Plutus.Script.Utils.Scripts.html#scriptCurrencySymbol"><span class="hs-identifier hs-var hs-var">scriptCurrencySymbol</span></a></span></span><span> </span><span id="local-6989586621679318755"><span class="annot"><span class="annottext">Versioned MintingPolicy
</span><a href="#local-6989586621679318755"><span class="hs-identifier hs-var">scrpt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-103"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PV1.MintingPolicyHash</span></span><span> </span><span id="local-6989586621679318754"><span class="annot"><span class="annottext">BuiltinByteString
</span><a href="#local-6989586621679318754"><span class="hs-identifier hs-var">hsh</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Versioned MintingPolicy -&gt; MintingPolicyHash
</span><a href="Plutus.Script.Utils.Scripts.html#mintingPolicyHash"><span class="hs-identifier hs-var">mintingPolicyHash</span></a></span><span> </span><span class="annot"><span class="annottext">Versioned MintingPolicy
</span><a href="#local-6989586621679318755"><span class="hs-identifier hs-var">scrpt</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; CurrencySymbol
</span><span class="hs-identifier hs-var">PV1.CurrencySymbol</span></span><span> </span><span class="annot"><span class="annottext">BuiltinByteString
</span><a href="#local-6989586621679318754"><span class="hs-identifier hs-var">hsh</span></a></span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="hs-comment">-- | Hash a 'PV1.Datum builtin data.</span><span>
</span><span id="line-106"></span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#datumHash"><span class="hs-identifier hs-type">datumHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PV1.Datum</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PV1.DatumHash</span></span><span>
</span><span id="line-107"></span><span id="datumHash"><span class="annot"><span class="annottext">datumHash :: Datum -&gt; DatumHash
</span><a href="Plutus.Script.Utils.Scripts.html#datumHash"><span class="hs-identifier hs-var hs-var">datumHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; DatumHash
</span><span class="hs-identifier hs-var">PV1.DatumHash</span></span><span> </span><span class="annot"><span class="annottext">(BuiltinByteString -&gt; DatumHash)
-&gt; (Datum -&gt; BuiltinByteString) -&gt; Datum -&gt; DatumHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">BuiltinData -&gt; BuiltinByteString
</span><a href="Plutus.Script.Utils.Scripts.html#dataHash"><span class="hs-identifier hs-var">dataHash</span></a></span><span> </span><span class="annot"><span class="annottext">(BuiltinData -&gt; BuiltinByteString)
-&gt; (Datum -&gt; BuiltinData) -&gt; Datum -&gt; BuiltinByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Datum -&gt; BuiltinData
</span><span class="hs-identifier hs-var hs-var">PV1.getDatum</span></span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="hs-comment">-- | Hash a 'PV1.Redeemer' builtin data.</span><span>
</span><span id="line-110"></span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#redeemerHash"><span class="hs-identifier hs-type">redeemerHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PV1.Redeemer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PV1.RedeemerHash</span></span><span>
</span><span id="line-111"></span><span id="redeemerHash"><span class="annot"><span class="annottext">redeemerHash :: Redeemer -&gt; RedeemerHash
</span><a href="Plutus.Script.Utils.Scripts.html#redeemerHash"><span class="hs-identifier hs-var hs-var">redeemerHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; RedeemerHash
</span><span class="hs-identifier hs-var">PV1.RedeemerHash</span></span><span> </span><span class="annot"><span class="annottext">(BuiltinByteString -&gt; RedeemerHash)
-&gt; (Redeemer -&gt; BuiltinByteString) -&gt; Redeemer -&gt; RedeemerHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">BuiltinData -&gt; BuiltinByteString
</span><a href="Plutus.Script.Utils.Scripts.html#dataHash"><span class="hs-identifier hs-var">dataHash</span></a></span><span> </span><span class="annot"><span class="annottext">(BuiltinData -&gt; BuiltinByteString)
-&gt; (Redeemer -&gt; BuiltinData) -&gt; Redeemer -&gt; BuiltinByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Redeemer -&gt; BuiltinData
</span><span class="hs-identifier hs-var hs-var">PV1.getRedeemer</span></span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span class="hs-comment">-- | Hash a 'Builtins.BuiltinData'</span><span>
</span><span id="line-114"></span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#dataHash"><span class="hs-identifier hs-type">dataHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Builtins.BuiltinData</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Builtins.BuiltinByteString</span></span><span>
</span><span id="line-115"></span><span id="dataHash"><span class="annot"><span class="annottext">dataHash :: BuiltinData -&gt; BuiltinByteString
</span><a href="Plutus.Script.Utils.Scripts.html#dataHash"><span class="hs-identifier hs-var hs-var">dataHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-116"></span><span>    </span><span class="annot"><span class="annottext">ByteString -&gt; BuiltinByteString
forall a arep. ToBuiltin a arep =&gt; a -&gt; arep
</span><span class="hs-identifier hs-var">Builtins.toBuiltin</span></span><span>
</span><span id="line-117"></span><span>    </span><span class="annot"><span class="annottext">(ByteString -&gt; BuiltinByteString)
-&gt; (BuiltinData -&gt; ByteString) -&gt; BuiltinData -&gt; BuiltinByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Hash ScriptData -&gt; ByteString
forall a. SerialiseAsRawBytes a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">C.Api.serialiseToRawBytes</span></span><span>
</span><span id="line-118"></span><span>    </span><span class="annot"><span class="annottext">(Hash ScriptData -&gt; ByteString)
-&gt; (BuiltinData -&gt; Hash ScriptData) -&gt; BuiltinData -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptData -&gt; Hash ScriptData
</span><span class="hs-identifier hs-var">C.Api.hashScriptData</span></span><span>
</span><span id="line-119"></span><span>    </span><span class="annot"><span class="annottext">(ScriptData -&gt; Hash ScriptData)
-&gt; (BuiltinData -&gt; ScriptData) -&gt; BuiltinData -&gt; Hash ScriptData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">BuiltinData -&gt; ScriptData
</span><a href="Plutus.Script.Utils.Scripts.html#toCardanoAPIData"><span class="hs-identifier hs-var">toCardanoAPIData</span></a></span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="hs-comment">-- | Convert a 'Builtins.BuiltinsData' value to a 'cardano-api' script</span><span>
</span><span id="line-122"></span><span class="hs-comment">--   data value.</span><span>
</span><span id="line-123"></span><span class="hs-comment">--</span><span>
</span><span id="line-124"></span><span class="hs-comment">-- For why we depend on `cardano-api`,</span><span>
</span><span id="line-125"></span><span class="hs-comment">-- see note [Hash computation of datums, redeemers and scripts]</span><span>
</span><span id="line-126"></span><span class="annot"><a href="Plutus.Script.Utils.Scripts.html#toCardanoAPIData"><span class="hs-identifier hs-type">toCardanoAPIData</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Builtins.BuiltinData</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">C.Api.ScriptData</span></span><span>
</span><span id="line-127"></span><span id="toCardanoAPIData"><span class="annot"><span class="annottext">toCardanoAPIData :: BuiltinData -&gt; ScriptData
</span><a href="Plutus.Script.Utils.Scripts.html#toCardanoAPIData"><span class="hs-identifier hs-var hs-var">toCardanoAPIData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Data -&gt; ScriptData
</span><span class="hs-identifier hs-var">C.Api.fromPlutusData</span></span><span> </span><span class="annot"><span class="annottext">(Data -&gt; ScriptData)
-&gt; (BuiltinData -&gt; Data) -&gt; BuiltinData -&gt; ScriptData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">BuiltinData -&gt; Data
</span><span class="hs-identifier hs-var">Builtins.builtinDataToData</span></span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span class="hs-comment">{- Note [Hash computation of datums, redeemers and scripts]

We have three options for computing the hash (each with advantages and drawbacks):

1- Depend on `cardano-api` and use it's `Scripts.hashScriptData` and `Scripts.hashScript`
functions.
The good: most simplest way to compute the hashes.
The bad: this package has an additional pretty large dependency.

2- Depend on `cardano-ledger` instead and use their `hashScriptData` and `hashScript`.
The good: smaller footprint than `cardano-api`.
The bad: a lower-lever library than `cardano-api`.

3- Depend on `cardano-crypto-class`, and reimplement ourselves the hashing functions
from `cardano-ledger`.
The good: the lowest dependency footprint.
The bad: code duplication.

However, we expect that most Plutus script devs depending on this package will
also probably depend on `cardano-api`, so the dependency on `cardano-api` should
(probably) be an non-issue.

If this becomes an issue, we'll change the implementation.
-}</span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span></pre></body></html>